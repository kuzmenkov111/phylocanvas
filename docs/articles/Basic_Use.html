<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Zach Chrlop-Powers" />

<meta name="date" content="2017-10-06" />

<title>Basic Use of Phylocanvas</title>

<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uIE9yLCBjYW4gYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoICJjb2RlIiBhbmQgImRhdGEiCiAgLy8gICBwcm9wZXJ0aWVzOyBpbiB0aGlzIGNhc2UsIHRoZSAiY29kZSIgcHJvcGVydHkgc2hvdWxkIGJlIGEgc3RyaW5nCiAgLy8gICBvZiBKUyB0aGF0J3MgYW4gZXhwciB0aGF0IHlpZWxkcyBhIGZ1bmN0aW9uLCBhbmQgImRhdGEiIHNob3VsZCBiZQogIC8vICAgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhZGRlZCBhcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IHdoZW4gdGhhdAogIC8vICAgZnVuY3Rpb24gaXMgY2FsbGVkLgogIC8vIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgInRoaXMiIGZvciBlYWNoIGZ1bmN0aW9uCiAgLy8gICBleGVjdXRpb24uCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlCiAgLy8gICBzYW1lIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgZnVuY3Rpb25zLikKICBmdW5jdGlvbiBldmFsQW5kUnVuKHRhc2tzLCB0YXJnZXQsIGFyZ3MpIHsKICAgIGlmICh0YXNrcykgewogICAgICBmb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7CiAgICAgICAgdmFyIHRoZXNlQXJncyA9IGFyZ3M7CiAgICAgICAgaWYgKHR5cGVvZih0YXNrKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRoZXNlQXJncyA9IHRoZXNlQXJncy5jb25jYXQoW3Rhc2suZGF0YV0pOwogICAgICAgICAgdGFzayA9IHRhc2suY29kZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRhc2tGdW5jID0gZXZhbCgiKCIgKyB0YXNrICsgIikiKTsKICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUYXNrIG11c3QgYmUgYSBmdW5jdGlvbiEgU291cmNlOlxuIiArIHRhc2spOwogICAgICAgIH0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIHRoZXNlQXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5pdFNpemluZyhlbCkgewogICAgdmFyIHNpemluZyA9IHNpemluZ1BvbGljeShlbCk7CiAgICBpZiAoIXNpemluZykKICAgICAgcmV0dXJuOwoKICAgIHZhciBjZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaHRtbHdpZGdldF9jb250YWluZXIiKTsKICAgIGlmICghY2VsKQogICAgICByZXR1cm47CgogICAgaWYgKHR5cGVvZihzaXppbmcucGFkZGluZykgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gIjAiOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmcgPSBwYWRkaW5nVG9Dc3ModW5wYWNrUGFkZGluZyhzaXppbmcucGFkZGluZykpOwogICAgfQoKICAgIGlmIChzaXppbmcuZmlsbCkgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIGlmIChjZWwpIHsKICAgICAgICBjZWwuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwogICAgICAgIHZhciBwYWQgPSB1bnBhY2tQYWRkaW5nKHNpemluZy5wYWRkaW5nKTsKICAgICAgICBjZWwuc3R5bGUudG9wID0gcGFkLnRvcCArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLnJpZ2h0ID0gcGFkLnJpZ2h0ICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUuYm90dG9tID0gcGFkLmJvdHRvbSArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLmxlZnQgPSBwYWQubGVmdCArICJweCI7CiAgICAgICAgZWwuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGdldFdpZHRoOiBmdW5jdGlvbigpIHsgcmV0dXJuIGNlbC5vZmZzZXRXaWR0aDsgfSwKICAgICAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2VsLm9mZnNldEhlaWdodDsgfQogICAgICB9OwoKICAgIH0gZWxzZSB7CiAgICAgIGVsLnN0eWxlLndpZHRoID0gcHgoc2l6aW5nLndpZHRoKTsKICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gcHgoc2l6aW5nLmhlaWdodCk7CgogICAgICByZXR1cm4gewogICAgICAgIGdldFdpZHRoOiBmdW5jdGlvbigpIHsgcmV0dXJuIGVsLm9mZnNldFdpZHRoOyB9LAogICAgICAgIGdldEhlaWdodDogZnVuY3Rpb24oKSB7IHJldHVybiBlbC5vZmZzZXRIZWlnaHQ7IH0KICAgICAgfTsKICAgIH0KICB9CgogIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb25zIGZvciBtZXRob2RzCiAgdmFyIGRlZmF1bHRzID0gewogICAgZmluZDogZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgcmV0dXJuIHF1ZXJ5U2VsZWN0b3JBbGwoc2NvcGUsICIuIiArIHRoaXMubmFtZSk7CiAgICB9LAogICAgcmVuZGVyRXJyb3I6IGZ1bmN0aW9uKGVsLCBlcnIpIHsKICAgICAgdmFyICRlbCA9ICQoZWwpOwoKICAgICAgdGhpcy5jbGVhckVycm9yKGVsKTsKCiAgICAgIC8vIEFkZCBhbGwgdGhlc2UgZXJyb3IgY2xhc3NlcywgYXMgU2hpbnkgZG9lcwogICAgICB2YXIgZXJyQ2xhc3MgPSAic2hpbnktb3V0cHV0LWVycm9yIjsKICAgICAgaWYgKGVyci50eXBlICE9PSBudWxsKSB7CiAgICAgICAgLy8gdXNlIHRoZSBjbGFzc2VzIG9mIHRoZSBlcnJvciBjb25kaXRpb24gYXMgQ1NTIGNsYXNzIG5hbWVzCiAgICAgICAgZXJyQ2xhc3MgPSBlcnJDbGFzcyArICIgIiArICQubWFwKGFzQXJyYXkoZXJyLnR5cGUpLCBmdW5jdGlvbih0eXBlKSB7CiAgICAgICAgICByZXR1cm4gZXJyQ2xhc3MgKyAiLSIgKyB0eXBlOwogICAgICAgIH0pLmpvaW4oIiAiKTsKICAgICAgfQogICAgICBlcnJDbGFzcyA9IGVyckNsYXNzICsgIiBodG1sd2lkZ2V0cy1lcnJvciI7CgogICAgICAvLyBJcyBlbCBpbmxpbmUgb3IgYmxvY2s/IElmIGlubGluZSBvciBpbmxpbmUtYmxvY2ssIGp1c3QgZGlzcGxheTpub25lIGl0CiAgICAgIC8vIGFuZCBhZGQgYW4gaW5saW5lIGVycm9yLgogICAgICB2YXIgZGlzcGxheSA9ICRlbC5jc3MoImRpc3BsYXkiKTsKICAgICAgJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIiwgZGlzcGxheSk7CgogICAgICBpZiAoZGlzcGxheSA9PT0gImlubGluZSIgfHwgZGlzcGxheSA9PT0gImlubGluZS1ibG9jayIpIHsKICAgICAgICAkZWwuaGlkZSgpOwogICAgICAgIGlmIChlcnIubWVzc2FnZSAhPT0gIiIpIHsKICAgICAgICAgIHZhciBlcnJvclNwYW4gPSAkKCI8c3Bhbj4iKS5hZGRDbGFzcyhlcnJDbGFzcyk7CiAgICAgICAgICBlcnJvclNwYW4udGV4dChlcnIubWVzc2FnZSk7CiAgICAgICAgICAkZWwuYWZ0ZXIoZXJyb3JTcGFuKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gImJsb2NrIikgewogICAgICAgIC8vIElmIGJsb2NrLCBhZGQgYW4gZXJyb3IganVzdCBhZnRlciB0aGUgZWwsIHNldCB2aXNpYmlsaXR5Om5vbmUgb24gdGhlCiAgICAgICAgLy8gZWwsIGFuZCBwb3NpdGlvbiB0aGUgZXJyb3IgdG8gYmUgb24gdG9wIG9mIHRoZSBlbC4KICAgICAgICAvLyBNYXJrIGl0IHdpdGggYSB1bmlxdWUgSUQgYW5kIENTUyBjbGFzcyBzbyB3ZSBjYW4gcmVtb3ZlIGl0IGxhdGVyLgogICAgICAgICRlbC5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7CiAgICAgICAgaWYgKGVyci5tZXNzYWdlICE9PSAiIikgewogICAgICAgICAgdmFyIGVycm9yRGl2ID0gJCgiPGRpdj4iKS5hZGRDbGFzcyhlcnJDbGFzcykuY3NzKCJwb3NpdGlvbiIsICJhYnNvbHV0ZSIpCiAgICAgICAgICAgIC5jc3MoInRvcCIsIGVsLm9mZnNldFRvcCkKICAgICAgICAgICAgLmNzcygibGVmdCIsIGVsLm9mZnNldExlZnQpCiAgICAgICAgICAgIC8vIHNldHRpbmcgd2lkdGggY2FuIHB1c2ggb3V0IHRoZSBwYWdlIHNpemUsIGZvcmNpbmcgb3RoZXJ3aXNlCiAgICAgICAgICAgIC8vIHVubmVjZXNzYXJ5IHNjcm9sbGJhcnMgdG8gYXBwZWFyIGFuZCBtYWtpbmcgaXQgaW1wb3NzaWJsZSBmb3IKICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgdG8gc2hyaW5rOyBzbyB1c2UgbWF4LXdpZHRoIGluc3RlYWQKICAgICAgICAgICAgLmNzcygibWF4V2lkdGgiLCBlbC5vZmZzZXRXaWR0aCkKICAgICAgICAgICAgLmNzcygiaGVpZ2h0IiwgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgIGVycm9yRGl2LnRleHQoZXJyLm1lc3NhZ2UpOwogICAgICAgICAgJGVsLmFmdGVyKGVycm9yRGl2KTsKCiAgICAgICAgICAvLyBSZWFsbHkgZHVtYiB3YXkgdG8ga2VlcCB0aGUgc2l6ZS9wb3NpdGlvbiBvZiB0aGUgZXJyb3IgaW4gc3luYyB3aXRoCiAgICAgICAgICAvLyB0aGUgcGFyZW50IGVsZW1lbnQgYXMgdGhlIHdpbmRvdyBpcyByZXNpemVkIG9yIHdoYXRldmVyLgogICAgICAgICAgdmFyIGludElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICghZXJyb3JEaXZbMF0ucGFyZW50RWxlbWVudCkgewogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50SWQpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvckRpdgogICAgICAgICAgICAgIC5jc3MoInRvcCIsIGVsLm9mZnNldFRvcCkKICAgICAgICAgICAgICAuY3NzKCJsZWZ0IiwgZWwub2Zmc2V0TGVmdCkKICAgICAgICAgICAgICAuY3NzKCJtYXhXaWR0aCIsIGVsLm9mZnNldFdpZHRoKQogICAgICAgICAgICAgIC5jc3MoImhlaWdodCIsIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICB9LCA1MDApOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNsZWFyRXJyb3I6IGZ1bmN0aW9uKGVsKSB7CiAgICAgIHZhciAkZWwgPSAkKGVsKTsKICAgICAgdmFyIGRpc3BsYXkgPSAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiKTsKICAgICAgJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIiwgbnVsbCk7CgogICAgICBpZiAoZGlzcGxheSA9PT0gImlubGluZSIgfHwgZGlzcGxheSA9PT0gImlubGluZS1ibG9jayIpIHsKICAgICAgICBpZiAoZGlzcGxheSkKICAgICAgICAgICRlbC5jc3MoImRpc3BsYXkiLCBkaXNwbGF5KTsKICAgICAgICAkKGVsLm5leHRTaWJsaW5nKS5maWx0ZXIoIi5odG1sd2lkZ2V0cy1lcnJvciIpLnJlbW92ZSgpOwogICAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09ICJibG9jayIpewogICAgICAgICRlbC5jc3MoInZpc2liaWxpdHkiLCAiaW5oZXJpdCIpOwogICAgICAgICQoZWwubmV4dFNpYmxpbmcpLmZpbHRlcigiLmh0bWx3aWRnZXRzLWVycm9yIikucmVtb3ZlKCk7CiAgICAgIH0KICAgIH0sCiAgICBzaXppbmc6IHt9CiAgfTsKCiAgLy8gQ2FsbGVkIGJ5IHdpZGdldCBiaW5kaW5ncyB0byByZWdpc3RlciBhIG5ldyB0eXBlIG9mIHdpZGdldC4gVGhlIGRlZmluaXRpb24KICAvLyBvYmplY3QgY2FuIGNvbnRhaW4gdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOgogIC8vIC0gbmFtZSAocmVxdWlyZWQpIC0gQSBzdHJpbmcgaW5kaWNhdGluZyB0aGUgYmluZGluZyBuYW1lLCB3aGljaCB3aWxsIGJlCiAgLy8gICB1c2VkIGJ5IGRlZmF1bHQgYXMgdGhlIENTUyBjbGFzc25hbWUgdG8gbG9vayBmb3IuCiAgLy8gLSBpbml0aWFsaXplIChvcHRpb25hbCkgLSBBIGZ1bmN0aW9uKGVsKSB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uY2UgcGVyCiAgLy8gICB3aWRnZXQgZWxlbWVudDsgaWYgYSB2YWx1ZSBpcyByZXR1cm5lZCwgaXQgd2lsbCBiZSBwYXNzZWQgYXMgdGhlIHRoaXJkCiAgLy8gICB2YWx1ZSB0byByZW5kZXJWYWx1ZS4KICAvLyAtIHJlbmRlclZhbHVlIChyZXF1aXJlZCkgLSBBIGZ1bmN0aW9uKGVsLCBkYXRhLCBpbml0VmFsdWUpIHRoYXQgd2lsbCBiZQogIC8vICAgY2FsbGVkIHdpdGggZGF0YS4gU3RhdGljIGNvbnRleHRzIHdpbGwgY2F1c2UgdGhpcyB0byBiZSBjYWxsZWQgb25jZSBwZXIKICAvLyAgIGVsZW1lbnQ7IFNoaW55IGFwcHMgd2lsbCBjYXVzZSB0aGlzIHRvIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBwZXIKICAvLyAgIGVsZW1lbnQsIGFzIHRoZSBkYXRhIGNoYW5nZXMuCiAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldCA9IGZ1bmN0aW9uKGRlZmluaXRpb24pIHsKICAgIGlmICghZGVmaW5pdGlvbi5uYW1lKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIG5hbWUiKTsKICAgIH0KICAgIGlmICghZGVmaW5pdGlvbi50eXBlKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIHR5cGUiKTsKICAgIH0KICAgIC8vIEN1cnJlbnRseSB3ZSBvbmx5IHN1cHBvcnQgb3V0cHV0IHdpZGdldHMKICAgIGlmIChkZWZpbml0aW9uLnR5cGUgIT09ICJvdXRwdXQiKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIHdpZGdldCB0eXBlICciICsgZGVmaW5pdGlvbi50eXBlICsgIiciKTsKICAgIH0KICAgIC8vIFRPRE86IFZlcmlmeSB0aGF0IC5uYW1lIGlzIGEgdmFsaWQgQ1NTIGNsYXNzbmFtZQoKICAgIC8vIFN1cHBvcnQgbmV3LXN0eWxlIGluc3RhbmNlLWJvdW5kIGRlZmluaXRpb25zLiBPbGQtc3R5bGUgY2xhc3MtYm91bmQKICAgIC8vIGRlZmluaXRpb25zIGhhdmUgb25lIHdpZGdldCAib2JqZWN0IiBwZXIgd2lkZ2V0IHBlciB0eXBlL2NsYXNzIG9mCiAgICAvLyB3aWRnZXQ7IHRoZSByZW5kZXJWYWx1ZSBhbmQgcmVzaXplIG1ldGhvZHMgb24gc3VjaCB3aWRnZXQgb2JqZWN0cwogICAgLy8gdGFrZSBlbCBhbmQgaW5zdGFuY2UgYXJndW1lbnRzLCBiZWNhdXNlIHRoZSB3aWRnZXQgb2JqZWN0IGNhbid0CiAgICAvLyBzdG9yZSB0aGVtLiBOZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbnMgaGF2ZSBvbmUgd2lkZ2V0CiAgICAvLyBvYmplY3QgcGVyIHdpZGdldCBpbnN0YW5jZTsgdGhlIGRlZmluaXRpb24gdGhhdCdzIHBhc3NlZCBpbiBkb2Vzbid0CiAgICAvLyBwcm92aWRlIHJlbmRlclZhbHVlIG9yIHJlc2l6ZSBtZXRob2RzIGF0IGFsbCwganVzdCB0aGUgc2luZ2xlIG1ldGhvZAogICAgLy8gICBmYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KQogICAgLy8gd2hpY2ggcmV0dXJucyBhbiBvYmplY3QgdGhhdCBoYXMgcmVuZGVyVmFsdWUoeCkgYW5kIHJlc2l6ZSh3LCBoKS4KICAgIC8vIFRoaXMgZW5hYmxlcyBhIGZhciBtb3JlIG5hdHVyYWwgcHJvZ3JhbW1pbmcgc3R5bGUgZm9yIHRoZSB3aWRnZXQKICAgIC8vIGF1dGhvciwgd2hvIGNhbiBzdG9yZSBwZXItaW5zdGFuY2Ugc3RhdGUgdXNpbmcgZWl0aGVyIE9PLXN0eWxlCiAgICAvLyBpbnN0YW5jZSBmaWVsZHMgb3IgZnVuY3Rpb25hbC1zdHlsZSBjbG9zdXJlIHZhcmlhYmxlcyAoSSBndWVzcyB0aGlzCiAgICAvLyBpcyBpbiBjb250cmFzdCB0byB3aGF0IGNhbiBvbmx5IGJlIGNhbGxlZCBDLXN0eWxlIHBzZXVkby1PTyB3aGljaCBpcwogICAgLy8gd2hhdCB3ZSByZXF1aXJlZCBiZWZvcmUpLgogICAgaWYgKGRlZmluaXRpb24uZmFjdG9yeSkgewogICAgICBkZWZpbml0aW9uID0gY3JlYXRlTGVnYWN5RGVmaW5pdGlvbkFkYXB0ZXIoZGVmaW5pdGlvbik7CiAgICB9CgogICAgaWYgKCFkZWZpbml0aW9uLnJlbmRlclZhbHVlKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIHJlbmRlclZhbHVlIGZ1bmN0aW9uIik7CiAgICB9CgogICAgLy8gRm9yIHN0YXRpYyByZW5kZXJpbmcgKG5vbi1TaGlueSksIHVzZSBhIHNpbXBsZSB3aWRnZXQgcmVnaXN0cmF0aW9uCiAgICAvLyBzY2hlbWUuIFdlIGFsc28gdXNlIHRoaXMgc2NoZW1lIGZvciBTaGlueSBhcHBzL2RvY3VtZW50cyB0aGF0IGFsc28KICAgIC8vIGNvbnRhaW4gc3RhdGljIHdpZGdldHMuCiAgICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzIHx8IFtdOwogICAgLy8gTWVyZ2UgZGVmYXVsdHMgaW50byB0aGUgZGVmaW5pdGlvbjsgZG9uJ3QgbXV0YXRlIHRoZSBvcmlnaW5hbCBkZWZpbml0aW9uLgogICAgdmFyIHN0YXRpY0JpbmRpbmcgPSBleHRlbmQoe30sIGRlZmF1bHRzLCBkZWZpbml0aW9uKTsKICAgIG92ZXJyaWRlTWV0aG9kKHN0YXRpY0JpbmRpbmcsICJmaW5kIiwgZnVuY3Rpb24oc3VwZXJmdW5jKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSkgewogICAgICAgIHZhciByZXN1bHRzID0gc3VwZXJmdW5jKHNjb3BlKTsKICAgICAgICAvLyBGaWx0ZXIgb3V0IFNoaW55IG91dHB1dHMsIHdlIG9ubHkgd2FudCB0aGUgc3RhdGljIGtpbmQKICAgICAgICByZXR1cm4gZmlsdGVyQnlDbGFzcyhyZXN1bHRzLCAiaHRtbC13aWRnZXQtb3V0cHV0IiwgZmFsc2UpOwogICAgICB9OwogICAgfSk7CiAgICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cy5wdXNoKHN0YXRpY0JpbmRpbmcpOwoKICAgIGlmIChzaGlueU1vZGUpIHsKICAgICAgLy8gU2hpbnkgaXMgcnVubmluZy4gUmVnaXN0ZXIgdGhlIGRlZmluaXRpb24gd2l0aCBhbiBvdXRwdXQgYmluZGluZy4KICAgICAgLy8gVGhlIGRlZmluaXRpb24gaXRzZWxmIHdpbGwgbm90IGJlIHRoZSBvdXRwdXQgYmluZGluZywgaW5zdGVhZAogICAgICAvLyB3ZSB3aWxsIG1ha2UgYW4gb3V0cHV0IGJpbmRpbmcgb2JqZWN0IHRoYXQgZGVsZWdhdGVzIHRvIHRoZQogICAgICAvLyBkZWZpbml0aW9uLiBUaGlzIGlzIGJlY2F1c2Ugd2UgZm9vbGlzaGx5IHVzZWQgdGhlIHNhbWUgbWV0aG9kCiAgICAgIC8vIG5hbWUgKHJlbmRlclZhbHVlKSBmb3IgaHRtbHdpZGdldHMgZGVmaW5pdGlvbiBhbmQgU2hpbnkgYmluZGluZ3MKICAgICAgLy8gYnV0IHRoZXkgYWN0dWFsbHkgaGF2ZSBxdWl0ZSBkaWZmZXJlbnQgc2VtYW50aWNzICh0aGUgU2hpbnkKICAgICAgLy8gYmluZGluZ3MgcmVjZWl2ZSBkYXRhIHRoYXQgaW5jbHVkZXMgbG90cyBvZiBtZXRhZGF0YSB0aGF0IGl0CiAgICAgIC8vIHN0cmlwcyBvZmYgYmVmb3JlIGNhbGxpbmcgaHRtbHdpZGdldHMgcmVuZGVyVmFsdWUpLiBXZSBjYW4ndAogICAgICAvLyBqdXN0IGlnbm9yZSB0aGUgZGlmZmVyZW5jZSBiZWNhdXNlIGluIHNvbWUgd2lkZ2V0cyBpdCdzIGhlbHBmdWwKICAgICAgLy8gdG8gY2FsbCB0aGlzLnJlbmRlclZhbHVlKCkgZnJvbSBpbnNpZGUgb2YgcmVzaXplKCksIGFuZCBpZgogICAgICAvLyB3ZSdyZSBub3QgZGVsZWdhdGluZywgdGhlbiB0aGF0IGNhbGwgd2lsbCBnbyB0byB0aGUgU2hpbnkKICAgICAgLy8gdmVyc2lvbiBpbnN0ZWFkIG9mIHRoZSBodG1sd2lkZ2V0cyB2ZXJzaW9uLgoKICAgICAgLy8gTWVyZ2UgZGVmYXVsdHMgd2l0aCBkZWZpbml0aW9uLCB3aXRob3V0IG11dGF0aW5nIGVpdGhlci4KICAgICAgdmFyIGJpbmRpbmdEZWYgPSBleHRlbmQoe30sIGRlZmF1bHRzLCBkZWZpbml0aW9uKTsKCiAgICAgIC8vIFRoaXMgb2JqZWN0IHdpbGwgYmUgb3VyIGFjdHVhbCBTaGlueSBiaW5kaW5nLgogICAgICB2YXIgc2hpbnlCaW5kaW5nID0gbmV3IFNoaW55Lk91dHB1dEJpbmRpbmcoKTsKCiAgICAgIC8vIFdpdGggYSBmZXcgZXhjZXB0aW9ucywgd2UnbGwgd2FudCB0byBzaW1wbHkgdXNlIHRoZSBiaW5kaW5nRGVmJ3MKICAgICAgLy8gdmVyc2lvbiBvZiBtZXRob2RzIGlmIHRoZXkgYXJlIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGZhbGwgYmFjayB0bwogICAgICAvLyBTaGlueSdzIGRlZmF1bHRzLiBOT1RFOiBJZiBTaGlueSdzIG91dHB1dCBiaW5kaW5ncyBnYWluIGFkZGl0aW9uYWwKICAgICAgLy8gbWV0aG9kcyBpbiB0aGUgZnV0dXJlLCBhbmQgd2Ugd2FudCB0aGVtIHRvIGJlIG92ZXJyaWRlYWJsZSBieQogICAgICAvLyBIVE1MV2lkZ2V0IGJpbmRpbmcgZGVmaW5pdGlvbnMsIHRoZW4gd2UnbGwgbmVlZCB0byBhZGQgdGhlbSB0byB0aGlzCiAgICAgIC8vIGxpc3QuCiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgImdldElkIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgIm9uVmFsdWVDaGFuZ2UiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAib25WYWx1ZUVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgInJlbmRlckVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgImNsZWFyRXJyb3IiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAic2hvd1Byb2dyZXNzIik7CgogICAgICAvLyBUaGUgZmluZCwgcmVuZGVyVmFsdWUsIGFuZCByZXNpemUgYXJlIGhhbmRsZWQgZGlmZmVyZW50bHksIGJlY2F1c2Ugd2UKICAgICAgLy8gd2FudCB0byBhY3R1YWxseSBkZWNvcmF0ZSB0aGUgYmVoYXZpb3Igb2YgdGhlIGJpbmRpbmdEZWYgbWV0aG9kcy4KCiAgICAgIHNoaW55QmluZGluZy5maW5kID0gZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgICB2YXIgcmVzdWx0cyA9IGJpbmRpbmdEZWYuZmluZChzY29wZSk7CgogICAgICAgIC8vIE9ubHkgcmV0dXJuIGVsZW1lbnRzIHRoYXQgYXJlIFNoaW55IG91dHB1dHMsIG5vdCBzdGF0aWMgb25lcwogICAgICAgIHZhciBkeW5hbWljUmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKCIuaHRtbC13aWRnZXQtb3V0cHV0Iik7CgogICAgICAgIC8vIEl0J3MgcG9zc2libGUgdGhhdCB3aGF0ZXZlciBjYXVzZWQgU2hpbnkgdG8gdGhpbmsgdGhlcmUgbWlnaHQgYmUKICAgICAgICAvLyBuZXcgZHluYW1pYyBvdXRwdXRzLCBhbHNvIGNhdXNlZCB0aGVyZSB0byBiZSBuZXcgc3RhdGljIG91dHB1dHMuCiAgICAgICAgLy8gU2luY2UgdGhlcmUgbWlnaHQgYmUgbG90cyBvZiBkaWZmZXJlbnQgaHRtbHdpZGdldHMgYmluZGluZ3MsIHdlCiAgICAgICAgLy8gc2NoZWR1bGUgZXhlY3V0aW9uIGZvciBsYXRlci0tbm8gbmVlZCB0byBzdGF0aWNSZW5kZXIgbXVsdGlwbGUKICAgICAgICAvLyB0aW1lcy4KICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggIT09IGR5bmFtaWNSZXN1bHRzLmxlbmd0aCkKICAgICAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyKCk7CgogICAgICAgIHJldHVybiBkeW5hbWljUmVzdWx0czsKICAgICAgfTsKCiAgICAgIC8vIFdyYXAgcmVuZGVyVmFsdWUgdG8gaGFuZGxlIGluaXRpYWxpemF0aW9uLCB3aGljaCB1bmZvcnR1bmF0ZWx5IGlzbid0CiAgICAgIC8vIHN1cHBvcnRlZCBuYXRpdmVseSBieSBTaGlueSBhdCB0aGUgdGltZSBvZiB0aGlzIHdyaXRpbmcuCgogICAgICBzaGlueUJpbmRpbmcucmVuZGVyVmFsdWUgPSBmdW5jdGlvbihlbCwgZGF0YSkgewogICAgICAgIFNoaW55LnJlbmRlckRlcGVuZGVuY2llcyhkYXRhLmRlcHMpOwogICAgICAgIC8vIFJlc29sdmUgc3RyaW5ncyBtYXJrZWQgYXMgamF2YXNjcmlwdCBsaXRlcmFscyB0byBvYmplY3RzCiAgICAgICAgaWYgKCEoZGF0YS5ldmFscyBpbnN0YW5jZW9mIEFycmF5KSkgZGF0YS5ldmFscyA9IFtkYXRhLmV2YWxzXTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgZGF0YS5ldmFscyAmJiBpIDwgZGF0YS5ldmFscy5sZW5ndGg7IGkrKykgewogICAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyKGRhdGEueCwgZGF0YS5ldmFsc1tpXSk7CiAgICAgICAgfQogICAgICAgIGlmICghYmluZGluZ0RlZi5yZW5kZXJPbk51bGxWYWx1ZSkgewogICAgICAgICAgaWYgKGRhdGEueCA9PT0gbnVsbCkgewogICAgICAgICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gImhpZGRlbiI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAiaW5oZXJpdCI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIpKSB7CiAgICAgICAgICBpbml0U2l6aW5nKGVsKTsKCiAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIiwgdHJ1ZSk7CiAgICAgICAgICBpZiAoYmluZGluZ0RlZi5pbml0aWFsaXplKSB7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBiaW5kaW5nRGVmLmluaXRpYWxpemUoZWwsIGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICAgIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiLCByZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBiaW5kaW5nRGVmLnJlbmRlclZhbHVlKGVsLCBkYXRhLngsIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiKSk7CiAgICAgICAgZXZhbEFuZFJ1bihkYXRhLmpzSG9va3MucmVuZGVyLCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiksIFtlbCwgZGF0YS54XSk7CiAgICAgIH07CgogICAgICAvLyBPbmx5IG92ZXJyaWRlIHJlc2l6ZSBpZiBiaW5kaW5nRGVmIGltcGxlbWVudHMgaXQKICAgICAgaWYgKGJpbmRpbmdEZWYucmVzaXplKSB7CiAgICAgICAgc2hpbnlCaW5kaW5nLnJlc2l6ZSA9IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0KSB7CiAgICAgICAgICAvLyBTaGlueSBjYW4gY2FsbCByZXNpemUgYmVmb3JlIGluaXRpYWxpemUvcmVuZGVyVmFsdWUgaGF2ZSBiZWVuCiAgICAgICAgICAvLyBjYWxsZWQsIHdoaWNoIGRvZXNuJ3QgbWFrZSBzZW5zZSBmb3Igd2lkZ2V0cy4KICAgICAgICAgIGlmIChlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIikpIHsKICAgICAgICAgICAgYmluZGluZ0RlZi5yZXNpemUoZWwsIHdpZHRoLCBoZWlnaHQsIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiKSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgU2hpbnkub3V0cHV0QmluZGluZ3MucmVnaXN0ZXIoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLm5hbWUpOwogICAgfQogIH07CgogIHZhciBzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQgPSBudWxsOwogIGZ1bmN0aW9uIHNjaGVkdWxlU3RhdGljUmVuZGVyKCkgewogICAgaWYgKCFzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQpIHsKICAgICAgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQgPSBudWxsOwogICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTsKICAgICAgfSwgMSk7CiAgICB9CiAgfQoKICAvLyBSZW5kZXIgc3RhdGljIHdpZGdldHMgYWZ0ZXIgdGhlIGRvY3VtZW50IGZpbmlzaGVzIGxvYWRpbmcKICAvLyBTdGF0aWNhbGx5IHJlbmRlciBhbGwgZWxlbWVudHMgdGhhdCBhcmUgb2YgdGhpcyB3aWRnZXQncyBjbGFzcwogIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgIHZhciBiaW5kaW5ncyA9IHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzIHx8IFtdOwogICAgZm9yRWFjaChiaW5kaW5ncywgZnVuY3Rpb24oYmluZGluZykgewogICAgICB2YXIgbWF0Y2hlcyA9IGJpbmRpbmcuZmluZChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpOwogICAgICBmb3JFYWNoKG1hdGNoZXMsIGZ1bmN0aW9uKGVsKSB7CiAgICAgICAgdmFyIHNpemVPYmogPSBpbml0U2l6aW5nKGVsLCBiaW5kaW5nKTsKCiAgICAgICAgaWYgKGhhc0NsYXNzKGVsLCAiaHRtbC13aWRnZXQtc3RhdGljLWJvdW5kIikpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lICsgIiBodG1sLXdpZGdldC1zdGF0aWMtYm91bmQiOwoKICAgICAgICB2YXIgaW5pdFJlc3VsdDsKICAgICAgICBpZiAoYmluZGluZy5pbml0aWFsaXplKSB7CiAgICAgICAgICBpbml0UmVzdWx0ID0gYmluZGluZy5pbml0aWFsaXplKGVsLAogICAgICAgICAgICBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgIHNpemVPYmogPyBzaXplT2JqLmdldEhlaWdodCgpIDogZWwub2Zmc2V0SGVpZ2h0CiAgICAgICAgICApOwogICAgICAgICAgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIsIGluaXRSZXN1bHQpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGJpbmRpbmcucmVzaXplKSB7CiAgICAgICAgICB2YXIgbGFzdFNpemUgPSB7fTsKICAgICAgICAgIHZhciByZXNpemVIYW5kbGVyID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgICB2YXIgc2l6ZSA9IHsKICAgICAgICAgICAgICB3OiBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgaDogc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKHNpemUudyA9PT0gMCAmJiBzaXplLmggPT09IDApCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSBsYXN0U2l6ZS53ICYmIHNpemUuaCA9PT0gbGFzdFNpemUuaCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGxhc3RTaXplID0gc2l6ZTsKICAgICAgICAgICAgYmluZGluZy5yZXNpemUoZWwsIHNpemUudywgc2l6ZS5oLCBpbml0UmVzdWx0KTsKICAgICAgICAgIH07CgogICAgICAgICAgb24od2luZG93LCAicmVzaXplIiwgcmVzaXplSGFuZGxlcik7CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIGNhc2VzIHdoZXJlIHdlJ3JlIHJ1bm5pbmcgaW4gYSBTaGlueQogICAgICAgICAgLy8gYXBwLCBidXQgdGhlIHdpZGdldCBpdHNlbGYgaXMgbm90IGEgU2hpbnkgb3V0cHV0LCBidXQKICAgICAgICAgIC8vIHJhdGhlciBhIHNpbXBsZSBzdGF0aWMgd2lkZ2V0LiBPbmUgZXhhbXBsZSBvZiB0aGlzIGlzCiAgICAgICAgICAvLyBhbiBybWFya2Rvd24gZG9jdW1lbnQgdGhhdCBoYXMgcnVudGltZTpzaGlueSBhbmQgd2lkZ2V0CiAgICAgICAgICAvLyB0aGF0IGlzbid0IGluIGEgcmVuZGVyIGZ1bmN0aW9uLiBTaGlueSBvbmx5IGtub3dzIHRvCiAgICAgICAgICAvLyBjYWxsIHJlc2l6ZSBoYW5kbGVycyBmb3IgU2hpbnkgb3V0cHV0cywgbm90IGZvciBzdGF0aWMKICAgICAgICAgIC8vIHdpZGdldHMsIHNvIHdlIGRvIGl0IG91cnNlbHZlcy4KICAgICAgICAgIGlmICh3aW5kb3cualF1ZXJ5KSB7CiAgICAgICAgICAgIHdpbmRvdy5qUXVlcnkoZG9jdW1lbnQpLm9uKAogICAgICAgICAgICAgICJzaG93bi5odG1sd2lkZ2V0cyBzaG93bi5icy50YWIuaHRtbHdpZGdldHMgc2hvd24uYnMuY29sbGFwc2UuaHRtbHdpZGdldHMiLAogICAgICAgICAgICAgIHJlc2l6ZUhhbmRsZXIKICAgICAgICAgICAgKTsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oCiAgICAgICAgICAgICAgImhpZGRlbi5odG1sd2lkZ2V0cyBoaWRkZW4uYnMudGFiLmh0bWx3aWRnZXRzIGhpZGRlbi5icy5jb2xsYXBzZS5odG1sd2lkZ2V0cyIsCiAgICAgICAgICAgICAgcmVzaXplSGFuZGxlcgogICAgICAgICAgICApOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIGZvciB0aGUgc3BlY2lmaWMgY2FzZSBvZiBpb3NsaWRlcywgd2hpY2gKICAgICAgICAgIC8vIGZsaXBzIHNsaWRlcyBiZXR3ZWVuIGRpc3BsYXk6bm9uZSBhbmQgZGlzcGxheTpibG9jay4KICAgICAgICAgIC8vIElkZWFsbHkgd2Ugd291bGQgbm90IGhhdmUgdG8gaGF2ZSBpb3NsaWRlLXNwZWNpZmljIGNvZGUKICAgICAgICAgIC8vIGhlcmUsIGJ1dCByYXRoZXIgaGF2ZSBpb3NsaWRlcyByYWlzZSBhIGdlbmVyaWMgZXZlbnQsCiAgICAgICAgICAvLyBidXQgdGhlIHJtYXJrZG93biBwYWNrYWdlIGp1c3Qgd2VudCB0byBDUkFOIHNvIHRoZQogICAgICAgICAgLy8gd2luZG93IHRvIGdldHRpbmcgdGhhdCBmaXhlZCBtYXkgYmUgbG9uZy4KICAgICAgICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikgewogICAgICAgICAgICAvLyBJdCdzIE9LIHRvIGxpbWl0IHRoaXMgdG8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIKICAgICAgICAgICAgLy8gYnJvd3NlcnMgYmVjYXVzZSBpb3NsaWRlcyBpdHNlbGYgb25seSBzdXBwb3J0cwogICAgICAgICAgICAvLyBzdWNoIGJyb3dzZXJzLgogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlZW50ZXIiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgICAgb24oZG9jdW1lbnQsICJzbGlkZWxlYXZlIiwgcmVzaXplSGFuZGxlcik7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgc2NyaXB0RGF0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInNjcmlwdFtkYXRhLWZvcj0nIiArIGVsLmlkICsgIiddW3R5cGU9J2FwcGxpY2F0aW9uL2pzb24nXSIpOwogICAgICAgIGlmIChzY3JpcHREYXRhKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc2NyaXB0RGF0YS50ZXh0Q29udGVudCB8fCBzY3JpcHREYXRhLnRleHQpOwogICAgICAgICAgLy8gUmVzb2x2ZSBzdHJpbmdzIG1hcmtlZCBhcyBqYXZhc2NyaXB0IGxpdGVyYWxzIHRvIG9iamVjdHMKICAgICAgICAgIGlmICghKGRhdGEuZXZhbHMgaW5zdGFuY2VvZiBBcnJheSkpIGRhdGEuZXZhbHMgPSBbZGF0YS5ldmFsc107CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgZGF0YS5ldmFscyAmJiBrIDwgZGF0YS5ldmFscy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuZXZhbHVhdGVTdHJpbmdNZW1iZXIoZGF0YS54LCBkYXRhLmV2YWxzW2tdKTsKICAgICAgICAgIH0KICAgICAgICAgIGJpbmRpbmcucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgaW5pdFJlc3VsdCk7CiAgICAgICAgICBldmFsQW5kUnVuKGRhdGEuanNIb29rcy5yZW5kZXIsIGluaXRSZXN1bHQsIFtlbCwgZGF0YS54XSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwoKICAgIGludm9rZVBvc3RSZW5kZXJIYW5kbGVycygpOwogIH0KCiAgLy8gV2FpdCB1bnRpbCBhZnRlciB0aGUgZG9jdW1lbnQgaGFzIGxvYWRlZCB0byByZW5kZXIgdGhlIHdpZGdldHMuCiAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBmdW5jdGlvbigpIHsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGFyZ3VtZW50cy5jYWxsZWUsIGZhbHNlKTsKICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgfSwgZmFsc2UpOwogIH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpIHsKICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIpIHsKICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgYXJndW1lbnRzLmNhbGxlZSk7CiAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgICB9CiAgICB9KTsKICB9CgoKICB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0QXR0YWNobWVudFVybCA9IGZ1bmN0aW9uKGRlcG5hbWUsIGtleSkgewogICAgLy8gSWYgbm8ga2V5LCBkZWZhdWx0IHRvIHRoZSBmaXJzdCBpdGVtCiAgICBpZiAodHlwZW9mKGtleSkgPT09ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSAxOwoKICAgIHZhciBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVwbmFtZSArICItIiArIGtleSArICItYXR0YWNobWVudCIpOwogICAgaWYgKCFsaW5rKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiQXR0YWNobWVudCAiICsgZGVwbmFtZSArICIvIiArIGtleSArICIgbm90IGZvdW5kIGluIGRvY3VtZW50Iik7CiAgICB9CiAgICByZXR1cm4gbGluay5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKICB9OwoKICB3aW5kb3cuSFRNTFdpZGdldHMuZGF0YWZyYW1lVG9EMyA9IGZ1bmN0aW9uKGRmKSB7CiAgICB2YXIgbmFtZXMgPSBbXTsKICAgIHZhciBsZW5ndGg7CiAgICBmb3IgKHZhciBuYW1lIGluIGRmKSB7CiAgICAgICAgaWYgKGRmLmhhc093blByb3BlcnR5KG5hbWUpKQogICAgICAgICAgICBuYW1lcy5wdXNoKG5hbWUpOwogICAgICAgIGlmICh0eXBlb2YoZGZbbmFtZV0pICE9PSAib2JqZWN0IiB8fCB0eXBlb2YoZGZbbmFtZV0ubGVuZ3RoKSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIik7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YobGVuZ3RoKSAhPT0gInVuZGVmaW5lZCIgJiYgbGVuZ3RoICE9PSBkZltuYW1lXS5sZW5ndGgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCIpOwogICAgICAgIH0KICAgICAgICBsZW5ndGggPSBkZltuYW1lXS5sZW5ndGg7CiAgICB9CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdmFyIGl0ZW07CiAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBsZW5ndGg7IHJvdysrKSB7CiAgICAgICAgaXRlbSA9IHt9OwogICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG5hbWVzLmxlbmd0aDsgY29sKyspIHsKICAgICAgICAgICAgaXRlbVtuYW1lc1tjb2xdXSA9IGRmW25hbWVzW2NvbF1dW3Jvd107CiAgICAgICAgfQogICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH07CgogIHdpbmRvdy5IVE1MV2lkZ2V0cy50cmFuc3Bvc2VBcnJheTJEID0gZnVuY3Rpb24oYXJyYXkpIHsKICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGFycmF5OwogICAgICB2YXIgbmV3QXJyYXkgPSBhcnJheVswXS5tYXAoZnVuY3Rpb24oY29sLCBpKSB7CiAgICAgICAgICByZXR1cm4gYXJyYXkubWFwKGZ1bmN0aW9uKHJvdykgewogICAgICAgICAgICAgIHJldHVybiByb3dbaV0KICAgICAgICAgIH0pCiAgICAgIH0pOwogICAgICByZXR1cm4gbmV3QXJyYXk7CiAgfTsKICAvLyBTcGxpdCB2YWx1ZSBhdCBzcGxpdENoYXIsIGJ1dCBhbGxvdyBzcGxpdENoYXIgdG8gYmUgZXNjYXBlZAogIC8vIHVzaW5nIGVzY2FwZUNoYXIuIEFueSBvdGhlciBjaGFyYWN0ZXJzIGVzY2FwZWQgYnkgZXNjYXBlQ2hhcgogIC8vIHdpbGwgYmUgaW5jbHVkZWQgYXMgdXN1YWwgKGluY2x1ZGluZyBlc2NhcGVDaGFyIGl0c2VsZikuCiAgZnVuY3Rpb24gc3BsaXRXaXRoRXNjYXBlKHZhbHVlLCBzcGxpdENoYXIsIGVzY2FwZUNoYXIpIHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB2YXIgZXNjYXBlTW9kZSA9IGZhbHNlOwogICAgdmFyIGN1cnJlbnRSZXN1bHQgPSAiIjsKICAgIGZvciAodmFyIHBvcyA9IDA7IHBvcyA8IHZhbHVlLmxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKCFlc2NhcGVNb2RlKSB7CiAgICAgICAgaWYgKHZhbHVlW3Bvc10gPT09IHNwbGl0Q2hhcikgewogICAgICAgICAgcmVzdWx0cy5wdXNoKGN1cnJlbnRSZXN1bHQpOwogICAgICAgICAgY3VycmVudFJlc3VsdCA9ICIiOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWVbcG9zXSA9PT0gZXNjYXBlQ2hhcikgewogICAgICAgICAgZXNjYXBlTW9kZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN1cnJlbnRSZXN1bHQgKz0gdmFsdWVbcG9zXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3VycmVudFJlc3VsdCArPSB2YWx1ZVtwb3NdOwogICAgICAgIGVzY2FwZU1vZGUgPSBmYWxzZTsKICAgICAgfQogICAgfQogICAgaWYgKGN1cnJlbnRSZXN1bHQgIT09ICIiKSB7CiAgICAgIHJlc3VsdHMucHVzaChjdXJyZW50UmVzdWx0KTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH0KICAvLyBGdW5jdGlvbiBhdXRob3JlZCBieSBZaWh1aS9KSiBBbGxhaXJlCiAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyID0gZnVuY3Rpb24obywgbWVtYmVyKSB7CiAgICB2YXIgcGFydHMgPSBzcGxpdFdpdGhFc2NhcGUobWVtYmVyLCAnLicsICdcXCcpOwogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTsKICAgICAgLy8gcGFydCBtYXkgYmUgYSBjaGFyYWN0ZXIgb3IgJ251bWVyaWMnIG1lbWJlciBuYW1lCiAgICAgIGlmIChvICE9PSBudWxsICYmIHR5cGVvZiBvID09PSAib2JqZWN0IiAmJiBwYXJ0IGluIG8pIHsKICAgICAgICBpZiAoaSA9PSAobCAtIDEpKSB7IC8vIGlmIHdlIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lIHRoZW4gZXZhbHVsYXRlCiAgICAgICAgICBpZiAodHlwZW9mIG9bcGFydF0gPT09ICJzdHJpbmciKQogICAgICAgICAgICBvW3BhcnRdID0gZXZhbCgiKCIgKyBvW3BhcnRdICsgIikiKTsKICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UgY29udGludWUgdG8gbmV4dCBlbWJlZGRlZCBvYmplY3QKICAgICAgICAgIG8gPSBvW3BhcnRdOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIFJldHJpZXZlIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlIChpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YgYW4KICAvLyBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCBhbiBlbGVtZW50LCBvciBudWxsIGlmIG5vbmUuCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlID0gZnVuY3Rpb24oZWwpIHsKICAgIHJldHVybiBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0Iik7CiAgfTsKCiAgLy8gRmluZHMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNjb3BlIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IsCiAgLy8gYW5kIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2UgKGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZgogIC8vIGFuIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoYXQgZWxlbWVudCwgaWYgYW55LiBJZiBubyBlbGVtZW50IG1hdGNoZXMgdGhlCiAgLy8gc2VsZWN0b3IsIG9yIHRoZSBmaXJzdCBtYXRjaGluZyBlbGVtZW50IGhhcyBubyBIVE1MV2lkZ2V0CiAgLy8gaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIGl0LCB0aGVuIG51bGwgaXMgcmV0dXJuZWQuCiAgLy8KICAvLyBUaGUgc2NvcGUgYXJndW1lbnQgaXMgb3B0aW9uYWwsIGFuZCBkZWZhdWx0cyB0byB3aW5kb3cuZG9jdW1lbnQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmZpbmQgPSBmdW5jdGlvbihzY29wZSwgc2VsZWN0b3IpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgc2VsZWN0b3IgPSBzY29wZTsKICAgICAgc2NvcGUgPSBkb2N1bWVudDsKICAgIH0KCiAgICB2YXIgZWwgPSBzY29wZS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgIGlmIChlbCA9PT0gbnVsbCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0SW5zdGFuY2UoZWwpOwogICAgfQogIH07CgogIC8vIEZpbmRzIGFsbCBlbGVtZW50cyBpbiB0aGUgc2NvcGUgdGhhdCBtYXRjaCB0aGUgc2VsZWN0b3IsIGFuZAogIC8vIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2VzIChpLmUuIHRoZSByZXR1cm4gdmFsdWVzIG9mCiAgLy8gYW4gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRzLCBpbiBhbiBhcnJheS4gSWYgZWxlbWVudHMgdGhhdAogIC8vIG1hdGNoIHRoZSBzZWxlY3RvciBkb24ndCBoYXZlIGFuIGFzc29jaWF0ZWQgSFRNTFdpZGdldAogIC8vIGluc3RhbmNlLCB0aGUgcmV0dXJuZWQgYXJyYXkgd2lsbCBjb250YWluIG51bGxzLgogIC8vCiAgLy8gVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBhbmQgZGVmYXVsdHMgdG8gd2luZG93LmRvY3VtZW50LgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kQWxsID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgIHNlbGVjdG9yID0gc2NvcGU7CiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7CiAgICB9CgogICAgdmFyIG5vZGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICByZXN1bHRzLnB1c2god2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlKG5vZGVzW2ldKSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICB2YXIgcG9zdFJlbmRlckhhbmRsZXJzID0gW107CiAgZnVuY3Rpb24gaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCkgewogICAgd2hpbGUgKHBvc3RSZW5kZXJIYW5kbGVycy5sZW5ndGgpIHsKICAgICAgdmFyIGhhbmRsZXIgPSBwb3N0UmVuZGVySGFuZGxlcnMuc2hpZnQoKTsKICAgICAgaWYgKGhhbmRsZXIpIHsKICAgICAgICBoYW5kbGVyKCk7CiAgICAgIH0KICAgIH0KICB9CgogIC8vIFJlZ2lzdGVyIHRoZSBnaXZlbiBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIGFmdGVyIHRoZQogIC8vIG5leHQgdGltZSBzdGF0aWMgd2lkZ2V0cyBhcmUgcmVuZGVyZWQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmFkZFBvc3RSZW5kZXJIYW5kbGVyID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIHBvc3RSZW5kZXJIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTsKICB9OwoKICAvLyBUYWtlcyBhIG5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9uLCBhbmQgcmV0dXJucyBhbgogIC8vIG9sZC1zdHlsZSBjbGFzcy1ib3VuZCBkZWZpbml0aW9uLiBUaGlzIHNhdmVzIHVzIGZyb20gaGF2aW5nCiAgLy8gdG8gcmV3cml0ZSBhbGwgdGhlIGxvZ2ljIGluIHRoaXMgZmlsZSB0byBhY2NvbW9kYXRlIGJvdGgKICAvLyB0eXBlcyBvZiBkZWZpbml0aW9ucy4KICBmdW5jdGlvbiBjcmVhdGVMZWdhY3lEZWZpbml0aW9uQWRhcHRlcihkZWZuKSB7CiAgICB2YXIgcmVzdWx0ID0gewogICAgICBuYW1lOiBkZWZuLm5hbWUsCiAgICAgIHR5cGU6IGRlZm4udHlwZSwKICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICByZXR1cm4gZGVmbi5mYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgfSwKICAgICAgcmVuZGVyVmFsdWU6IGZ1bmN0aW9uKGVsLCB4LCBpbnN0YW5jZSkgewogICAgICAgIHJldHVybiBpbnN0YW5jZS5yZW5kZXJWYWx1ZSh4KTsKICAgICAgfSwKICAgICAgcmVzaXplOiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCwgaW5zdGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVzaXplKHdpZHRoLCBoZWlnaHQpOwogICAgICB9CiAgICB9OwoKICAgIGlmIChkZWZuLmZpbmQpCiAgICAgIHJlc3VsdC5maW5kID0gZGVmbi5maW5kOwogICAgaWYgKGRlZm4ucmVuZGVyRXJyb3IpCiAgICAgIHJlc3VsdC5yZW5kZXJFcnJvciA9IGRlZm4ucmVuZGVyRXJyb3I7CiAgICBpZiAoZGVmbi5jbGVhckVycm9yKQogICAgICByZXN1bHQuY2xlYXJFcnJvciA9IGRlZm4uY2xlYXJFcnJvcjsKCiAgICByZXR1cm4gcmVzdWx0OwogIH0KfSkoKTsKCg=="></script>
<script src="data:application/x-javascript;base64,IWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuUGh5bG9jYW52YXM9ZSgpOnQuUGh5bG9jYW52YXM9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aWYobltyXSlyZXR1cm4gbltyXS5leHBvcnRzO3ZhciBhPW5bcl09e2V4cG9ydHM6e30saWQ6cixsb2FkZWQ6ITF9O3JldHVybiB0W3JdLmNhbGwoYS5leHBvcnRzLGEsYS5leHBvcnRzLGUpLGEubG9hZGVkPSEwLGEuZXhwb3J0c312YXIgbj17fTtyZXR1cm4gZS5tPXQsZS5jPW4sZS5wPSIiLGUoMCl9KFtmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fW4oMSk7dmFyIGE9bigyKSxpPXIoYSksbz1uKDQpLHM9cihvKSxsPW4oNSksYz1yKGwpLGg9big2KSx1PXIoaCksZj1uKDcpLGQ9cihmKSxDPW4oMyksdj1yKEMpO3YuZGVmYXVsdC5wbHVnaW4oaS5kZWZhdWx0KSx2LmRlZmF1bHQucGx1Z2luKHMuZGVmYXVsdCksdi5kZWZhdWx0LnBsdWdpbihjLmRlZmF1bHQpLHYuZGVmYXVsdC5wbHVnaW4odS5kZWZhdWx0KSx2LmRlZmF1bHQucGx1Z2luKGQuZGVmYXVsdCksdC5leHBvcnRzPXYuZGVmYXVsdH0sZnVuY3Rpb24odCxlKXshZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpZihuW3JdKXJldHVybiBuW3JdLmV4cG9ydHM7dmFyIGE9bltyXT17ZXhwb3J0czp7fSxpZDpyLGxvYWRlZDohMX07cmV0dXJuIHRbcl0uY2FsbChhLmV4cG9ydHMsYSxhLmV4cG9ydHMsZSksYS5sb2FkZWQ9ITAsYS5leHBvcnRzfXZhciBuPXt9O3JldHVybiBlLm09dCxlLmM9bixlLnA9IiIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxuKXtuKDEpLG4oNTApLG4oNTkpLG4oNjUpLG4oNjcpLG4oNzYpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMiksYT1uKDMpLGk9big0KSxvPW4oNikscz1uKDE2KSxsPW4oMjApLktFWSxjPW4oNSksaD1uKDIxKSx1PW4oMjIpLGY9bigxNyksZD1uKDIzKSxDPW4oMjQpLHY9bigyNSkscD1uKDI3KSxnPW4oNDApLHk9big0MyksYj1uKDEwKSxtPW4oMzApLHg9bigxNCksdz1uKDE1KSxTPW4oNDQpLGs9big0NyksTD1uKDQ5KSxfPW4oOSksRT1uKDI4KSxUPUwuZixNPV8uZixPPWsuZixQPXIuU3ltYm9sLEE9ci5KU09OLEY9QSYmQS5zdHJpbmdpZnksaj0icHJvdG90eXBlIixOPWQoIl9oaWRkZW4iKSxSPWQoInRvUHJpbWl0aXZlIiksQj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSx6PWgoInN5bWJvbC1yZWdpc3RyeSIpLEQ9aCgic3ltYm9scyIpLEk9aCgib3Atc3ltYm9scyIpLFU9T2JqZWN0W2pdLEg9ImZ1bmN0aW9uIj09dHlwZW9mIFAsVz1yLlFPYmplY3QsWD0hV3x8IVdbal18fCFXW2pdLmZpbmRDaGlsZCxZPWkmJmMoZnVuY3Rpb24oKXtyZXR1cm4gNyE9UyhNKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE0odGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24odCxlLG4pe3ZhciByPVQoVSxlKTtyJiZkZWxldGUgVVtlXSxNKHQsZSxuKSxyJiZ0IT09VSYmTShVLGUscil9Ok0sSz1mdW5jdGlvbih0KXt2YXIgZT1EW3RdPVMoUFtqXSk7cmV0dXJuIGUuX2s9dCxlfSxRPUgmJiJzeW1ib2wiPT10eXBlb2YgUC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgUH0sRz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9PT1VJiZHKEksZSxuKSxiKHQpLGU9eChlLCEwKSxiKG4pLGEoRCxlKT8obi5lbnVtZXJhYmxlPyhhKHQsTikmJnRbTl1bZV0mJih0W05dW2VdPSExKSxuPVMobix7ZW51bWVyYWJsZTp3KDAsITEpfSkpOihhKHQsTil8fE0odCxOLHcoMSx7fSkpLHRbTl1bZV09ITApLFkodCxlLG4pKTpNKHQsZSxuKX0sVj1mdW5jdGlvbih0LGUpe2IodCk7Zm9yKHZhciBuLHI9ZyhlPW0oZSkpLGE9MCxpPXIubGVuZ3RoO2k+YTspRyh0LG49clthKytdLGVbbl0pO3JldHVybiB0fSxxPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWU/Uyh0KTpWKFModCksZSl9LFo9ZnVuY3Rpb24odCl7dmFyIGU9Qi5jYWxsKHRoaXMsdD14KHQsITApKTtyZXR1cm4hKHRoaXM9PT1VJiZhKEQsdCkmJiFhKEksdCkpJiYoIShlfHwhYSh0aGlzLHQpfHwhYShELHQpfHxhKHRoaXMsTikmJnRoaXNbTl1bdF0pfHxlKX0sSj1mdW5jdGlvbih0LGUpe2lmKHQ9bSh0KSxlPXgoZSwhMCksdCE9PVV8fCFhKEQsZSl8fGEoSSxlKSl7dmFyIG49VCh0LGUpO3JldHVybiFufHwhYShELGUpfHxhKHQsTikmJnRbTl1bZV18fChuLmVudW1lcmFibGU9ITApLG59fSwkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPU8obSh0KSkscj1bXSxpPTA7bi5sZW5ndGg+aTspYShELGU9bltpKytdKXx8ZT09Tnx8ZT09bHx8ci5wdXNoKGUpO3JldHVybiByfSx0dD1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj10PT09VSxyPU8obj9JOm0odCkpLGk9W10sbz0wO3IubGVuZ3RoPm87KSFhKEQsZT1yW28rK10pfHxuJiYhYShVLGUpfHxpLnB1c2goRFtlXSk7cmV0dXJuIGl9O0h8fChQPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIFApdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhIik7dmFyIHQ9Zihhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCksZT1mdW5jdGlvbihuKXt0aGlzPT09VSYmZS5jYWxsKEksbiksYSh0aGlzLE4pJiZhKHRoaXNbTl0sdCkmJih0aGlzW05dW3RdPSExKSxZKHRoaXMsdCx3KDEsbikpfTtyZXR1cm4gaSYmWCYmWShVLHQse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZX0pLEsodCl9LHMoUFtqXSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSxMLmY9SixfLmY9RyxuKDQ4KS5mPWsuZj0kLG4oNDIpLmY9WixuKDQxKS5mPXR0LGkmJiFuKDI2KSYmcyhVLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsWiwhMCksQy5mPWZ1bmN0aW9uKHQpe3JldHVybiBLKGQodCkpfSksbyhvLkcrby5XK28uRiohSCx7U3ltYm9sOlB9KTtmb3IodmFyIGV0PSJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxudD0wO2V0Lmxlbmd0aD5udDspZChldFtudCsrXSk7Zm9yKHZhciBldD1FKGQuc3RvcmUpLG50PTA7ZXQubGVuZ3RoPm50Oyl2KGV0W250KytdKTtvKG8uUytvLkYqIUgsIlN5bWJvbCIse2ZvcjpmdW5jdGlvbih0KXtyZXR1cm4gYSh6LHQrPSIiKT96W3RdOnpbdF09UCh0KX0sa2V5Rm9yOmZ1bmN0aW9uKHQpe2lmKFEodCkpcmV0dXJuIHAoeix0KTt0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhIHN5bWJvbCEiKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7WD0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7WD0hMX19KSxvKG8uUytvLkYqIUgsIk9iamVjdCIse2NyZWF0ZTpxLGRlZmluZVByb3BlcnR5OkcsZGVmaW5lUHJvcGVydGllczpWLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpKLGdldE93blByb3BlcnR5TmFtZXM6JCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6dHR9KSxBJiZvKG8uUytvLkYqKCFIfHxjKGZ1bmN0aW9uKCl7dmFyIHQ9UCgpO3JldHVybiJbbnVsbF0iIT1GKFt0XSl8fCJ7fSIhPUYoe2E6dH0pfHwie30iIT1GKE9iamVjdCh0KSl9KSksIkpTT04iLHtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCYmIVEodCkpe2Zvcih2YXIgZSxuLHI9W3RdLGE9MTthcmd1bWVudHMubGVuZ3RoPmE7KXIucHVzaChhcmd1bWVudHNbYSsrXSk7cmV0dXJuIGU9clsxXSwiZnVuY3Rpb24iPT10eXBlb2YgZSYmKG49ZSksIW4mJnkoZSl8fChlPWZ1bmN0aW9uKHQsZSl7aWYobiYmKGU9bi5jYWxsKHRoaXMsdCxlKSksIVEoZSkpcmV0dXJuIGV9KSxyWzFdPWUsRi5hcHBseShBLHIpfX19KSxQW2pdW1JdfHxuKDgpKFBbal0sUixQW2pdLnZhbHVlT2YpLHUoUCwiU3ltYm9sIiksdShNYXRoLCJNYXRoIiwhMCksdShyLkpTT04sIkpTT04iLCEwKX0sZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LGZ1bmN0aW9uKHQsZSl7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbCh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbig1KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4hIXQoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKSxhPW4oNyksaT1uKDgpLG89bigxNikscz1uKDE4KSxsPSJwcm90b3R5cGUiLGM9ZnVuY3Rpb24odCxlLG4pe3ZhciBoLHUsZixkLEM9dCZjLkYsdj10JmMuRyxwPXQmYy5TLGc9dCZjLlAseT10JmMuQixiPXY/cjpwP3JbZV18fChyW2VdPXt9KToocltlXXx8e30pW2xdLG09dj9hOmFbZV18fChhW2VdPXt9KSx4PW1bbF18fChtW2xdPXt9KTt2JiYobj1lKTtmb3IoaCBpbiBuKXU9IUMmJmImJnZvaWQgMCE9PWJbaF0sZj0odT9iOm4pW2hdLGQ9eSYmdT9zKGYscik6ZyYmImZ1bmN0aW9uIj09dHlwZW9mIGY/cyhGdW5jdGlvbi5jYWxsLGYpOmYsYiYmbyhiLGgsZix0JmMuVSksbVtoXSE9ZiYmaShtLGgsZCksZyYmeFtoXSE9ZiYmKHhbaF09Zil9O3IuY29yZT1hLGMuRj0xLGMuRz0yLGMuUz00LGMuUD04LGMuQj0xNixjLlc9MzIsYy5VPTY0LGMuUj0xMjgsdC5leHBvcnRzPWN9LGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big5KSxhPW4oMTUpO3QuZXhwb3J0cz1uKDQpP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5mKHQsZSxhKDEsbikpfTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bix0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTApLGE9bigxMiksaT1uKDE0KSxvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtlLmY9big0KT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksZT1pKGUsITApLHIobiksYSl0cnl7cmV0dXJuIG8odCxlLG4pfWNhdGNoKHQpe31pZigiZ2V0ImluIG58fCJzZXQiaW4gbil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiBuJiYodFtlXT1uLnZhbHVlKSx0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTEpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSl0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIHQ/bnVsbCE9PXQ6ImZ1bmN0aW9uIj09dHlwZW9mIHR9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPSFuKDQpJiYhbig1KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobigxMykoImRpdiIpLCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMSksYT1uKDIpLmRvY3VtZW50LGk9cihhKSYmcihhLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaT9hLmNyZWF0ZUVsZW1lbnQodCk6e319fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIXIodCkpcmV0dXJuIHQ7dmFyIG4sYTtpZihlJiYiZnVuY3Rpb24iPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIoYT1uLmNhbGwodCkpKXJldHVybiBhO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihuPXQudmFsdWVPZikmJiFyKGE9bi5jYWxsKHQpKSlyZXR1cm4gYTtpZighZSYmImZ1bmN0aW9uIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFyKGE9bi5jYWxsKHQpKSlyZXR1cm4gYTt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKSxhPW4oOCksaT1uKDMpLG89bigxNykoInNyYyIpLHM9InRvU3RyaW5nIixsPUZ1bmN0aW9uW3NdLGM9KCIiK2wpLnNwbGl0KHMpO24oNykuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gbC5jYWxsKHQpfSwodC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLHMpe3ZhciBsPSJmdW5jdGlvbiI9PXR5cGVvZiBuO2wmJihpKG4sIm5hbWUiKXx8YShuLCJuYW1lIixlKSksdFtlXSE9PW4mJihsJiYoaShuLG8pfHxhKG4sbyx0W2VdPyIiK3RbZV06Yy5qb2luKFN0cmluZyhlKSkpKSx0PT09cj90W2VdPW46cz90W2VdP3RbZV09bjphKHQsZSxuKTooZGVsZXRlIHRbZV0sYSh0LGUsbikpKX0pKEZ1bmN0aW9uLnByb3RvdHlwZSxzLGZ1bmN0aW9uKCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMmJnRoaXNbb118fGwuY2FsbCh0aGlzKX0pfSxmdW5jdGlvbih0LGUpe3ZhciBuPTAscj1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PXQ/IiI6dCwiKV8iLCgrK24rcikudG9TdHJpbmcoMzYpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksdm9pZCAwPT09ZSlyZXR1cm4gdDtzd2l0Y2gobil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdC5jYWxsKGUsbil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gdC5jYWxsKGUsbixyKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihuLHIsYSl7cmV0dXJuIHQuY2FsbChlLG4scixhKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcih0KyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNykoIm1ldGEiKSxhPW4oMTEpLGk9bigzKSxvPW4oOSkuZixzPTAsbD1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSxjPSFuKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIGwoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSxoPWZ1bmN0aW9uKHQpe28odCxyLHt2YWx1ZTp7aToiTyIrICsrcyx3Ont9fX0pfSx1PWZ1bmN0aW9uKHQsZSl7aWYoIWEodCkpcmV0dXJuInN5bWJvbCI9PXR5cGVvZiB0P3Q6KCJzdHJpbmciPT10eXBlb2YgdD8iUyI6IlAiKSt0O2lmKCFpKHQscikpe2lmKCFsKHQpKXJldHVybiJGIjtpZighZSlyZXR1cm4iRSI7aCh0KX1yZXR1cm4gdFtyXS5pfSxmPWZ1bmN0aW9uKHQsZSl7aWYoIWkodCxyKSl7aWYoIWwodCkpcmV0dXJuITA7aWYoIWUpcmV0dXJuITE7aCh0KX1yZXR1cm4gdFtyXS53fSxkPWZ1bmN0aW9uKHQpe3JldHVybiBjJiZDLk5FRUQmJmwodCkmJiFpKHQscikmJmgodCksdH0sQz10LmV4cG9ydHM9e0tFWTpyLE5FRUQ6ITEsZmFzdEtleTp1LGdldFdlYWs6ZixvbkZyZWV6ZTpkfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMiksYT0iX19jb3JlLWpzX3NoYXJlZF9fIixpPXJbYV18fChyW2FdPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fChpW3RdPXt9KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDkpLmYsYT1uKDMpLGk9bigyMykoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt0JiYhYSh0PW4/dDp0LnByb3RvdHlwZSxpKSYmcih0LGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTplfSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMSkoIndrcyIpLGE9bigxNyksaT1uKDIpLlN5bWJvbCxvPSJmdW5jdGlvbiI9PXR5cGVvZiBpLHM9dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByW3RdfHwoclt0XT1vJiZpW3RdfHwobz9pOmEpKCJTeW1ib2wuIit0KSl9O3Muc3RvcmU9cn0sZnVuY3Rpb24odCxlLG4pe2UuZj1uKDIzKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMiksYT1uKDcpLGk9bigyNiksbz1uKDI0KSxzPW4oOSkuZjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9YS5TeW1ib2x8fChhLlN5bWJvbD1pP3t9OnIuU3ltYm9sfHx7fSk7Il8iPT10LmNoYXJBdCgwKXx8dCBpbiBlfHxzKGUsdCx7dmFsdWU6by5mKHQpfSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0hMX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjgpLGE9bigzMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLGk9YSh0KSxvPXIoaSkscz1vLmxlbmd0aCxsPTA7cz5sOylpZihpW249b1tsKytdXT09PWUpcmV0dXJuIG59fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyOSksYT1uKDM5KTt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3JldHVybiByKHQsYSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzKSxhPW4oMzApLGk9bigzNCkoITEpLG89bigzOCkoIklFX1BST1RPIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4scz1hKHQpLGw9MCxjPVtdO2ZvcihuIGluIHMpbiE9byYmcihzLG4pJiZjLnB1c2gobik7Zm9yKDtlLmxlbmd0aD5sOylyKHMsbj1lW2wrK10pJiYofmkoYyxuKXx8Yy5wdXNoKG4pKTtyZXR1cm4gY319LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMxKSxhPW4oMzMpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcihhKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMyKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKHQpe3JldHVybiJTdHJpbmciPT1yKHQpP3Quc3BsaXQoIiIpOk9iamVjdCh0KX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuLmNhbGwodCkuc2xpY2UoOCwtMSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih2b2lkIDA9PXQpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIit0KTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMwKSxhPW4oMzUpLGk9bigzNyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4sbyl7dmFyIHMsbD1yKGUpLGM9YShsLmxlbmd0aCksaD1pKG8sYyk7aWYodCYmbiE9bil7Zm9yKDtjPmg7KWlmKHM9bFtoKytdLHMhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2M+aDtoKyspaWYoKHR8fGggaW4gbCkmJmxbaF09PT1uKXJldHVybiB0fHxofHwwO3JldHVybiF0JiYtMX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzNiksYT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MD9hKHIodCksOTAwNzE5OTI1NDc0MDk5MSk6MH19LGZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jZWlsLHI9TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlzTmFOKHQ9K3QpPzA6KHQ+MD9yOm4pKHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzYpLGE9TWF0aC5tYXgsaT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1yKHQpLHQ8MD9hKHQrZSwwKTppKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMSkoImtleXMiKSxhPW4oMTcpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gclt0XXx8KHJbdF09YSh0KSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0iY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mIi5zcGxpdCgiLCIpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyOCksYT1uKDQxKSxpPW4oNDIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1yKHQpLG49YS5mO2lmKG4pZm9yKHZhciBvLHM9bih0KSxsPWkuZixjPTA7cy5sZW5ndGg+YzspbC5jYWxsKHQsbz1zW2MrK10pJiZlLnB1c2gobyk7cmV0dXJuIGV9fSxmdW5jdGlvbih0LGUpe2UuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSxmdW5jdGlvbih0LGUpe2UuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm4iQXJyYXkiPT1yKHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTApLGE9big0NSksaT1uKDM5KSxvPW4oMzgpKCJJRV9QUk9UTyIpLHM9ZnVuY3Rpb24oKXt9LGw9InByb3RvdHlwZSIsYz1mdW5jdGlvbigpe3ZhciB0LGU9bigxMykoImlmcmFtZSIpLHI9aS5sZW5ndGgsYT0iPCIsbz0iPiI7Zm9yKGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsbig0NikuYXBwZW5kQ2hpbGQoZSksZS5zcmM9ImphdmFzY3JpcHQ6Iix0PWUuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKGErInNjcmlwdCIrbysiZG9jdW1lbnQuRj1PYmplY3QiK2ErIi9zY3JpcHQiK28pLHQuY2xvc2UoKSxjPXQuRjtyLS07KWRlbGV0ZSBjW2xdW2lbcl1dO3JldHVybiBjKCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBudWxsIT09dD8oc1tsXT1yKHQpLG49bmV3IHMsc1tsXT1udWxsLG5bb109dCk6bj1jKCksdm9pZCAwPT09ZT9uOmEobixlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDkpLGE9bigxMCksaT1uKDI4KTt0LmV4cG9ydHM9big0KT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbih0LGUpe2EodCk7Zm9yKHZhciBuLG89aShlKSxzPW8ubGVuZ3RoLGw9MDtzPmw7KXIuZih0LG49b1tsKytdLGVbbl0pO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMwKSxhPW4oNDgpLmYsaT17fS50b1N0cmluZyxvPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10scz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIGEodCl9Y2F0Y2godCl7cmV0dXJuIG8uc2xpY2UoKX19O3QuZXhwb3J0cy5mPWZ1bmN0aW9uKHQpe3JldHVybiBvJiYiW29iamVjdCBXaW5kb3ddIj09aS5jYWxsKHQpP3ModCk6YShyKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI5KSxhPW4oMzkpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7ZS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbih0KXtyZXR1cm4gcih0LGEpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDIpLGE9bigxNSksaT1uKDMwKSxvPW4oMTQpLHM9bigzKSxsPW4oMTIpLGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtlLmY9big0KT9jOmZ1bmN0aW9uKHQsZSl7aWYodD1pKHQpLGU9byhlLCEwKSxsKXRyeXtyZXR1cm4gYyh0LGUpfWNhdGNoKHQpe31pZihzKHQsZSkpcmV0dXJuIGEoIXIuZi5jYWxsKHQsZSksdFtlXSl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTgpLGE9big2KSxpPW4oNTEpLG89big1Mikscz1uKDUzKSxsPW4oMzUpLGM9big1NSksaD1uKDU2KTthKGEuUythLkYqIW4oNTgpKGZ1bmN0aW9uKHQpe0FycmF5LmZyb20odCl9KSwiQXJyYXkiLHtmcm9tOmZ1bmN0aW9uKHQpe3ZhciBlLG4sYSx1LGY9aSh0KSxkPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzP3RoaXM6QXJyYXksQz1hcmd1bWVudHMubGVuZ3RoLHY9Qz4xP2FyZ3VtZW50c1sxXTp2b2lkIDAscD12b2lkIDAhPT12LGc9MCx5PWgoZik7aWYocCYmKHY9cih2LEM+Mj9hcmd1bWVudHNbMl06dm9pZCAwLDIpKSx2b2lkIDA9PXl8fGQ9PUFycmF5JiZzKHkpKWZvcihlPWwoZi5sZW5ndGgpLG49bmV3IGQoZSk7ZT5nO2crKyljKG4sZyxwP3YoZltnXSxnKTpmW2ddKTtlbHNlIGZvcih1PXkuY2FsbChmKSxuPW5ldyBkOyEoYT11Lm5leHQoKSkuZG9uZTtnKyspYyhuLGcscD9vKHUsdixbYS52YWx1ZSxnXSwhMCk6YS52YWx1ZSk7cmV0dXJuIG4ubGVuZ3RoPWcsbn19KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzMpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHIodCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTApO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixhKXt0cnl7cmV0dXJuIGE/ZShyKG4pWzBdLG5bMV0pOmUobil9Y2F0Y2goZSl7dmFyIGk9dC5yZXR1cm47dGhyb3cgdm9pZCAwIT09aSYmcihpLmNhbGwodCkpLGV9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTQpLGE9bigyMykoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiYoci5BcnJheT09PXR8fGlbYV09PT10KX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXt9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oOSksYT1uKDE1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2UgaW4gdD9yLmYodCxlLGEoMCxuKSk6dFtlXT1ufX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTcpLGE9bigyMykoIml0ZXJhdG9yIiksaT1uKDU0KTt0LmV4cG9ydHM9big3KS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbih0KXtpZih2b2lkIDAhPXQpcmV0dXJuIHRbYV18fHRbIkBAaXRlcmF0b3IiXXx8aVtyKHQpXX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMyKSxhPW4oMjMpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PXIoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxvPWZ1bmN0aW9uKHQsZSl7dHJ5e3JldHVybiB0W2VdfWNhdGNoKHQpe319O3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuLHM7cmV0dXJuIHZvaWQgMD09PXQ/IlVuZGVmaW5lZCI6bnVsbD09PXQ/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yobj1vKGU9T2JqZWN0KHQpLGEpKT9uOmk/cihlKToiT2JqZWN0Ij09KHM9cihlKSkmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNhbGxlZT8iQXJndW1lbnRzIjpzfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjMpKCJpdGVyYXRvciIpLGE9ITE7dHJ5e3ZhciBpPVs3XVtyXSgpO2kucmV0dXJuPWZ1bmN0aW9uKCl7YT0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHQpe310LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighZSYmIWEpcmV0dXJuITE7dmFyIG49ITE7dHJ5e3ZhciBpPVs3XSxvPWlbcl0oKTtvLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpuPSEwfX0saVtyXT1mdW5jdGlvbigpe3JldHVybiBvfSx0KGkpfWNhdGNoKHQpe31yZXR1cm4gbn19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2MCksYT1uKDYxKSxpPW4oNTQpLG89bigzMCk7dC5leHBvcnRzPW4oNjIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24odCxlKXt0aGlzLl90PW8odCksdGhpcy5faT0wLHRoaXMuX2s9ZX0sZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90LGU9dGhpcy5fayxuPXRoaXMuX2krKztyZXR1cm4hdHx8bj49dC5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLGEoMSkpOiJrZXlzIj09ZT9hKDAsbik6InZhbHVlcyI9PWU/YSgwLHRbbl0pOmEoMCxbbix0W25dXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LHIoImtleXMiKSxyKCJ2YWx1ZXMiKSxyKCJlbnRyaWVzIil9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIzKSgidW5zY29wYWJsZXMiKSxhPUFycmF5LnByb3RvdHlwZTt2b2lkIDA9PWFbcl0mJm4oOCkoYSxyLHt9KSx0LmV4cG9ydHM9ZnVuY3Rpb24odCl7YVtyXVt0XT0hMH19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJue3ZhbHVlOmUsZG9uZTohIXR9fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDI2KSxhPW4oNiksaT1uKDE2KSxvPW4oOCkscz1uKDMpLGw9big1NCksYz1uKDYzKSxoPW4oMjIpLHU9big2NCksZj1uKDIzKSgiaXRlcmF0b3IiKSxkPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLEM9IkBAaXRlcmF0b3IiLHY9ImtleXMiLHA9InZhbHVlcyIsZz1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4seSxiLG0seCl7YyhuLGUseSk7dmFyIHcsUyxrLEw9ZnVuY3Rpb24odCl7aWYoIWQmJnQgaW4gTSlyZXR1cm4gTVt0XTtzd2l0Y2godCl7Y2FzZSB2OnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfTtjYXNlIHA6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsdCl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfX0sXz1lKyIgSXRlcmF0b3IiLEU9Yj09cCxUPSExLE09dC5wcm90b3R5cGUsTz1NW2ZdfHxNW0NdfHxiJiZNW2JdLFA9T3x8TChiKSxBPWI/RT9MKCJlbnRyaWVzIik6UDp2b2lkIDAsRj0iQXJyYXkiPT1lP00uZW50cmllc3x8TzpPO2lmKEYmJihrPXUoRi5jYWxsKG5ldyB0KSksayE9PU9iamVjdC5wcm90b3R5cGUmJihoKGssXywhMCkscnx8cyhrLGYpfHxvKGssZixnKSkpLEUmJk8mJk8ubmFtZSE9PXAmJihUPSEwLFA9ZnVuY3Rpb24oKXtyZXR1cm4gTy5jYWxsKHRoaXMpfSksciYmIXh8fCFkJiYhVCYmTVtmXXx8byhNLGYsUCksbFtlXT1QLGxbX109ZyxiKWlmKHc9e3ZhbHVlczpFP1A6TChwKSxrZXlzOm0/UDpMKHYpLGVudHJpZXM6QX0seClmb3IoUyBpbiB3KVMgaW4gTXx8aShNLFMsd1tTXSk7ZWxzZSBhKGEuUCthLkYqKGR8fFQpLGUsdyk7cmV0dXJuIHd9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNDQpLGE9bigxNSksaT1uKDIyKSxvPXt9O24oOCkobyxuKDIzKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt0LnByb3RvdHlwZT1yKG8se25leHQ6YSgxLG4pfSksaSh0LGUrIiBJdGVyYXRvciIpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMyksYT1uKDUxKSxpPW4oMzgpKCJJRV9QUk9UTyIpLG89T2JqZWN0LnByb3RvdHlwZTt0LmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0KXtyZXR1cm4gdD1hKHQpLHIodCxpKT90W2ldOiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZ0IGluc3RhbmNlb2YgdC5jb25zdHJ1Y3Rvcj90LmNvbnN0cnVjdG9yLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgT2JqZWN0P286bnVsbH19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2NikoITApO24oNjIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbih0KXt0aGlzLl90PVN0cmluZyh0KSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl90LG49dGhpcy5faTtyZXR1cm4gbj49ZS5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfToodD1yKGUsbiksdGhpcy5faSs9dC5sZW5ndGgse3ZhbHVlOnQsZG9uZTohMX0pfSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDM2KSxhPW4oMzMpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgaSxvLHM9U3RyaW5nKGEoZSkpLGw9cihuKSxjPXMubGVuZ3RoO3JldHVybiBsPDB8fGw+PWM/dD8iIjp2b2lkIDA6KGk9cy5jaGFyQ29kZUF0KGwpLGk8NTUyOTZ8fGk+NTYzMTl8fGwrMT09PWN8fChvPXMuY2hhckNvZGVBdChsKzEpKTw1NjMyMHx8bz41NzM0Mz90P3MuY2hhckF0KGwpOmk6dD9zLnNsaWNlKGwsbCsyKTooaS01NTI5Njw8MTApKyhvLTU2MzIwKSs2NTUzNil9fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDY4KTt0LmV4cG9ydHM9big3MykoIlNldCIsZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQodGhpcyxhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSx7YWRkOmZ1bmN0aW9uKHQpe3JldHVybiByLmRlZih0aGlzLHQ9MD09PXQ/MDp0LHQpfX0scil9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9big5KS5mLGE9big0NCksaT1uKDY5KSxvPW4oMTgpLHM9big3MCksbD1uKDMzKSxjPW4oNzEpLGg9big2MiksdT1uKDYxKSxmPW4oNzIpLGQ9big0KSxDPW4oMjApLmZhc3RLZXksdj1kPyJfcyI6InNpemUiLHA9ZnVuY3Rpb24odCxlKXt2YXIgbixyPUMoZSk7aWYoIkYiIT09cilyZXR1cm4gdC5faVtyXTtmb3Iobj10Ll9mO247bj1uLm4paWYobi5rPT1lKXJldHVybiBufTt0LmV4cG9ydHM9e2dldENvbnN0cnVjdG9yOmZ1bmN0aW9uKHQsZSxuLGgpe3ZhciB1PXQoZnVuY3Rpb24odCxyKXtzKHQsdSxlLCJfaSIpLHQuX2k9YShudWxsKSx0Ll9mPXZvaWQgMCx0Ll9sPXZvaWQgMCx0W3ZdPTAsdm9pZCAwIT1yJiZjKHIsbix0W2hdLHQpfSk7cmV0dXJuIGkodS5wcm90b3R5cGUse2NsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT10Ll9pLG49dC5fZjtuO249bi5uKW4ucj0hMCxuLnAmJihuLnA9bi5wLm49dm9pZCAwKSxkZWxldGUgZVtuLmldO3QuX2Y9dC5fbD12b2lkIDAsdFt2XT0wfSxkZWxldGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXAoZSx0KTtpZihuKXt2YXIgcj1uLm4sYT1uLnA7ZGVsZXRlIGUuX2lbbi5pXSxuLnI9ITAsYSYmKGEubj1yKSxyJiYoci5wPWEpLGUuX2Y9PW4mJihlLl9mPXIpLGUuX2w9PW4mJihlLl9sPWEpLGVbdl0tLX1yZXR1cm4hIW59LGZvckVhY2g6ZnVuY3Rpb24odCl7cyh0aGlzLHUsImZvckVhY2giKTtmb3IodmFyIGUsbj1vKHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7ZT1lP2Uubjp0aGlzLl9mOylmb3IobihlLnYsZS5rLHRoaXMpO2UmJmUucjspZT1lLnB9LGhhczpmdW5jdGlvbih0KXtyZXR1cm4hIXAodGhpcyx0KX19KSxkJiZyKHUucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGwodGhpc1t2XSl9fSksdX0sZGVmOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcixhLGk9cCh0LGUpO3JldHVybiBpP2kudj1uOih0Ll9sPWk9e2k6YT1DKGUsITApLGs6ZSx2Om4scDpyPXQuX2wsbjp2b2lkIDAscjohMX0sdC5fZnx8KHQuX2Y9aSksciYmKHIubj1pKSx0W3ZdKyssIkYiIT09YSYmKHQuX2lbYV09aSkpLHR9LGdldEVudHJ5OnAsc2V0U3Ryb25nOmZ1bmN0aW9uKHQsZSxuKXtoKHQsZSxmdW5jdGlvbih0LGUpe3RoaXMuX3Q9dCx0aGlzLl9rPWUsdGhpcy5fbD12b2lkIDB9LGZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT10Ll9rLG49dC5fbDtuJiZuLnI7KW49bi5wO3JldHVybiB0Ll90JiYodC5fbD1uPW4/bi5uOnQuX3QuX2YpPyJrZXlzIj09ZT91KDAsbi5rKToidmFsdWVzIj09ZT91KDAsbi52KTp1KDAsW24uayxuLnZdKToodC5fdD12b2lkIDAsdSgxKSl9LG4/ImVudHJpZXMiOiJ2YWx1ZXMiLCFuLCEwKSxmKGUpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE2KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgYSBpbiBlKXIodCxhLGVbYV0sbik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixyKXtpZighKHQgaW5zdGFuY2VvZiBlKXx8dm9pZCAwIT09ciYmciBpbiB0KXRocm93IFR5cGVFcnJvcihuKyI6IGluY29ycmVjdCBpbnZvY2F0aW9uISIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTgpLGE9big1MiksaT1uKDUzKSxvPW4oMTApLHM9bigzNSksbD1uKDU2KSxjPXt9LGg9e30sZT10LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4sdSxmKXt2YXIgZCxDLHYscCxnPWY/ZnVuY3Rpb24oKXtyZXR1cm4gdH06bCh0KSx5PXIobix1LGU/MjoxKSxiPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGcpdGhyb3cgVHlwZUVycm9yKHQrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShnKSl7Zm9yKGQ9cyh0Lmxlbmd0aCk7ZD5iO2IrKylpZihwPWU/eShvKEM9dFtiXSlbMF0sQ1sxXSk6eSh0W2JdKSxwPT09Y3x8cD09PWgpcmV0dXJuIHB9ZWxzZSBmb3Iodj1nLmNhbGwodCk7IShDPXYubmV4dCgpKS5kb25lOylpZihwPWEodix5LEMudmFsdWUsZSkscD09PWN8fHA9PT1oKXJldHVybiBwfTtlLkJSRUFLPWMsZS5SRVRVUk49aH0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDIpLGE9big5KSxpPW4oNCksbz1uKDIzKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1yW3RdO2kmJmUmJiFlW29dJiZhLmYoZSxvLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMiksYT1uKDYpLGk9bigxNiksbz1uKDY5KSxzPW4oMjApLGw9big3MSksYz1uKDcwKSxoPW4oMTEpLHU9big1KSxmPW4oNTgpLGQ9bigyMiksQz1uKDc0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4sdixwLGcpe3ZhciB5PXJbdF0sYj15LG09cD8ic2V0IjoiYWRkIix4PWImJmIucHJvdG90eXBlLHc9e30sUz1mdW5jdGlvbih0KXt2YXIgZT14W3RdO2koeCx0LCJkZWxldGUiPT10P2Z1bmN0aW9uKHQpe3JldHVybiEoZyYmIWgodCkpJiZlLmNhbGwodGhpcywwPT09dD8wOnQpfToiaGFzIj09dD9mdW5jdGlvbih0KXtyZXR1cm4hKGcmJiFoKHQpKSYmZS5jYWxsKHRoaXMsMD09PXQ/MDp0KX06ImdldCI9PXQ/ZnVuY3Rpb24odCl7cmV0dXJuIGcmJiFoKHQpP3ZvaWQgMDplLmNhbGwodGhpcywwPT09dD8wOnQpfToiYWRkIj09dD9mdW5jdGlvbih0KXtyZXR1cm4gZS5jYWxsKHRoaXMsMD09PXQ/MDp0KSx0aGlzfTpmdW5jdGlvbih0LG4pe3JldHVybiBlLmNhbGwodGhpcywwPT09dD8wOnQsbiksdGhpc30pfTtpZigiZnVuY3Rpb24iPT10eXBlb2YgYiYmKGd8fHguZm9yRWFjaCYmIXUoZnVuY3Rpb24oKXsobmV3IGIpLmVudHJpZXMoKS5uZXh0KCl9KSkpe3ZhciBrPW5ldyBiLEw9a1ttXShnP3t9Oi0wLDEpIT1rLF89dShmdW5jdGlvbigpe2suaGFzKDEpfSksRT1mKGZ1bmN0aW9uKHQpe25ldyBiKHQpfSksVD0hZyYmdShmdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgYixlPTU7ZS0tOyl0W21dKGUsZSk7cmV0dXJuIXQuaGFzKC0wKX0pO0V8fChiPWUoZnVuY3Rpb24oZSxuKXtjKGUsYix0KTt2YXIgcj1DKG5ldyB5LGUsYik7cmV0dXJuIHZvaWQgMCE9biYmbChuLHAsclttXSxyKSxyfSksYi5wcm90b3R5cGU9eCx4LmNvbnN0cnVjdG9yPWIpLChffHxUKSYmKFMoImRlbGV0ZSIpLFMoImhhcyIpLHAmJlMoImdldCIpKSwoVHx8TCkmJlMobSksZyYmeC5jbGVhciYmZGVsZXRlIHguY2xlYXJ9ZWxzZSBiPXYuZ2V0Q29uc3RydWN0b3IoZSx0LHAsbSksbyhiLnByb3RvdHlwZSxuKSxzLk5FRUQ9ITA7cmV0dXJuIGQoYix0KSx3W3RdPWIsYShhLkcrYS5XK2EuRiooYiE9eSksdyksZ3x8di5zZXRTdHJvbmcoYix0LHApLGJ9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMSksYT1uKDc1KS5zZXQ7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxvPWUuY29uc3RydWN0b3I7cmV0dXJuIG8hPT1uJiYiZnVuY3Rpb24iPT10eXBlb2YgbyYmKGk9by5wcm90b3R5cGUpIT09bi5wcm90b3R5cGUmJnIoaSkmJmEmJmEodCxpKSx0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTEpLGE9bigxMCksaT1mdW5jdGlvbih0LGUpe2lmKGEodCksIXIoZSkmJm51bGwhPT1lKXRocm93IFR5cGVFcnJvcihlKyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LGUscil7dHJ5e3I9bigxOCkoRnVuY3Rpb24uY2FsbCxuKDQ5KS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxyKHQsW10pLGU9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKHQpe2U9ITB9cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIGkodCxuKSxlP3QuX19wcm90b19fPW46cih0LG4pLHR9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNik7cihyLlMrci5GLCJPYmplY3QiLHthc3NpZ246big3Nyl9KX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDI4KSxhPW4oNDEpLGk9big0Miksbz1uKDUxKSxzPW4oMzEpLGw9T2JqZWN0LmFzc2lnbjt0LmV4cG9ydHM9IWx8fG4oNSkoZnVuY3Rpb24oKXt2YXIgdD17fSxlPXt9LG49U3ltYm9sKCkscj0iYWJjZGVmZ2hpamtsbW5vcHFyc3QiO3JldHVybiB0W25dPTcsci5zcGxpdCgiIikuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPXR9KSw3IT1sKHt9LHQpW25dfHxPYmplY3Qua2V5cyhsKHt9LGUpKS5qb2luKCIiKSE9cn0pP2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPW8odCksbD1hcmd1bWVudHMubGVuZ3RoLGM9MSxoPWEuZix1PWkuZjtsPmM7KWZvcih2YXIgZixkPXMoYXJndW1lbnRzW2MrK10pLEM9aD9yKGQpLmNvbmNhdChoKGQpKTpyKGQpLHY9Qy5sZW5ndGgscD0wO3Y+cDspdS5jYWxsKGQsZj1DW3ArK10pJiYobltmXT1kW2ZdKTtyZXR1cm4gbn06bH1dKX0sZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbihlLHIpe3QuZXhwb3J0cz1yKG4oMykpfSh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2lmKG5bcl0pcmV0dXJuIG5bcl0uZXhwb3J0czt2YXIgYT1uW3JdPXtleHBvcnRzOnt9LGlkOnIsbG9hZGVkOiExfTtyZXR1cm4gdFtyXS5jYWxsKGEuZXhwb3J0cyxhLGEuZXhwb3J0cyxlKSxhLmxvYWRlZD0hMCxhLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIGUubT10LGUuYz1uLGUucD0iIixlKDApfShbZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbigxKTt2YXIgYT1uKDUpLGk9cihhKTtlLmRlZmF1bHQ9aS5kZWZhdWx0fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKTsic3RyaW5nIj09dHlwZW9mIHImJihyPVtbdC5pZCxyLCIiXV0pLG4oNCkocix7fSksci5sb2NhbHMmJih0LmV4cG9ydHM9ci5sb2NhbHMpfSxmdW5jdGlvbih0LGUsbil7ZT10LmV4cG9ydHM9bigzKSgpLGUucHVzaChbdC5pZCwnLnBoeWxvY2FudmFzLWhpc3Rvcnl7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Ym90dG9tOjA7bGVmdDowO2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDoyNDBweDtiYWNrZ3JvdW5kOiNmZmY7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMjQwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0yNDBweCk7LXdlYmtpdC10cmFuc2Zvcm0tc3R5bGU6cHJlc2VydmUtM2Q7dHJhbnNmb3JtLXN0eWxlOnByZXNlcnZlLTNkO3dpbGwtY2hhbmdlOnRyYW5zZm9ybTstd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb246LjJzO3RyYW5zaXRpb24tZHVyYXRpb246LjJzOy13ZWJraXQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC40LDAsLjIsMSk7dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC40LDAsLjIsMSk7LXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5Oi13ZWJraXQtdHJhbnNmb3JtO3RyYW5zaXRpb24tcHJvcGVydHk6LXdlYmtpdC10cmFuc2Zvcm07dHJhbnNpdGlvbi1wcm9wZXJ0eTp0cmFuc2Zvcm07dHJhbnNpdGlvbi1wcm9wZXJ0eTp0cmFuc2Zvcm0sLXdlYmtpdC10cmFuc2Zvcm07Ym9yZGVyOjFweCBzb2xpZCAjZTdlN2U3O2JvcmRlci1sZWZ0Om5vbmV9LnBoeWxvY2FudmFzLWhpc3RvcnktLW9wZW57LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTtib3gtc2hhZG93OjAgMnB4IDJweCAwIHJnYmEoMCwwLDAsLjE0KSwwIDNweCAxcHggLTJweCByZ2JhKDAsMCwwLC4yKSwwIDFweCA1cHggMCByZ2JhKDAsMCwwLC4xMil9LnBoeWxvY2FudmFzLWhpc3RvcnktYnV0dG9ue2JvcmRlcjpub25lO2hlaWdodDoyNHB4O2xpbmUtaGVpZ2h0OjI0cHg7dGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luOmF1dG87bWluLXdpZHRoOjU2cHg7d2lkdGg6NTZweDtwYWRkaW5nOjA7b3ZlcmZsb3c6aGlkZGVuO2JhY2tncm91bmQ6IzNjNzM4Mztjb2xvcjojZmZmO2JveC1zaGFkb3c6MCAxcHggMS41cHggMCByZ2JhKDAsMCwwLC4xMiksMCAxcHggMXB4IDAgcmdiYSgwLDAsMCwuMjQpO3Bvc2l0aW9uOnJlbGF0aXZlO2xpbmUtaGVpZ2h0Om5vcm1hbDtwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MTZweDtyaWdodDotNTdweDt6LWluZGV4OjE7b3V0bGluZTpub25lO2N1cnNvcjpwb2ludGVyO2JvcmRlci1yYWRpdXM6MCAwIDJweCAycHg7Zm9udC1zaXplOjEzcHg7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC05MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtOTBkZWcpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdDt0cmFuc2Zvcm0tb3JpZ2luOnRvcCBsZWZ0fS5waHlsb2NhbnZhcy1oaXN0b3J5LXNuYXBzaG90c3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDttYXJnaW46MDtwYWRkaW5nOjA7b3ZlcmZsb3cteDpoaWRkZW47b3ZlcmZsb3cteTpzY3JvbGx9LnBoeWxvY2FudmFzLWhpc3Rvcnktc25hcHNob3R7bGlzdC1zdHlsZTpub25lO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNlN2U3ZTc7Y3Vyc29yOnBvaW50ZXI7Ym94LXNpemluZzpib3JkZXItYm94O2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjEyOHB4fS5waHlsb2NhbnZhcy1oaXN0b3J5LXNuYXBzaG90OmFmdGVye2NvbnRlbnQ6IiI7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Ym90dG9tOjA7cmlnaHQ6MDt3aWR0aDo0cHg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMnMgY3ViaWMtYmV6aWVyKC40LDAsLjIsMSk7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4ycyBjdWJpYy1iZXppZXIoLjQsMCwuMiwxKX0ucGh5bG9jYW52YXMtaGlzdG9yeS1zbmFwc2hvdC0tc2VsZWN0ZWQ6YWZ0ZXIsLnBoeWxvY2FudmFzLWhpc3Rvcnktc25hcHNob3Q6aG92ZXI6YWZ0ZXJ7YmFja2dyb3VuZC1jb2xvcjojM2M3MzgzfS5waHlsb2NhbnZhcy1oaXN0b3J5LXNuYXBzaG90PmltZ3t3aWR0aDoxMDAlO2hlaWdodDoxMjhweDstby1vYmplY3QtZml0OmNvbnRhaW47b2JqZWN0LWZpdDpjb250YWlufScsIiJdKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdC50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXNbZV07blsyXT90LnB1c2goIkBtZWRpYSAiK25bMl0rInsiK25bMV0rIn0iKTp0LnB1c2goblsxXSl9cmV0dXJuIHQuam9pbigiIil9LHQuaT1mdW5jdGlvbihlLG4peyJzdHJpbmciPT10eXBlb2YgZSYmKGU9W1tudWxsLGUsIiJdXSk7Zm9yKHZhciByPXt9LGE9MDthPHRoaXMubGVuZ3RoO2ErKyl7dmFyIGk9dGhpc1thXVswXTsibnVtYmVyIj09dHlwZW9mIGkmJihyW2ldPSEwKX1mb3IoYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgbz1lW2FdOyJudW1iZXIiPT10eXBlb2Ygb1swXSYmcltvWzBdXXx8KG4mJiFvWzJdP29bMl09bjpuJiYob1syXT0iKCIrb1syXSsiKSBhbmQgKCIrbisiKSIpLHQucHVzaChvKSl9fSx0fX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXSxhPWRbci5pZF07aWYoYSl7YS5yZWZzKys7Zm9yKHZhciBpPTA7aTxhLnBhcnRzLmxlbmd0aDtpKyspYS5wYXJ0c1tpXShyLnBhcnRzW2ldKTtmb3IoO2k8ci5wYXJ0cy5sZW5ndGg7aSsrKWEucGFydHMucHVzaChjKHIucGFydHNbaV0sZSkpfWVsc2V7Zm9yKHZhciBvPVtdLGk9MDtpPHIucGFydHMubGVuZ3RoO2krKylvLnB1c2goYyhyLnBhcnRzW2ldLGUpKTtkW3IuaWRdPXtpZDpyLmlkLHJlZnM6MSxwYXJ0czpvfX19fWZ1bmN0aW9uIGEodCl7Zm9yKHZhciBlPVtdLG49e30scj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgYT10W3JdLGk9YVswXSxvPWFbMV0scz1hWzJdLGw9YVszXSxjPXtjc3M6byxtZWRpYTpzLHNvdXJjZU1hcDpsfTtuW2ldP25baV0ucGFydHMucHVzaChjKTplLnB1c2gobltpXT17aWQ6aSxwYXJ0czpbY119KX1yZXR1cm4gZX1mdW5jdGlvbiBpKHQsZSl7dmFyIG49cCgpLHI9YltiLmxlbmd0aC0xXTtpZigidG9wIj09PXQuaW5zZXJ0QXQpcj9yLm5leHRTaWJsaW5nP24uaW5zZXJ0QmVmb3JlKGUsci5uZXh0U2libGluZyk6bi5hcHBlbmRDaGlsZChlKTpuLmluc2VydEJlZm9yZShlLG4uZmlyc3RDaGlsZCksYi5wdXNoKGUpO2Vsc2V7aWYoImJvdHRvbSIhPT10Lmluc2VydEF0KXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuIik7bi5hcHBlbmRDaGlsZChlKX19ZnVuY3Rpb24gbyh0KXt0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk7dmFyIGU9Yi5pbmRleE9mKHQpO2U+PTAmJmIuc3BsaWNlKGUsMSl9ZnVuY3Rpb24gcyh0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3JldHVybiBlLnR5cGU9InRleHQvY3NzIixpKHQsZSksZX1mdW5jdGlvbiBsKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpbmsiKTtyZXR1cm4gZS5yZWw9InN0eWxlc2hlZXQiLGkodCxlKSxlfWZ1bmN0aW9uIGModCxlKXt2YXIgbixyLGE7aWYoZS5zaW5nbGV0b24pe3ZhciBpPXkrKztuPWd8fChnPXMoZSkpLHI9aC5iaW5kKG51bGwsbixpLCExKSxhPWguYmluZChudWxsLG4saSwhMCl9ZWxzZSB0LnNvdXJjZU1hcCYmImZ1bmN0aW9uIj09dHlwZW9mIFVSTCYmImZ1bmN0aW9uIj09dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwmJiJmdW5jdGlvbiI9PXR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMJiYiZnVuY3Rpb24iPT10eXBlb2YgQmxvYiYmImZ1bmN0aW9uIj09dHlwZW9mIGJ0b2E/KG49bChlKSxyPWYuYmluZChudWxsLG4pLGE9ZnVuY3Rpb24oKXtvKG4pLG4uaHJlZiYmVVJMLnJldm9rZU9iamVjdFVSTChuLmhyZWYpfSk6KG49cyhlKSxyPXUuYmluZChudWxsLG4pLGE9ZnVuY3Rpb24oKXtvKG4pfSk7cmV0dXJuIHIodCksZnVuY3Rpb24oZSl7aWYoZSl7aWYoZS5jc3M9PT10LmNzcyYmZS5tZWRpYT09PXQubWVkaWEmJmUuc291cmNlTWFwPT09dC5zb3VyY2VNYXApcmV0dXJuO3IodD1lKX1lbHNlIGEoKX19ZnVuY3Rpb24gaCh0LGUsbixyKXt2YXIgYT1uPyIiOnIuY3NzO2lmKHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD1tKGUsYSk7ZWxzZXt2YXIgaT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSxvPXQuY2hpbGROb2RlcztvW2VdJiZ0LnJlbW92ZUNoaWxkKG9bZV0pLG8ubGVuZ3RoP3QuaW5zZXJ0QmVmb3JlKGksb1tlXSk6dC5hcHBlbmRDaGlsZChpKX19ZnVuY3Rpb24gdSh0LGUpe3ZhciBuPWUuY3NzLHI9ZS5tZWRpYTtpZihyJiZ0LnNldEF0dHJpYnV0ZSgibWVkaWEiLHIpLHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD1uO2Vsc2V7Zm9yKDt0LmZpcnN0Q2hpbGQ7KXQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKTt0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4pKX19ZnVuY3Rpb24gZih0LGUpe3ZhciBuPWUuY3NzLHI9ZS5zb3VyY2VNYXA7ciYmKG4rPSJcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShyKSkpKSsiICovIik7dmFyIGE9bmV3IEJsb2IoW25dLHt0eXBlOiJ0ZXh0L2NzcyJ9KSxpPXQuaHJlZjt0LmhyZWY9VVJMLmNyZWF0ZU9iamVjdFVSTChhKSxpJiZVUkwucmV2b2tlT2JqZWN0VVJMKGkpfXZhciBkPXt9LEM9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBlJiYoZT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSksZX19LHY9QyhmdW5jdGlvbigpe3JldHVybi9tc2llIFs2LTldXGIvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSl9KSxwPUMoZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXX0pLGc9bnVsbCx5PTAsYj1bXTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtlPWV8fHt9LCJ1bmRlZmluZWQiPT10eXBlb2YgZS5zaW5nbGV0b24mJihlLnNpbmdsZXRvbj12KCkpLCJ1bmRlZmluZWQiPT10eXBlb2YgZS5pbnNlcnRBdCYmKGUuaW5zZXJ0QXQ9ImJvdHRvbSIpO3ZhciBuPWEodCk7cmV0dXJuIHIobixlKSxmdW5jdGlvbih0KXtmb3IodmFyIGk9W10sbz0wO288bi5sZW5ndGg7bysrKXt2YXIgcz1uW29dLGw9ZFtzLmlkXTtsLnJlZnMtLSxpLnB1c2gobCl9aWYodCl7dmFyIGM9YSh0KTtyKGMsZSl9Zm9yKHZhciBvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBsPWlbb107aWYoMD09PWwucmVmcyl7Zm9yKHZhciBoPTA7aDxsLnBhcnRzLmxlbmd0aDtoKyspbC5wYXJ0c1toXSgpO2RlbGV0ZSBkW2wuaWRdfX19fTt2YXIgbT1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVybiB0W2VdPW4sdC5maWx0ZXIoQm9vbGVhbikuam9pbigiXG4iKX19KCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPUFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59cmV0dXJuIEFycmF5LmZyb20odCl9ZnVuY3Rpb24gYSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGkodCl7dCh0aGlzLCJjcmVhdGVUcmVlIixmdW5jdGlvbih0LGUpe3ZhciBuPXQuYXBwbHkodm9pZCAwLHIoZSkpLGE9byhlLDIpLGk9YVsxXSxzPXZvaWQgMD09PWk/e306aTtyZXR1cm4gcy5oaXN0b3J5IT09ITEmJihuLmhpc3Rvcnk9bmV3IHkobixzLmhpc3Rvcnl8fHt9KSksbn0pLHRoaXMuSGlzdG9yeT15fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgbj1bXSxyPSEwLGE9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSkmJihuLnB1c2goby52YWx1ZSksIWV8fG4ubGVuZ3RoIT09ZSk7cj0hMCk7fWNhdGNoKHQpe2E9ITAsaT10fWZpbmFsbHl7dHJ5eyFyJiZzLnJldHVybiYmcy5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgaX19cmV0dXJuIG59cmV0dXJuIGZ1bmN0aW9uKGUsbil7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZTtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKXJldHVybiB0KGUsbik7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfX0oKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpO2UuZGVmYXVsdD1pO3ZhciBsPW4oNiksYz1sLnV0aWxzLmRvbSxoPWMuYWRkQ2xhc3MsdT1jLnJlbW92ZUNsYXNzLGY9bC51dGlscy5ldmVudHMsZD1mLmZpcmVFdmVudCxDPWYuYWRkRXZlbnQsdj1mLmtpbGxFdmVudCxwPSJwaHlsb2NhbnZhcy1oaXN0b3J5LXNuYXBzaG90IixnPXArIi0tc2VsZWN0ZWQiLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7dmFyIHI9dGhpcyxpPW4ucGFyZW50LG89dm9pZCAwPT09aT9lLmNvbnRhaW5lckVsZW1lbnQ6aSxzPW4uekluZGV4LGw9dm9pZCAwPT09cz8xOnM7YSh0aGlzLHQpLHRoaXMudHJlZT1lLHRoaXMuc25hcHNob3RzPVtdLHRoaXMuaXNPcGVuPSExLHRoaXMucGFyZW50PW8sdGhpcy5idXR0b25DbGlja0hhbmRsZXI9dGhpcy50b2dnbGUuYmluZCh0aGlzKSx0aGlzLmNvbnRhaW5lcj10aGlzLmNyZWF0ZUVsZW1lbnRzKG8pLHRoaXMuY29udGFpbmVyLnN0eWxlLnpJbmRleD1sLHRoaXMudHJlZS5hZGRMaXN0ZW5lcigic3VidHJlZSIsZnVuY3Rpb24odCl7dmFyIGU9dC5ub2RlO3JldHVybiByLmFkZFNuYXBzaG90KGUpfSksdGhpcy50cmVlLmFkZExpc3RlbmVyKCJsb2FkZWQiLGZ1bmN0aW9uKCl7cmV0dXJuIHIuYWRkU25hcHNob3Qoci50cmVlLnJvb3QuaWQpfSksdGhpcy50cmVlLmFkZExpc3RlbmVyKCJ0eXBlY2hhbmdlZCIsZnVuY3Rpb24oKXtyZXR1cm4gci5hZGRTbmFwc2hvdChyLnRyZWUucm9vdC5pZCl9KX1yZXR1cm4gcyh0LFt7a2V5OiJ0b2dnbGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pc09wZW49IXRoaXMuaXNPcGVuLCh0aGlzLmlzT3Blbj9oOnUpKHRoaXMuY29udGFpbmVyLCJwaHlsb2NhbnZhcy1oaXN0b3J5LS1vcGVuIiksdGhpcy5wYXJlbnRbKHRoaXMuaXNPcGVuPyJhZGQiOiJyZW1vdmUiKSsiRXZlbnRMaXN0ZW5lciJdKCJjbGljayIsdGhpcy5idXR0b25DbGlja0hhbmRsZXIpLGQodGhpcy50cmVlLmNvbnRhaW5lckVsZW1lbnQsImhpc3Rvcnl0b2dnbGUiLHtpc09wZW46dGhpcy5pc09wZW59KX19LHtrZXk6ImNyZWF0ZUVsZW1lbnRzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLmNsYXNzTmFtZT0icGh5bG9jYW52YXMtaGlzdG9yeSIsQyhlLCJjbGljayIsdiksQyhlLCJjb250ZXh0bWVudSIsdik7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7bi5jbGFzc05hbWU9InBoeWxvY2FudmFzLWhpc3RvcnktYnV0dG9uIixuLmlubmVySFRNTD0iSGlzdG9yeSIsQyhuLCJjbGljayIsdGhpcy5idXR0b25DbGlja0hhbmRsZXIpLGUuYXBwZW5kQ2hpbGQobiksdGhpcy5idXR0b249bjt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ1bCIpO3JldHVybiByLmNsYXNzTmFtZT0icGh5bG9jYW52YXMtaGlzdG9yeS1zbmFwc2hvdHMiLGUuYXBwZW5kQ2hpbGQociksdGhpcy5zbmFwc2hvdExpc3Q9cix0LmFwcGVuZENoaWxkKGUpLGV9fSx7a2V5OiJhZGRTbmFwc2hvdCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9dGhpcy50cmVlLnRyZWVUeXBlLG49ITE7aWYodGhpcy5zbmFwc2hvdHMuZm9yRWFjaChmdW5jdGlvbihyKXt1KHIsZyksci5nZXRBdHRyaWJ1dGUoImRhdGEtdHJlZS1yb290Iik9PT10JiZyLmdldEF0dHJpYnV0ZSgiZGF0YS10cmVlLXR5cGUiKT09PWUmJihuPSEwLGgocixnKSl9KSwhbil7dmFyIHI9dGhpcy50cmVlLmdldFBuZ1VybCgpLGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGkiKTthLmNsYXNzTmFtZT1wKyIgIitnLGEuc2V0QXR0cmlidXRlKCJkYXRhLXRyZWUtcm9vdCIsdCksYS5zZXRBdHRyaWJ1dGUoImRhdGEtdHJlZS10eXBlIix0aGlzLnRyZWUudHJlZVR5cGUpLGEuY2xhc3NOYW1lPXArIiAiK2c7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7aS5zcmM9cix0aGlzLnNuYXBzaG90cy5wdXNoKGEpLGEuYXBwZW5kQ2hpbGQoaSksdGhpcy5zbmFwc2hvdExpc3QuYXBwZW5kQ2hpbGQoYSksQyhhLCJjbGljayIsdGhpcy5nb0JhY2tUby5iaW5kKHRoaXMsYSkpfX19fSx7a2V5OiJjbGVhciIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5zbmFwc2hvdHMubGVuZ3RoO3QtLTspdGhpcy5zbmFwc2hvdExpc3QucmVtb3ZlQ2hpbGQodGhpcy5zbmFwc2hvdHNbdF0pO3RoaXMuc25hcHNob3RzLmxlbmd0aD0wfX0se2tleToiZ29CYWNrVG8iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0QXR0cmlidXRlKCJkYXRhLXRyZWUtcm9vdCIpO3RoaXMudHJlZS5zZXRUcmVlVHlwZSh0LmdldEF0dHJpYnV0ZSgiZGF0YS10cmVlLXR5cGUiKSwhMCksdGhpcy50cmVlLnJlZHJhd0Zyb21CcmFuY2godGhpcy50cmVlLm9yaWdpbmFsVHJlZS5icmFuY2hlc1tlXSksdGhpcy50b2dnbGUoKX19XSksdH0oKX0sZnVuY3Rpb24oZSxuKXtlLmV4cG9ydHM9dH1dKX0pfSxmdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKGUsbil7dC5leHBvcnRzPW4oKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2lmKG5bcl0pcmV0dXJuIG5bcl0uZXhwb3J0czt2YXIgYT1uW3JdPXtleHBvcnRzOnt9LGlkOnIsbG9hZGVkOiExfTtyZXR1cm4gdFtyXS5jYWxsKGEuZXhwb3J0cyxhLGEuZXhwb3J0cyxlKSxhLmxvYWRlZD0hMCxhLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIGUubT10LGUuYz1uLGUucD0iL2Rpc3QvIixlKDApfShbZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX1mdW5jdGlvbiBhKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSxuKXt2YXIgcj10W2VdP3Q6dC5wcm90b3R5cGUsYT1yW2VdO3JbZV09ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KHQpLHI9MDtyPHQ7cisrKWVbcl09YXJndW1lbnRzW3JdO3JldHVybiBuLmNhbGwodGhpcyxhLGUpfX1mdW5jdGlvbiBvKHQpe3QuY2FsbCh0aGlzLGkpfWZ1bmN0aW9uIHModCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBuZXcgYy5kZWZhdWx0KHQsZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUudXRpbHM9ZS5ub2RlUmVuZGVyZXJzPWUudHJlZVR5cGVzPWUuUGFyc2VyPWUuVG9vbHRpcD1lLlByZXJlbmRlcmVyPWUuQnJhbmNoPWUuVHJlZT12b2lkIDA7dmFyIGw9bigxKSxjPWEobCksaD1uKDcpLHU9YShoKSxmPW4oMTEpLGQ9YShmKSxDPW4oMjcpLHY9YShDKSxwPW4oMjkpLGc9YShwKSx5PW4oOCksYj1hKHkpLG09bigyNikseD1hKG0pLHc9bigyKSxTPXIodyk7ZS5UcmVlPWMuZGVmYXVsdCxlLkJyYW5jaD11LmRlZmF1bHQsZS5QcmVyZW5kZXJlcj1kLmRlZmF1bHQsZS5Ub29sdGlwPXYuZGVmYXVsdCxlLlBhcnNlcj1nLmRlZmF1bHQsZS50cmVlVHlwZXM9Yi5kZWZhdWx0LGUubm9kZVJlbmRlcmVycz14LmRlZmF1bHQsZS51dGlscz1TLGUuZGVmYXVsdD17cGx1Z2luOm8sY3JlYXRlVHJlZTpzfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjsKZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gYSh0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPUFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59cmV0dXJuIEFycmF5LmZyb20odCl9ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxzPW4oMiksbD1uKDcpLGM9cihsKSxoPW4oMjcpLHU9big4KSxmPXIodSksZD1uKDI4KSxDPXIoZCksdj1zLmRvbS5hZGRDbGFzcyxwPXMuZG9tLnNldEN1cnNvckRyYWcsZz1zLmRvbS5zZXRDdXJzb3JEcmFnZ2luZyx5PXMuZXZlbnRzLmZpcmVFdmVudCxiPXMuZXZlbnRzLmFkZEV2ZW50LG09cy5ldmVudHMucmVtb3ZlRXZlbnQseD1zLmNhbnZhcy5nZXRQaXhlbFJhdGlvLHc9cy5jYW52YXMudHJhbnNsYXRlQ2xpY2ssUz1zLmNvbnN0YW50cy5QcmVkaWNhdGVzLGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPXRoaXMscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aSh0aGlzLHQpLHRoaXMuX3BvaW50PXt4OjAseTowfSx0aGlzLmNvbnRhaW5lckVsZW1lbnQ9InN0cmluZyI9PXR5cGVvZiBlP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpOmUsdih0aGlzLmNvbnRhaW5lckVsZW1lbnQsInBjLWNvbnRhaW5lciIpLHRoaXMuYnJhbmNoZXM9e30sdGhpcy5sZWF2ZXM9W10sdGhpcy5yb290PSExLHRoaXMuc3RyaW5nUmVwcmVzZW50YXRpb249IiIsdGhpcy5iYWNrQ29sb3VyPSExLHRoaXMub3JpZ2luYWxUcmVlPXt9LCJzdGF0aWMiPT09d2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5jb250YWluZXJFbGVtZW50KS5wb3NpdGlvbiYmKHRoaXMuY29udGFpbmVyRWxlbWVudC5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSx0aGlzLmNvbnRhaW5lckVsZW1lbnQuc3R5bGUuYm94U2l6aW5nPSJib3JkZXItYm94Ijt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTthLmlkPSh0aGlzLmNvbnRhaW5lckVsZW1lbnQuaWR8fCIiKSsiX19jYW52YXMiLGEuY2xhc3NOYW1lPSJwaHlsb2NhbnZhcyIsYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiLGEuaGVpZ2h0PWUub2Zmc2V0SGVpZ2h0fHw0MDAsYS53aWR0aD1lLm9mZnNldFdpZHRofHw0MDAsYS5zdHlsZS56SW5kZXg9IjEiLHRoaXMuY29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZChhKSx0aGlzLmNhbnZhcz1hLmdldENvbnRleHQoIjJkIiksdGhpcy5jYW52YXMuY2FudmFzLm9uc2VsZWN0c3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdGhpcy5jYW52YXMuZmlsbFN0eWxlPSIjMDAwMDAwIix0aGlzLmNhbnZhcy5zdHJva2VTdHlsZT0iIzAwMDAwMCIsdGhpcy5jYW52YXMuc2F2ZSgpLHRoaXMuY29sbGFwc2VkQ29sb3VyPSJyZ2JhKDAsIDAsIDAsIDAuNSkiLHRoaXMuZGVmYXVsdENvbGxhcHNlZD17fSx0aGlzLnRvb2x0aXA9bmV3IGguQ2hpbGROb2Rlc1Rvb2x0aXAodGhpcyksdGhpcy5kcmF3bj0hMSx0aGlzLmhpZ2hsaWdodGVycz1bXSx0aGlzLnpvb209MSx0aGlzLnpvb21GYWN0b3I9Myx0aGlzLmRpc2FibGVab29tPSExLHRoaXMuZmlsbENhbnZhcz0hMSx0aGlzLmJyYW5jaFNjYWxpbmc9ITAsdGhpcy5jdXJyZW50QnJhbmNoU2NhbGU9MSx0aGlzLmJyYW5jaFNjYWxpbmdTdGVwPTEuMix0aGlzLnBpY2tlZHVwPSExLHRoaXMuZHJhZ2dpbmc9ITEsdGhpcy5zdGFydHg9bnVsbCx0aGlzLnN0YXJ0eT1udWxsLHRoaXMuYmFzZU5vZGVTaXplPTEsdGhpcy5vcmlneD1udWxsLHRoaXMub3JpZ3k9bnVsbCx0aGlzLm9mZnNldHg9dGhpcy5jYW52YXMuY2FudmFzLndpZHRoLzIsdGhpcy5vZmZzZXR5PXRoaXMuY2FudmFzLmNhbnZhcy5oZWlnaHQvMix0aGlzLnNlbGVjdGVkQ29sb3VyPSJyZ2JhKDQ5LDE1MSwyNDUsMSkiLHRoaXMuaGlnaGxpZ2h0Q29sb3VyPSJyZ2JhKDQ5LDE1MSwyNDUsMSkiLHRoaXMuaGlnaGxpZ2h0V2lkdGg9NCx0aGlzLmhpZ2hsaWdodFNpemU9Mix0aGlzLmJyYW5jaENvbG91cj0icmdiYSgwLDAsMCwxKSIsdGhpcy5icmFuY2hTY2FsYXI9MSx0aGlzLnBhZGRpbmc9NTAsdGhpcy5sYWJlbFBhZGRpbmc9NSx0aGlzLm11bHRpU2VsZWN0PSEwLHRoaXMuY2xpY2tGbGFnPSJzZWxlY3RlZCIsdGhpcy5jbGlja0ZsYWdQcmVkaWNhdGU9Uy50YXV0b2xvZ3ksdGhpcy5ob3ZlckxhYmVsPSExLHRoaXMuaW50ZXJuYWxOb2Rlc1NlbGVjdGFibGU9ITAsdGhpcy5zaG93TGFiZWxzPSEwLHRoaXMuc2hvd0JyYW5jaExlbmd0aExhYmVscz0hMSx0aGlzLmJyYW5jaExlbmd0aExhYmVsUHJlZGljYXRlPVMudGF1dG9sb2d5LHRoaXMuc2hvd0ludGVybmFsTm9kZUxhYmVscz0hMSx0aGlzLmludGVybmFsTGFiZWxTdHlsZT17Y29sb3VyOnRoaXMuYnJhbmNoQ29sb3VyLHRleHRTaXplOnRoaXMudGV4dFNpemUsZm9udDp0aGlzLmZvbnQsZm9ybWF0OiIifSx0aGlzLnNldFRyZWVUeXBlKCJyYWRpYWwiKSx0aGlzLm1heEJyYW5jaExlbmd0aD0wLHRoaXMubGluZVdpZHRoPTEsdGhpcy50ZXh0U2l6ZT03LHRoaXMuZm9udD0ic2Fucy1zZXJpZiIsdGhpcy51bnNlbGVjdE9uQ2xpY2tBd2F5PSEwLHRoaXMuZmFydGhlc3ROb2RlRnJvbVJvb3RYPTAsdGhpcy5mYXJ0aGVzdE5vZGVGcm9tUm9vdFk9MCx0aGlzLnNoaWZ0S2V5RHJhZz0hMSx0aGlzLm1heExhYmVsTGVuZ3RoPXt9LE9iamVjdC5hc3NpZ24odGhpcyxyKSx0aGlzLnJlc2l6ZVRvQ29udGFpbmVyKCksdGhpcy5ldmVudExpc3RlbmVycz17fTt2YXIgbz1PYmplY3QuYXNzaWduKHtjbGljazp7bGlzdGVuZXI6dGhpcy5jbGlja2VkLmJpbmQodGhpcyl9LG1vdXNlZG93bjp7bGlzdGVuZXI6dGhpcy5waWNrdXAuYmluZCh0aGlzKX0sbW91c2V1cDp7bGlzdGVuZXI6dGhpcy5kcm9wLmJpbmQodGhpcyl9LG1vdXNlb3V0OntsaXN0ZW5lcjp0aGlzLmRyb3AuYmluZCh0aGlzKX0sbW91c2Vtb3ZlOnt0YXJnZXQ6dGhpcy5jYW52YXMuY2FudmFzLGxpc3RlbmVyOnRoaXMuZHJhZy5iaW5kKHRoaXMpfSxtb3VzZXdoZWVsOnt0YXJnZXQ6dGhpcy5jYW52YXMuY2FudmFzLGxpc3RlbmVyOnRoaXMuc2Nyb2xsLmJpbmQodGhpcyl9LERPTU1vdXNlU2Nyb2xsOnt0YXJnZXQ6dGhpcy5jYW52YXMuY2FudmFzLGxpc3RlbmVyOnRoaXMuc2Nyb2xsLmJpbmQodGhpcyl9LHJlc2l6ZTp7dGFyZ2V0OndpbmRvdyxsaXN0ZW5lcjpmdW5jdGlvbigpe24ucmVzaXplVG9Db250YWluZXIoKSxuLmRyYXcoKX19fSxyLmV2ZW50TGlzdGVuZXJzfHx7fSkscz0hMCxsPSExLGM9dm9pZCAwO3RyeXtmb3IodmFyIHUsZj1PYmplY3Qua2V5cyhvKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShzPSh1PWYubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgZD11LnZhbHVlLEM9b1tkXSxwPUMubGlzdGVuZXIsZz1DLnRhcmdldDt0aGlzLmFkZExpc3RlbmVyKGQscCxnKX19Y2F0Y2godCl7bD0hMCxjPXR9ZmluYWxseXt0cnl7IXMmJmYucmV0dXJuJiZmLnJldHVybigpfWZpbmFsbHl7aWYobCl0aHJvdyBjfX19cmV0dXJuIG8odCxbe2tleToicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9ITAsZT0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciByLGE9T2JqZWN0LmtleXModGhpcy5ldmVudExpc3RlbmVycylbU3ltYm9sLml0ZXJhdG9yXSgpOyEodD0ocj1hLm5leHQoKSkuZG9uZSk7dD0hMCl7dmFyIGk9ci52YWx1ZSxvPSEwLHM9ITEsbD12b2lkIDA7dHJ5e2Zvcih2YXIgYyxoPXRoaXMuZXZlbnRMaXN0ZW5lcnNbaV1bU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYz1oLm5leHQoKSkuZG9uZSk7bz0hMCl7dmFyIHU9Yy52YWx1ZSxmPXUudGFyZ2V0LGQ9dS5saXN0ZW5lcjttKGZ8fHRoaXMuY29udGFpbmVyRWxlbWVudCxpLGQpfX1jYXRjaCh0KXtzPSEwLGw9dH1maW5hbGx5e3RyeXshbyYmaC5yZXR1cm4mJmgucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGx9fX19Y2F0Y2godCl7ZT0hMCxuPXR9ZmluYWxseXt0cnl7IXQmJmEucmV0dXJuJiZhLnJldHVybigpfWZpbmFsbHl7aWYoZSl0aHJvdyBufX19fSx7a2V5OiJzZXRJbml0aWFsQ29sbGFwc2VkQnJhbmNoZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLnJvb3Q7aWYodD1uLmdldENoaWxkUHJvcGVydGllcygiaWQiKSx0JiZ0Lmxlbmd0aD50aGlzLmRlZmF1bHRDb2xsYXBzZWQubWluJiZ0Lmxlbmd0aDx0aGlzLmRlZmF1bHRDb2xsYXBzZWQubWF4KXJldHVybiB2b2lkKG4uY29sbGFwc2VkPSEwKTtmb3IoZT0wO2U8bi5jaGlsZHJlbi5sZW5ndGg7ZSsrKXRoaXMuc2V0SW5pdGlhbENvbGxhcHNlZEJyYW5jaGVzKG4uY2hpbGRyZW5bZV0pfX0se2tleToiZ2V0Tm9kZUF0TW91c2VQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5yb290KS5jbGlja2VkLmFwcGx5KGUsYSh3KHQsdGhpcykpKX19LHtrZXk6ImdldFNlbGVjdGVkTm9kZUlkcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXROb2RlSWRzV2l0aEZsYWcoInNlbGVjdGVkIil9fSx7a2V5OiJnZXROb2RlSWRzV2l0aEZsYWciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07cmV0dXJuIHRoaXMubGVhdmVzLnJlZHVjZShmdW5jdGlvbihuLHIpe3JldHVybiByW3RdPT09ZSYmbi5wdXNoKHIuaWQpLG59LFtdKX19LHtrZXk6ImNsaWNrZWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKDA9PT10LmJ1dHRvbil7dmFyIG49W107aWYodGhpcy5kcmFnZ2luZylyZXR1cm4gdm9pZCh0aGlzLmRyYWdnaW5nPSExKTtpZighdGhpcy5yb290KXJldHVybiExO2U9dGhpcy5nZXROb2RlQXRNb3VzZVBvc2l0aW9uKHQpO3ZhciByPXRoaXMubXVsdGlTZWxlY3QmJih0Lm1ldGFLZXl8fHQuY3RybEtleSk7aWYoZSYmZS5pbnRlcmFjdGl2ZSlpZihyKXtpZihlLmxlYWYpZVt0aGlzLmNsaWNrRmxhZ109IWVbdGhpcy5jbGlja0ZsYWddO2Vsc2UgaWYodGhpcy5pbnRlcm5hbE5vZGVzU2VsZWN0YWJsZSl7dmFyIGE9ZS5nZXRDaGlsZFByb3BlcnRpZXModGhpcy5jbGlja0ZsYWcpLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT0hMX0pO2UuY2FzY2FkZUZsYWcodGhpcy5jbGlja0ZsYWcsYSx0aGlzLmNsaWNrRmxhZ1ByZWRpY2F0ZSl9bj10aGlzLmdldE5vZGVJZHNXaXRoRmxhZyh0aGlzLmNsaWNrRmxhZyksdGhpcy5kcmF3KCl9ZWxzZSB0aGlzLnJvb3QuY2FzY2FkZUZsYWcodGhpcy5jbGlja0ZsYWcsITEsdGhpcy5jbGlja0ZsYWdQcmVkaWNhdGUpLCh0aGlzLmludGVybmFsTm9kZXNTZWxlY3RhYmxlfHxlLmxlYWYpJiYoZS5jYXNjYWRlRmxhZyh0aGlzLmNsaWNrRmxhZywhMCx0aGlzLmNsaWNrRmxhZ1ByZWRpY2F0ZSksbj1lLmdldENoaWxkUHJvcGVydGllcygiaWQiKSksdGhpcy5kcmF3KCk7ZWxzZSF0aGlzLnVuc2VsZWN0T25DbGlja0F3YXl8fHRoaXMuZHJhZ2dpbmd8fHJ8fCh0aGlzLnJvb3QuY2FzY2FkZUZsYWcodGhpcy5jbGlja0ZsYWcsITEsdGhpcy5jbGlja0ZsYWdQcmVkaWNhdGUpLHRoaXMuZHJhdygpKTt0aGlzLnBpY2tlZHVwfHwodGhpcy5kcmFnZ2luZz0hMSksdGhpcy5ub2Rlc1VwZGF0ZWQobix0aGlzLmNsaWNrRmxhZyl9fX0se2tleToiZHJhZyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9eCh0aGlzLmNhbnZhcyk7aWYoIXRoaXMuZHJhd24pcmV0dXJuITE7aWYodGhpcy5waWNrZWR1cCl7dmFyIG49KHQuY2xpZW50WC10aGlzLnN0YXJ0eCkqZSxyPSh0LmNsaWVudFktdGhpcy5zdGFydHkpKmU7TWF0aC5hYnMobikrTWF0aC5hYnMocik+NSYmKHRoaXMuZHJhZ2dpbmc9ITAsdGhpcy5vZmZzZXR4PXRoaXMub3JpZ3grbix0aGlzLm9mZnNldHk9dGhpcy5vcmlneStyLHRoaXMuZHJhdygpKX1lbHNle3ZhciBhPXQsaT10aGlzLmdldE5vZGVBdE1vdXNlUG9zaXRpb24oYSk7aSYmaS5pbnRlcmFjdGl2ZSYmKHRoaXMuaW50ZXJuYWxOb2Rlc1NlbGVjdGFibGV8fGkubGVhZik/KHRoaXMucm9vdC5jYXNjYWRlRmxhZygiaG92ZXJlZCIsITEpLGkuaG92ZXJlZD0hMCxpLmxlYWZ8fGkuaGFzQ29sbGFwc2VkQW5jZXN0b3IoKXx8dGhpcy50b29sdGlwLm9wZW4oYS5jbGllbnRYLGEuY2xpZW50WSxpKSx0aGlzLmNvbnRhaW5lckVsZW1lbnQuc3R5bGUuY3Vyc29yPSJwb2ludGVyIik6KHRoaXMudG9vbHRpcC5jbG9zZSgpLHRoaXMucm9vdC5jYXNjYWRlRmxhZygiaG92ZXJlZCIsITEpLHRoaXMuc2hpZnRLZXlEcmFnJiZhLnNoaWZ0S2V5P3AodGhpcy5jb250YWluZXJFbGVtZW50KTp0aGlzLmNvbnRhaW5lckVsZW1lbnQuc3R5bGUuY3Vyc29yPSJhdXRvIiksdGhpcy5kcmF3KCl9fX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5oaWdobGlnaHRlcnMubGVuZ3RoPTAsMD09PXRoaXMubWF4QnJhbmNoTGVuZ3RoKXJldHVybiB2b2lkIHRoaXMubG9hZEVycm9yKG5ldyBFcnJvcigiQWxsIGJyYW5jaGVzIGluIHRoZSB0cmVlIGFyZSBpZGVudGljYWwuIikpO3RoaXMuY2FudmFzLmNsZWFyUmVjdCgwLDAsdGhpcy5jYW52YXMuY2FudmFzLndpZHRoLHRoaXMuY2FudmFzLmNhbnZhcy5oZWlnaHQpLHRoaXMuY2FudmFzLmxpbmVDYXA9InJvdW5kIix0aGlzLmNhbnZhcy5saW5lSm9pbj0icm91bmQiLHRoaXMuY2FudmFzLnN0cm9rZVN0eWxlPXRoaXMuYnJhbmNoQ29sb3VyLHRoaXMuY2FudmFzLnNhdmUoKSx0aGlzLmRyYXduJiYhdHx8KHRoaXMucHJlcmVuZGVyZXIucnVuKHRoaXMpLHR8fHRoaXMuZml0SW5QYW5lbCgpKTt2YXIgZT14KHRoaXMuY2FudmFzKTt0aGlzLmNhbnZhcy5saW5lV2lkdGg9dGhpcy5saW5lV2lkdGgvdGhpcy56b29tLHRoaXMuY2FudmFzLnRyYW5zbGF0ZSh0aGlzLm9mZnNldHgqZSx0aGlzLm9mZnNldHkqZSksdGhpcy5jYW52YXMuc2NhbGUodGhpcy56b29tLHRoaXMuem9vbSksdGhpcy5icmFuY2hSZW5kZXJlci5yZW5kZXIodGhpcyx0aGlzLnJvb3QpLHRoaXMuaGlnaGxpZ2h0ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQoKX0pLHRoaXMuZHJhd249ITAsdGhpcy5jYW52YXMucmVzdG9yZSgpfX0se2tleToicGlja3VwIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5zaGlmdEtleURyYWd8fHQuc2hpZnRLZXkpe2lmKCF0aGlzLmRyYXduKXJldHVybiExO3RoaXMub3JpZ3g9dGhpcy5vZmZzZXR4LHRoaXMub3JpZ3k9dGhpcy5vZmZzZXR5LDA9PT10LmJ1dHRvbiYmKHRoaXMucGlja2VkdXA9ITAsZyh0aGlzLmNvbnRhaW5lckVsZW1lbnQpKSx0aGlzLnN0YXJ0eD10LmNsaWVudFgsdGhpcy5zdGFydHk9dC5jbGllbnRZfX19LHtrZXk6ImRyb3AiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5kcmF3biYmKHRoaXMucGlja2VkdXA9ITEsdm9pZCh0aGlzLnNoaWZ0S2V5RHJhZyYmdC5zaGlmdEtleT9wKHRoaXMuY29udGFpbmVyRWxlbWVudCk6dGhpcy5jb250YWluZXJFbGVtZW50LnN0eWxlLmN1cnNvcj0iYXV0byIpKX19LHtrZXk6InNjcm9sbCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoISh0aGlzLmRpc2FibGVab29tfHwid2hlZWxEZWx0YSJpbiB0JiYwPT09dC53aGVlbERlbHRhKSl7dC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX3BvaW50Lng9dC5vZmZzZXRYLHRoaXMuX3BvaW50Lnk9dC5vZmZzZXRZO3ZhciBlPXQuZGV0YWlsPDB8fHQud2hlZWxEZWx0YT4wPzE6LTE7dGhpcy5icmFuY2hTY2FsaW5nJiYodC5tZXRhS2V5fHx0LmN0cmxLZXkpPyh0aGlzLmN1cnJlbnRCcmFuY2hTY2FsZSo9TWF0aC5wb3codGhpcy5icmFuY2hTY2FsaW5nU3RlcCxlKSx0aGlzLnNldEJyYW5jaFNjYWxlKHRoaXMuY3VycmVudEJyYW5jaFNjYWxlLHRoaXMuX3BvaW50KSk6dGhpcy5zbW9vdGhab29tKGUsdGhpcy5fcG9pbnQpfX19LHtrZXk6ImZpbmRMZWF2ZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToiaWQiLG49W10scj0hMCxhPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIG8scz10aGlzLmxlYXZlc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgbD1vLnZhbHVlO2xbZV0mJmxbZV0ubWF0Y2godCkmJm4ucHVzaChsKX19Y2F0Y2godCl7YT0hMCxpPXR9ZmluYWxseXt0cnl7IXImJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBpfX1yZXR1cm4gbn19LHtrZXk6InVwZGF0ZUxlYXZlcyIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPSEwLGE9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPXRoaXMubGVhdmVzW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpO3I9ITApe3ZhciBsPW8udmFsdWU7bFtlXT0hbn19Y2F0Y2godCl7YT0hMCxpPXR9ZmluYWxseXt0cnl7IXImJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBpfX12YXIgYz0hMCxoPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIGYsZD10W1N5bWJvbC5pdGVyYXRvcl0oKTshKGM9KGY9ZC5uZXh0KCkpLmRvbmUpO2M9ITApe3ZhciBDPWYudmFsdWU7Q1tlXT1ufX1jYXRjaCh0KXtoPSEwLHU9dH1maW5hbGx5e3RyeXshYyYmZC5yZXR1cm4mJmQucmV0dXJuKCl9ZmluYWxseXtpZihoKXRocm93IHV9fXRoaXMubm9kZXNVcGRhdGVkKHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSksZSl9fSx7a2V5OiJjbGVhclNlbGVjdCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJvb3QuY2FzY2FkZUZsYWcoInNlbGVjdGVkIiwhMSksdGhpcy5kcmF3KCl9fSx7a2V5OiJnZXRQbmdVcmwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzLmNhbnZhcy50b0RhdGFVUkwoKX19LHtrZXk6ImxvYWQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWFyZ3VtZW50c1syXSxyPWUsYT1uO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlJiYoYT1lLHI9e30pLGEmJihyLmNhbGxiYWNrPWEpLHIuZm9ybWF0KXJldHVybiB2b2lkIHRoaXMuYnVpbGQodCxDLmRlZmF1bHRbci5mb3JtYXRdLHIpO3ZhciBpPSEwLG89ITEscz12b2lkIDA7dHJ5e2Zvcih2YXIgbCxjPU9iamVjdC5rZXlzKEMuZGVmYXVsdClbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0obD1jLm5leHQoKSkuZG9uZSk7aT0hMCl7dmFyIGg9bC52YWx1ZSx1PUMuZGVmYXVsdFtoXTtpZih0Lm1hdGNoKHUuZmlsZUV4dGVuc2lvbil8fHQubWF0Y2godS52YWxpZGF0b3IpKXJldHVybiB2b2lkIHRoaXMuYnVpbGQodCx1LHIpfX1jYXRjaCh0KXtvPSEwLHM9dH1maW5hbGx5e3RyeXshaSYmYy5yZXR1cm4mJmMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHN9fXZhciBmPW5ldyBFcnJvcigiU3RyaW5nIG5vdCByZWNvZ25pc2VkIGFzIGEgZmlsZSBvciBhIHBhcnNlYWJsZSBmb3JtYXQgc3RyaW5nIik7YSYmYShmKSx0aGlzLmxvYWRFcnJvcihmKX19LHtrZXk6InNhdmVPcmlnaW5hbFRyZWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5vcmlnaW5hbFRyZWUuYnJhbmNoZXM9dGhpcy5icmFuY2hlcyx0aGlzLm9yaWdpbmFsVHJlZS5sZWF2ZXM9dGhpcy5sZWF2ZXMsdGhpcy5vcmlnaW5hbFRyZWUucm9vdD10aGlzLnJvb3QsdGhpcy5vcmlnaW5hbFRyZWUuYnJhbmNoTGVuZ3Rocz17fSx0aGlzLm9yaWdpbmFsVHJlZS5wYXJlbnRzPXt9fX0se2tleToiY2xlYXJTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJvb3Q9ITEsdGhpcy5sZWF2ZXM9W10sdGhpcy5icmFuY2hlcz17fSx0aGlzLmRyYXduPSExfX0se2tleToiZXh0cmFjdE5lc3RlZEJyYW5jaGVzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYnJhbmNoZXM9e30sdGhpcy5sZWF2ZXM9W10sdGhpcy5zdG9yZU5vZGUodGhpcy5yb290KSx0aGlzLnJvb3QuZXh0cmFjdENoaWxkcmVuKCl9fSx7a2V5OiJzYXZlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5leHRyYWN0TmVzdGVkQnJhbmNoZXMoKSx0aGlzLnJvb3QuYnJhbmNoTGVuZ3RoPTAsdGhpcy5tYXhCcmFuY2hMZW5ndGg9MCx0aGlzLnJvb3Quc2V0VG90YWxMZW5ndGgoKSwwPT09dGhpcy5tYXhCcmFuY2hMZW5ndGgpcmV0dXJuIHZvaWQgdGhpcy5sb2FkRXJyb3IobmV3IEVycm9yKCJBbGwgYnJhbmNoZXMgaW4gdGhlIHRyZWUgYXJlIGlkZW50aWNhbC4iKSl9fSx7a2V5OiJidWlsZCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7dGhpcy5vcmlnaW5hbFRyZWU9e30sdGhpcy5jbGVhclN0YXRlKCksYy5kZWZhdWx0Lmxhc3RJZD0wO3ZhciBhPW5ldyBjLmRlZmF1bHQ7YS5pZD0icm9vdCIsdGhpcy5icmFuY2hlcy5yb290PWEsdGhpcy5zZXRSb290KGEpLGUucGFyc2Uoe2Zvcm1hdFN0cmluZzp0LHJvb3Q6YSxvcHRpb25zOm59LGZ1bmN0aW9uKGUpe3JldHVybiBlPyhuLmNhbGxiYWNrJiZuLmNhbGxiYWNrKGUpLHZvaWQgci5sb2FkRXJyb3IoZSkpOihyLnN0cmluZ1JlcHJlc2VudGF0aW9uPXQsci5zYXZlU3RhdGUoKSxyLnNldEluaXRpYWxDb2xsYXBzZWRCcmFuY2hlcygpLHIuYmVmb3JlRmlyc3REcmF3KCksci5kcmF3KCksci5zYXZlT3JpZ2luYWxUcmVlKCksbi5jYWxsYmFjayYmbi5jYWxsYmFjaygpLHZvaWQgci5sb2FkQ29tcGxldGVkKCkpfSl9fSx7a2V5OiJyZWRyYXdGcm9tQnJhbmNoIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNsZWFyU3RhdGUoKSx0aGlzLnJlc2V0VHJlZSgpLHRoaXMub3JpZ2luYWxUcmVlLmJyYW5jaExlbmd0aHNbdC5pZF09dC5icmFuY2hMZW5ndGgsdGhpcy5vcmlnaW5hbFRyZWUucGFyZW50c1t0LmlkXT10LnBhcmVudCx0aGlzLnJvb3Q9dCx0aGlzLnJvb3QucGFyZW50PSExLHRoaXMuc2F2ZVN0YXRlKCksdGhpcy5kcmF3KCksdGhpcy5zdWJ0cmVlRHJhd24odC5pZCl9fSx7a2V5OiJyZWRyYXdPcmlnaW5hbFRyZWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5sb2FkKHRoaXMuc3RyaW5nUmVwcmVzZW50YXRpb24pfX0se2tleToic3RvcmVOb2RlIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0LmlkJiYiIiE9PXQuaWR8fCh0LmlkPWMuZGVmYXVsdC5nZW5lcmF0ZUlkKCkpLHRoaXMuYnJhbmNoZXNbdC5pZF0mJnQhPT10aGlzLmJyYW5jaGVzW3QuaWRdKXtpZih0LmxlYWYpdGhyb3cgbmV3IEVycm9yKCJUd28gbm9kZXMgb24gdGhpcyB0cmVlIHNoYXJlIHRoZSBpZCAiK3QuaWQpO3QuaWQ9Yy5kZWZhdWx0LmdlbmVyYXRlSWQoKX10aGlzLmJyYW5jaGVzW3QuaWRdPXQsdC5sZWFmJiZ0aGlzLmxlYXZlcy5wdXNoKHQpfX0se2tleToic2V0Tm9kZVNpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYmFzZU5vZGVTaXplPU51bWJlcih0KSx0aGlzLmRyYXcoKX19LHtrZXk6InNldFJvb3QiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudHJlZT10aGlzLHRoaXMucm9vdD10fX0se2tleToic2V0VGV4dFNpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMudGV4dFNpemU9TnVtYmVyKHQpLHRoaXMuZHJhdygpfX0se2tleToic2V0Rm9udFNpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMudGV4dFNpemU9dGhpcy5jYWxjdWxhdGVGb250U2l6ZT90aGlzLmNhbGN1bGF0ZUZvbnRTaXplKHQpOk1hdGgubWluKHQvMiwxNSksdGhpcy5jYW52YXMuZm9udD10aGlzLnRleHRTaXplKyJwdCAiK3RoaXMuZm9udH19LHtrZXk6InNldFRyZWVUeXBlIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCEodCBpbiBmLmRlZmF1bHQpKXJldHVybiB5KHRoaXMuY29udGFpbmVyRWxlbWVudCwiZXJyb3IiLHtlcnJvcjpuZXcgRXJyb3IoJyInK3QrJyIgaXMgbm90IGEga25vd24gdHJlZS10eXBlLicpfSk7dmFyIG49dGhpcy50cmVlVHlwZTt0aGlzLnRyZWVUeXBlPXQsdGhpcy50eXBlPWYuZGVmYXVsdFt0XSx0aGlzLmJyYW5jaFJlbmRlcmVyPWYuZGVmYXVsdFt0XS5icmFuY2hSZW5kZXJlcix0aGlzLnByZXJlbmRlcmVyPWYuZGVmYXVsdFt0XS5wcmVyZW5kZXJlcix0aGlzLmxhYmVsQWxpZ249Zi5kZWZhdWx0W3RdLmxhYmVsQWxpZ24sdGhpcy5jYWxjdWxhdGVGb250U2l6ZT1mLmRlZmF1bHRbdF0uY2FsY3VsYXRlRm9udFNpemUsdGhpcy5kcmF3biYmKHRoaXMuZHJhd249ITEsdGhpcy5kcmF3KCkpLGV8fHRoaXMudHJlZVR5cGVDaGFuZ2VkKG4sdCl9fSx7a2V5OiJzZXRTaXplIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuY2FudmFzLmNhbnZhcy53aWR0aD10LHRoaXMuY2FudmFzLmNhbnZhcy5oZWlnaHQ9ZSx0aGlzLm5hdmlnYXRvciYmdGhpcy5uYXZpZ2F0b3IucmVzaXplKCksdGhpcy5hZGp1c3RGb3JQaXhlbFJhdGlvKCl9fSx7a2V5OiJhZGp1c3RGb3JQaXhlbFJhdGlvIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXgodGhpcy5jYW52YXMpO3RoaXMuY2FudmFzLmNhbnZhcy5zdHlsZS5oZWlnaHQ9dGhpcy5jYW52YXMuY2FudmFzLmhlaWdodCsicHgiLHRoaXMuY2FudmFzLmNhbnZhcy5zdHlsZS53aWR0aD10aGlzLmNhbnZhcy5jYW52YXMud2lkdGgrInB4Iix0PjEmJih0aGlzLmNhbnZhcy5jYW52YXMud2lkdGgqPXQsdGhpcy5jYW52YXMuY2FudmFzLmhlaWdodCo9dCl9fSx7a2V5OiJnZXRDZW50cmVQb2ludCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD14KHRoaXMuY2FudmFzKTtyZXR1cm57eDp0aGlzLmNhbnZhcy5jYW52YXMud2lkdGgvMi90LHk6dGhpcy5jYW52YXMuY2FudmFzLmhlaWdodC8yL3R9fX0se2tleToic2V0Wm9vbSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMuZ2V0Q2VudHJlUG9pbnQoKSxuPWUueCxyPWUueTtpZih0PjApe3ZhciBhPXRoaXMuem9vbTt0aGlzLnpvb209dCx0aGlzLm9mZnNldHg9dGhpcy5jYWxjdWxhdGVab29tZWRPZmZzZXQodGhpcy5vZmZzZXR4LG4sYSx0KSx0aGlzLm9mZnNldHk9dGhpcy5jYWxjdWxhdGVab29tZWRPZmZzZXQodGhpcy5vZmZzZXR5LHIsYSx0KSx0aGlzLmRyYXcoKX19fSx7a2V5OiJzbW9vdGhab29tIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuc2V0Wm9vbShNYXRoLnBvdygxMCxNYXRoLmxvZyh0aGlzLnpvb20pL01hdGgubG9nKDEwKSt0KnRoaXMuem9vbUZhY3RvciouMDEpLGUpfX0se2tleToiY2FsY3VsYXRlWm9vbWVkT2Zmc2V0Iix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4tMSooKC0xKnQrZSkvbipyLWUpfX0se2tleToic2V0QnJhbmNoU2NhbGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjEsZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e3g6dGhpcy5jYW52YXMuY2FudmFzLndpZHRoLzIseTp0aGlzLmNhbnZhcy5jYW52YXMuaGVpZ2h0LzJ9LG49Zi5kZWZhdWx0W3RoaXMudHJlZVR5cGVdO2lmKG4uYnJhbmNoU2NhbGluZ0F4aXMmJiEodDwwKSl7dmFyIHI9dGhpcy5icmFuY2hTY2FsYXI7dGhpcy5icmFuY2hTY2FsYXI9dGhpcy5pbml0aWFsQnJhbmNoU2NhbGFyKnQ7dmFyIGE9dGhpcy5icmFuY2hTY2FsYXIvcixpPXRoaXNbIm9mZnNldCIrbi5icmFuY2hTY2FsaW5nQXhpc10sbz1lW24uYnJhbmNoU2NhbGluZ0F4aXNdLHM9KGVbbi5icmFuY2hTY2FsaW5nQXhpc10taSkqYStpO3RoaXNbIm9mZnNldCIrbi5icmFuY2hTY2FsaW5nQXhpc10rPW8tcyx0aGlzLmRyYXcoKX19fSx7a2V5OiJ0b2dnbGVMYWJlbHMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zaG93TGFiZWxzPSF0aGlzLnNob3dMYWJlbHMsdGhpcy5kcmF3KCl9fSx7a2V5OiJzZXRNYXhMYWJlbExlbmd0aCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDt2b2lkIDA9PT10aGlzLm1heExhYmVsTGVuZ3RoW3RoaXMudHJlZVR5cGVdJiYodGhpcy5tYXhMYWJlbExlbmd0aFt0aGlzLnRyZWVUeXBlXT0wKTtmb3IodmFyIGU9MDtlPHRoaXMubGVhdmVzLmxlbmd0aDtlKyspdD10aGlzLmNhbnZhcy5tZWFzdXJlVGV4dCh0aGlzLmxlYXZlc1tlXS5pZCksdC53aWR0aD50aGlzLm1heExhYmVsTGVuZ3RoW3RoaXMudHJlZVR5cGVdJiYodGhpcy5tYXhMYWJlbExlbmd0aFt0aGlzLnRyZWVUeXBlXT10LndpZHRoKX19LHtrZXk6ImxvYWRTdGFydGVkIix2YWx1ZTpmdW5jdGlvbigpe3kodGhpcy5jb250YWluZXJFbGVtZW50LCJsb2FkaW5nIil9fSx7a2V5OiJiZWZvcmVGaXJzdERyYXciLHZhbHVlOmZ1bmN0aW9uKCl7eSh0aGlzLmNvbnRhaW5lckVsZW1lbnQsImJlZm9yZUZpcnN0RHJhdyIpfX0se2tleToibG9hZENvbXBsZXRlZCIsdmFsdWU6ZnVuY3Rpb24oKXt5KHRoaXMuY29udGFpbmVyRWxlbWVudCwibG9hZGVkIil9fSx7a2V5OiJsb2FkRXJyb3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3kodGhpcy5jb250YWluZXJFbGVtZW50LCJlcnJvciIse2Vycm9yOnR9KX19LHtrZXk6InN1YnRyZWVEcmF3biIsdmFsdWU6ZnVuY3Rpb24odCl7eSh0aGlzLmNvbnRhaW5lckVsZW1lbnQsInN1YnRyZWUiLHtub2RlOnR9KX19LHtrZXk6Im5vZGVzVXBkYXRlZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO3kodGhpcy5jb250YWluZXJFbGVtZW50LCJ1cGRhdGVkIix7bm9kZUlkczp0LHByb3BlcnR5OmUsYXBwZW5kOm59KX19LHtrZXk6InRyZWVUeXBlQ2hhbmdlZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt5KHRoaXMuY29udGFpbmVyRWxlbWVudCwidHlwZWNoYW5nZWQiLHtvbGRUeXBlOnQsbmV3VHlwZTplfSl9fSx7a2V5OiJhZGRMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3RoaXMuZXZlbnRMaXN0ZW5lcnNbdF18fCh0aGlzLmV2ZW50TGlzdGVuZXJzW3RdPVtdKSx0aGlzLmV2ZW50TGlzdGVuZXJzW3RdLnB1c2goe2xpc3RlbmVyOmUsdGFyZ2V0Om59KSxiKG58fHRoaXMuY29udGFpbmVyRWxlbWVudCx0LGUpfX0se2tleToicmVtb3ZlTGlzdGVuZXIiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXttKG58fHRoaXMuY29udGFpbmVyRWxlbWVudCx0LGUpfX0se2tleToiZ2V0Qm91bmRzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLmxlYXZlcyxlPXQ9PT10aGlzLmxlYXZlcz90aGlzLnJvb3Q6dFswXSxuPWUuc3RhcnR4LHI9ZS5zdGFydHgsYT1lLnN0YXJ0eSxpPWUuc3RhcnR5LG89ITAscz0hMSxsPXZvaWQgMDt0cnl7Zm9yKHZhciBjLGg9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShvPShjPWgubmV4dCgpKS5kb25lKTtvPSEwKXt2YXIgdT1jLnZhbHVlLGY9dS5nZXRCb3VuZHMoKTtuPU1hdGgubWluKG4sZi5taW54KSxyPU1hdGgubWF4KHIsZi5tYXh4KSxhPU1hdGgubWluKGEsZi5taW55KSxpPU1hdGgubWF4KGksZi5tYXh5KX19Y2F0Y2godCl7cz0hMCxsPXR9ZmluYWxseXt0cnl7IW8mJmgucmV0dXJuJiZoLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBsfX1yZXR1cm5bW24sYV0sW3IsaV1dfX0se2tleToiZml0SW5QYW5lbCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy56b29tPTE7dmFyIGU9dGhpcy5nZXRCb3VuZHModCksbj1bdGhpcy5jYW52YXMuY2FudmFzLndpZHRoLTIqdGhpcy5wYWRkaW5nLHRoaXMuY2FudmFzLmNhbnZhcy5oZWlnaHQtMip0aGlzLnBhZGRpbmddLHI9W2VbMV1bMF0tZVswXVswXSxlWzFdWzFdLWVbMF1bMV1dLGE9eCh0aGlzLmNhbnZhcyksaT1uWzBdL3JbMF0sbz1uWzFdL3JbMV07dGhpcy56b29tPU1hdGgubWluKGksbyksdGhpcy5vZmZzZXR4PS0xKmVbMF1bMF0qdGhpcy56b29tLHRoaXMub2Zmc2V0eT0tMSplWzBdWzFdKnRoaXMuem9vbSxpPm8/KHRoaXMub2Zmc2V0eCs9dGhpcy5wYWRkaW5nKyhuWzBdLXJbMF0qdGhpcy56b29tKS8yLHRoaXMub2Zmc2V0eSs9dGhpcy5wYWRkaW5nKToodGhpcy5vZmZzZXR4Kz10aGlzLnBhZGRpbmcsdGhpcy5vZmZzZXR5Kz10aGlzLnBhZGRpbmcrKG5bMV0tclsxXSp0aGlzLnpvb20pLzIpLHRoaXMub2Zmc2V0eD10aGlzLm9mZnNldHgvYSx0aGlzLm9mZnNldHk9dGhpcy5vZmZzZXR5L2F9fSx7a2V5OiJyZXNldFRyZWUiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5vcmlnaW5hbFRyZWUuYnJhbmNoZXMpe3RoaXMuYnJhbmNoZXM9dGhpcy5vcmlnaW5hbFRyZWUuYnJhbmNoZXM7dmFyIHQ9ITAsZT0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciByLGE9T2JqZWN0LmtleXModGhpcy5vcmlnaW5hbFRyZWUuYnJhbmNoTGVuZ3RocylbU3ltYm9sLml0ZXJhdG9yXSgpOyEodD0ocj1hLm5leHQoKSkuZG9uZSk7dD0hMCl7dmFyIGk9ci52YWx1ZTt0aGlzLmJyYW5jaGVzW2ldLmJyYW5jaExlbmd0aD10aGlzLm9yaWdpbmFsVHJlZS5icmFuY2hMZW5ndGhzW2ldLHRoaXMuYnJhbmNoZXNbaV0ucGFyZW50PXRoaXMub3JpZ2luYWxUcmVlLnBhcmVudHNbaV19fWNhdGNoKHQpe2U9ITAsbj10fWZpbmFsbHl7dHJ5eyF0JiZhLnJldHVybiYmYS5yZXR1cm4oKX1maW5hbGx5e2lmKGUpdGhyb3cgbn19dGhpcy5sZWF2ZXM9dGhpcy5vcmlnaW5hbFRyZWUubGVhdmVzLHRoaXMucm9vdD10aGlzLm9yaWdpbmFsVHJlZS5yb290fX19LHtrZXk6InJvdGF0ZUJyYW5jaCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5icmFuY2hlc1t0LmlkXS5yb3RhdGUoKX19LHtrZXk6ImV4cG9ydE53ayIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJvb3QuZ2V0TndrKCk7cmV0dXJuIHQuc3Vic3RyKDAsdC5sYXN0SW5kZXhPZigiKSIpKzEpKyI7In19LHtrZXk6InJlc2l6ZVRvQ29udGFpbmVyIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2V0U2l6ZSh0aGlzLmNvbnRhaW5lckVsZW1lbnQub2Zmc2V0V2lkdGgsdGhpcy5jb250YWluZXJFbGVtZW50Lm9mZnNldEhlaWdodCl9fSx7a2V5OiJjbGVhbnVwIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKX19LHtrZXk6ImFsaWduTGFiZWxzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaG93TGFiZWxzJiZ0aGlzLmxhYmVsQWxpZ24mJnRoaXMubGFiZWxBbGlnbkVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLmxhYmVsQWxpZ25FbmFibGVkPXR9fV0pLHR9KCk7ay5wcm90b3R5cGUub249ay5wcm90b3R5cGUuYWRkTGlzdGVuZXIsay5wcm90b3R5cGUub2ZmPWsucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLGUuZGVmYXVsdD1rfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmV2ZW50cz1lLmRvbT1lLmNvbnN0YW50cz1lLmNhbnZhcz12b2lkIDA7dmFyIGE9bigzKSxpPXIoYSksbz1uKDYpLHM9cihvKSxsPW4oNCksYz1yKGwpLGg9big1KSx1PXIoaCk7ZS5jYW52YXM9aSxlLmNvbnN0YW50cz1zLGUuZG9tPWMsZS5ldmVudHM9dX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3JldHVybiB0LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fHQud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8dC5tb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHx0Lm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8dC5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8MX1mdW5jdGlvbiBhKHQpe3JldHVybih3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSkvcih0KX1mdW5jdGlvbiBpKHQsZSl7dmFyIG49YShlLmNhbnZhcyk7cmV0dXJuWyh0Lm9mZnNldFgtZS5vZmZzZXR4KS9lLnpvb20qbiwodC5vZmZzZXRZLWUub2Zmc2V0eSkvZS56b29tKm5dfWZ1bmN0aW9uIG8oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e3g6MCx5OjB9LGU9dC54LG49dC55LHI9YXJndW1lbnRzWzFdLGk9YShyLmNhbnZhcyk7cmV0dXJue3g6KGUtci5vZmZzZXR4KS9yLnpvb20qaSx5OihuLXIub2Zmc2V0eSkvci56b29tKml9fWZ1bmN0aW9uIHMoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e3g6MCx5OjB9LGU9dC54LG49dC55LHI9YXJndW1lbnRzWzFdLGk9YShyLmNhbnZhcyk7cmV0dXJue3g6ZS9pKnIuem9vbStyLm9mZnNldHgseTpuL2kqci56b29tK3Iub2Zmc2V0eX19T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZ2V0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbz1yLGUuZ2V0UGl4ZWxSYXRpbz1hLGUudHJhbnNsYXRlQ2xpY2s9aSxlLnRyYW5zbGF0ZVBvaW50PW8sZS51bmRvUG9pbnRUcmFuc2xhdGlvbj1zO24oNCl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06InRleHQvcGxhaW47Y2hhcnNldD11dGYtOCIsbj1uZXcgQmxvYihbdF0se3R5cGU6ZX0pO3JldHVybiBkLmNyZWF0ZU9iamVjdFVSTChuKX1mdW5jdGlvbiBhKHQsZSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLHI9InVuZGVmaW5lZCIhPXR5cGVvZiBuLmRvd25sb2FkO24uaHJlZj10LG4udGFyZ2V0PSJfYmxhbmsiLHImJihuLmRvd25sb2FkPWUpLCgwLGYuZmlyZUV2ZW50KShuLCJjbGljayIpLHImJmQucmV2b2tlT2JqZWN0VVJMKG4uaHJlZil9ZnVuY3Rpb24gaSh0KXtmb3IodmFyIGU9MDt0OyllKz10Lm9mZnNldExlZnQsdD10Lm9mZnNldFBhcmVudDtyZXR1cm4gZX1mdW5jdGlvbiBvKHQpe2Zvcih2YXIgZT0wO3Q7KWUrPXQub2Zmc2V0VG9wLHQ9dC5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV9ZnVuY3Rpb24gcyh0LGUpe3ZhciBuPXQuY2xhc3NOYW1lLnNwbGl0KCIgIik7bi5pbmRleE9mKGUpPT09LTEmJihuLnB1c2goZSksdC5jbGFzc05hbWU9bi5qb2luKCIgIikpfWZ1bmN0aW9uIGwodCxlKXt2YXIgbj10LmNsYXNzTmFtZS5zcGxpdCgiICIpLHI9bi5pbmRleE9mKGUpO3IhPT0tMSYmKG4uc3BsaWNlKHIsMSksdC5jbGFzc05hbWU9bi5qb2luKCIgIikpfWZ1bmN0aW9uIGModCxlKXt2YXIgbj10LmNsYXNzTmFtZS5zcGxpdCgiICIpLHI9bi5pbmRleE9mKGUpO3JldHVybiByIT09LTF9ZnVuY3Rpb24gaCh0KXt0LnN0eWxlLmN1cnNvcj0iLXdlYmtpdC1ncmFiYmluZyIsdC5zdHlsZS5jdXJzb3I9Ii1tb3otZ3JhYmJpbmciLHQuc3R5bGUuY3Vyc29yPSJncmFiYmluZyJ9ZnVuY3Rpb24gdSh0KXt0LnN0eWxlLmN1cnNvcj0iLXdlYmtpdC1ncmFiIix0LnN0eWxlLmN1cnNvcj0iLW1vei1ncmFiIix0LnN0eWxlLmN1cnNvcj0iZ3JhYiJ9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuY3JlYXRlQmxvYlVybD1yLGUuc2V0dXBEb3dubG9hZExpbms9YSxlLmdldFg9aSxlLmdldFk9byxlLmFkZENsYXNzPXMsZS5yZW1vdmVDbGFzcz1sLGUuaGFzQ2xhc3M9YyxlLnNldEN1cnNvckRyYWdnaW5nPWgsZS5zZXRDdXJzb3JEcmFnPXU7dmFyIGY9big1KSxkPXdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkx9LGZ1bmN0aW9uKHQsZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSwhMX1mdW5jdGlvbiByKHQsZSl7dmFyIG4scixhPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtkb2N1bWVudC5jcmVhdGVFdmVudD8obj1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpLG4uaW5pdEV2ZW50KGUsITAsITApKToobj1kb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpLG4uZXZlbnRUeXBlPWUpLG4uZXZlbnROYW1lPWU7Zm9yKHIgaW4gYSlhLmhhc093blByb3BlcnR5KHIpJiYobltyXT1hW3JdKTtkb2N1bWVudC5jcmVhdGVFdmVudD90LmRpc3BhdGNoRXZlbnQobik6dC5maXJlRXZlbnQoIm9uIituLmV2ZW50VHlwZSxuKX1mdW5jdGlvbiBhKHQsZSxuKXt0LmFkZEV2ZW50TGlzdGVuZXI/dC5hZGRFdmVudExpc3RlbmVyKGUsbiwhMSk6dC5hdHRhY2hFdmVudCgib24iK2UsZnVuY3Rpb24oKXtyZXR1cm4gbi5jYWxsKHQsd2luZG93LmV2ZW50KX0pfWZ1bmN0aW9uIGkodCxlLG4pe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcj90LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuLCExKTpjb25zb2xlLndhcm4oIltQaHlsb2NhbnZhc10gVW5hYmxlIHRvIHJlbW92ZSBldmVudCwgcmVtb3ZlRXZlbnRMaXN0ZW5lciBub3Qgc3VwcG9ydGVkIil9ZnVuY3Rpb24gbyh0KXt0LnN0b3BQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBzKHQsZSl7dmFyIG47cmV0dXJuIG49KCJ1bmRlZmluZWQiPT10eXBlb2YgZT8idW5kZWZpbmVkIjpsKGUpKT09PWwoImFhYSIpP2Z1bmN0aW9uKG4pe2lmKHRbZV0pcmV0dXJuIHRbZV0obil9OmZ1bmN0aW9uKCl7cmV0dXJuIGUodCl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH07ZS5wcmV2ZW50RGVmYXVsdD1uLGUuZmlyZUV2ZW50PXIsZS5hZGRFdmVudD1hLGUucmVtb3ZlRXZlbnQ9aSxlLmtpbGxFdmVudD1vLGUuY3JlYXRlSGFuZGxlcj1zfSxmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7ZS5BbmdsZXM9e0ZPUlRZRklWRTpNYXRoLlBJLzQsUVVBUlRFUjpNYXRoLlBJLzIsSEFMRjpNYXRoLlBJLEZVTEw6MipNYXRoLlBJfSxlLlNoYXBlcz17eDoic3RhciIsczoic3F1YXJlIixvOiJjaXJjbGUiLHQ6InRyaWFuZ2xlIn0sZS5QcmVkaWNhdGVzPXt0YXV0b2xvZ3k6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sY29udHJhZGljdGlvbjpmdW5jdGlvbigpe3JldHVybiExfSxsZWFmT25seTpmdW5jdGlvbih0KXtyZXR1cm4gdC5sZWFmfSxub25MZWFmOmZ1bmN0aW9uKHQpe3JldHVybiF0LmxlYWZ9fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBhKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpLG89bigyKSxzPW4oOCksbD1yKHMpLGM9bigyNiksaD1yKGMpLHU9by5jb25zdGFudHMuQW5nbGVzLGY9by5jb25zdGFudHMuU2hhcGVzLGQ9e21pbng6MCxtYXh4OjAsbWlueTowLG1heHk6MH0sQz17bGluZVdpZHRoOm51bGwsc3Ryb2tlU3R5bGU6bnVsbCxmaWxsU3R5bGU6bnVsbH0sdj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXthKHRoaXMsdCksdGhpcy5hbmdsZT0wLHRoaXMuYnJhbmNoTGVuZ3RoPTAsdGhpcy5jZW50ZXJ4PTAsdGhpcy5jZW50ZXJ5PTAsdGhpcy5jaGlsZHJlbj1bXSx0aGlzLmNvbGxhcHNlZD0hMSx0aGlzLmNvbG91cj1udWxsLHRoaXMuZGF0YT17fSx0aGlzLmhpZ2hsaWdodGVkPSExLHRoaXMuaG92ZXJlZD0hMSx0aGlzLmlkPSIiLHRoaXMubGFiZWw9bnVsbCx0aGlzLmxlYWY9ITAsdGhpcy5tYXhDaGlsZEFuZ2xlPTAsdGhpcy5taW5DaGlsZEFuZ2xlPXUuRlVMTCx0aGlzLm5vZGVTaGFwZT0iY2lyY2xlIix0aGlzLnBhcmVudD1udWxsLHRoaXMucmFkaXVzPTEsdGhpcy5zZWxlY3RlZD0hMSx0aGlzLnN0YXJ0eD0wLHRoaXMuc3RhcnR5PTAsdGhpcy50b3RhbEJyYW5jaExlbmd0aD0wLHRoaXMudHJlZT1udWxsLHRoaXMucHJ1bmVkPSExLHRoaXMubGFiZWxTdHlsZT17fSx0aGlzLmludGVybmFsTGFiZWxTdHlsZT1udWxsLHRoaXMuaW50ZXJhY3RpdmU9ITAsdGhpcy5sZWFmU3R5bGU9e30sdGhpcy5taW54PTAsdGhpcy5taW55PTAsdGhpcy5tYXh4PTAsdGhpcy5tYXh5PTB9cmV0dXJuIGkodCxbe2tleToiY2xpY2tlZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmRyYWdnaW5nfHx0aGlzLmhhc0NvbGxhcHNlZEFuY2VzdG9yKCkpcmV0dXJuIG51bGw7aWYodDx0aGlzLm1heHgmJnQ+dGhpcy5taW54JiZlPHRoaXMubWF4eSYmZT50aGlzLm1pbnkpcmV0dXJuIHRoaXM7Zm9yKHZhciBuPXRoaXMuY2hpbGRyZW4ubGVuZ3RoLTE7bj49MDtuLS0pe3ZhciByPXRoaXMuY2hpbGRyZW5bbl0uY2xpY2tlZCh0LGUpO2lmKHIpcmV0dXJuIHJ9fX0se2tleToiZHJhd0xhYmVsIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0VGV4dFNpemUoKSxlPXRoaXMuZ2V0TGFiZWwoKTt0aGlzLmNhbnZhcy5mb250PXRoaXMuZ2V0Rm9udFN0cmluZygpLHRoaXMubGFiZWxXaWR0aD10aGlzLmNhbnZhcy5tZWFzdXJlVGV4dChlKS53aWR0aCx2b2lkIDA9PT10aGlzLnRyZWUubWF4TGFiZWxMZW5ndGhbdGhpcy50cmVlLnRyZWVUeXBlXSYmKHRoaXMudHJlZS5tYXhMYWJlbExlbmd0aFt0aGlzLnRyZWUudHJlZVR5cGVdPTApLHRoaXMubGFiZWxXaWR0aD50aGlzLnRyZWUubWF4TGFiZWxMZW5ndGhbdGhpcy50cmVlLnRyZWVUeXBlXSYmKHRoaXMudHJlZS5tYXhMYWJlbExlbmd0aFt0aGlzLnRyZWUudHJlZVR5cGVdPXRoaXMubGFiZWxXaWR0aCk7dmFyIG49dGhpcy5nZXRMYWJlbFN0YXJ0WCgpO3RoaXMudHJlZS5hbGlnbkxhYmVscyYmKG4rPU1hdGguYWJzKHRoaXMudHJlZS5sYWJlbEFsaWduLmdldExhYmVsT2Zmc2V0KHRoaXMpKSksdGhpcy5hbmdsZT51LlFVQVJURVImJnRoaXMuYW5nbGU8dS5IQUxGK3UuUVVBUlRFUiYmKHRoaXMuY2FudmFzLnJvdGF0ZSh1LkhBTEYpLG49LW4tMSp0aGlzLmxhYmVsV2lkdGgpLHRoaXMuY2FudmFzLmJlZ2luUGF0aCgpLHRoaXMuY2FudmFzLmZpbGxTdHlsZT10aGlzLmdldFRleHRDb2xvdXIoKSx0aGlzLmNhbnZhcy5maWxsVGV4dChlLG4sdC8yKSx0aGlzLmNhbnZhcy5jbG9zZVBhdGgoKSx0aGlzLmFuZ2xlPnUuUVVBUlRFUiYmdGhpcy5hbmdsZTx1LkhBTEYrdS5RVUFSVEVSJiZ0aGlzLmNhbnZhcy5yb3RhdGUodS5IQUxGKX19LHtrZXk6InNldE5vZGVEaW1lbnNpb25zIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bjsobip0aGlzLnRyZWUuem9vbTw1fHwhdGhpcy5sZWFmKSYmKHI9NS90aGlzLnRyZWUuem9vbSksdGhpcy5taW54PXQtcix0aGlzLm1heHg9dCtyLHRoaXMubWlueT1lLXIsdGhpcy5tYXh5PWUrcn19LHtrZXk6ImdldE51bWJlck9mTGVhdmVzIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9W3RoaXNdO2UubGVuZ3RoOyl7dmFyIG49ZS5wb3AoKTtpZihuLmxlYWYpdCsrO2Vsc2V7dmFyIHI9ITAsYT0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9bi5jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgbD1vLnZhbHVlO2UucHVzaChsKX19Y2F0Y2godCl7YT0hMCxpPXR9ZmluYWxseXt0cnl7IXImJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBpfX19fXJldHVybiB0fX0se2tleToiZHJhd0NvbGxhcHNlZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1sLmRlZmF1bHRbdGhpcy50cmVlLnRyZWVUeXBlXS5nZXRDb2xsYXBzZWRNZWFzdXJlbWVudHM7dGhpcy5jYW52YXMuYmVnaW5QYXRoKCk7dmFyIHI9bih0aGlzKSxhPXIuYW5nbGUsaT1yLnJhZGl1cyxvPXRoaXMuYW5nbGUtYS8yLHM9dGhpcy5hbmdsZSthLzI7dGhpcy5jYW52YXMubW92ZVRvKHQsZSksdGhpcy5jYW52YXMuYXJjKHQsZSxpLG8scywhMSk7dmFyIGM9dGhpcy5jYW52YXMuY3JlYXRlUmFkaWFsR3JhZGllbnQodCxlLGksdCxlLC4yKmkpO2MuYWRkQ29sb3JTdG9wKDAsInJnYmEoMjU1LCAyNTUsIDI1NSwgMCkiKSxjLmFkZENvbG9yU3RvcCgxLHRoaXMudHJlZS5jb2xsYXBzZWRDb2xvdXJ8fHRoaXMuZ2V0Q29sb3VyKCkpLHRoaXMuY2FudmFzLmZpbGxTdHlsZT1jLHRoaXMuY2FudmFzLmZpbGwoKSx0aGlzLmNhbnZhcy5jbG9zZVBhdGgoKX19LHtrZXk6ImRyYXdMYWJlbENvbm5lY3RvciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRyZWUsZT10LmhpZ2hsaWdodENvbG91cixuPXQubGFiZWxBbGlnbjt0aGlzLmNhbnZhcy5zYXZlKCksdGhpcy5jYW52YXMubGluZVdpZHRoPXRoaXMuY2FudmFzLmxpbmVXaWR0aC80LHRoaXMuY2FudmFzLnN0cm9rZVN0eWxlPXRoaXMuaXNIaWdobGlnaHRlZD9lOnRoaXMuZ2V0Q29sb3VyKCksdGhpcy5jYW52YXMuYmVnaW5QYXRoKCksdGhpcy5jYW52YXMubW92ZVRvKHRoaXMuZ2V0UmFkaXVzKCksMCksdGhpcy5jYW52YXMubGluZVRvKG4uZ2V0TGFiZWxPZmZzZXQodGhpcykrdGhpcy5nZXREaWFtZXRlcigpLDApLHRoaXMuY2FudmFzLnN0cm9rZSgpLHRoaXMuY2FudmFzLmNsb3NlUGF0aCgpLHRoaXMuY2FudmFzLnJlc3RvcmUoKX19LHtrZXk6ImRyYXdMZWFmIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudHJlZSxlPXQuYWxpZ25MYWJlbHMsbj10LmNhbnZhcztlJiZ0aGlzLmRyYXdMYWJlbENvbm5lY3RvcigpLG4uc2F2ZSgpLGguZGVmYXVsdFt0aGlzLm5vZGVTaGFwZV0obix0aGlzLmdldFJhZGl1cygpLHRoaXMuZ2V0TGVhZlN0eWxlKCkpLG4ucmVzdG9yZSgpLCh0aGlzLnRyZWUuc2hvd0xhYmVsc3x8dGhpcy50cmVlLmhvdmVyTGFiZWwmJnRoaXMuaXNIaWdobGlnaHRlZCkmJnRoaXMuZHJhd0xhYmVsKCl9fSx7a2V5OiJkcmF3SGlnaGxpZ2h0Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuY2FudmFzLnNhdmUoKSx0aGlzLmNhbnZhcy5iZWdpblBhdGgoKSx0aGlzLmNhbnZhcy5zdHJva2VTdHlsZT10aGlzLnRyZWUuaGlnaGxpZ2h0Q29sb3VyLHRoaXMuY2FudmFzLmxpbmVXaWR0aD10aGlzLmdldEhpZ2hsaWdodExpbmVXaWR0aCgpO3ZhciBuPXRoaXMuZ2V0SGlnaGxpZ2h0UmFkaXVzKCk7dGhpcy5jYW52YXMuYXJjKHQsZSxuLDAsdS5GVUxMLCExKSx0aGlzLmNhbnZhcy5zdHJva2UoKSx0aGlzLmNhbnZhcy5jbG9zZVBhdGgoKSx0aGlzLmNhbnZhcy5yZXN0b3JlKCl9fSx7a2V5OiJkcmF3QnJhbmNoTGFiZWxzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY2FudmFzLnNhdmUoKTt2YXIgdD10aGlzLmludGVybmFsTGFiZWxTdHlsZXx8dGhpcy50cmVlLmludGVybmFsTGFiZWxTdHlsZTt0aGlzLmNhbnZhcy5maWxsU3R5bGU9dC5jb2xvdXIsdGhpcy5jYW52YXMuZm9udD10LmZvcm1hdCsiICIrdC50ZXh0U2l6ZSsicHQgIit0LmZvbnQsdGhpcy5jYW52YXMudGV4dEJhc2VsaW5lPSJtaWRkbGUiLHRoaXMuY2FudmFzLnRleHRBbGlnbj0iY2VudGVyIjt2YXIgZT0yKnRoaXMuY2FudmFzLm1lYXN1cmVUZXh0KCJNIikud2lkdGgvMyxuPSJ5Ij09PXRoaXMudHJlZS50eXBlLmJyYW5jaFNjYWxpbmdBeGlzP3RoaXMuY2VudGVyeDoodGhpcy5zdGFydHgrdGhpcy5jZW50ZXJ4KS8yLHI9IngiPT09dGhpcy50cmVlLnR5cGUuYnJhbmNoU2NhbGluZ0F4aXM/dGhpcy5jZW50ZXJ5Oih0aGlzLnN0YXJ0eSt0aGlzLmNlbnRlcnkpLzI7dGhpcy50cmVlLnNob3dCcmFuY2hMZW5ndGhMYWJlbHMmJnRoaXMudHJlZS5icmFuY2hMZW5ndGhMYWJlbFByZWRpY2F0ZSh0aGlzKSYmdGhpcy5jYW52YXMuZmlsbFRleHQodGhpcy5icmFuY2hMZW5ndGgudG9GaXhlZCgyKSxuLHIrZSksdGhpcy50cmVlLnNob3dJbnRlcm5hbE5vZGVMYWJlbHMmJiF0aGlzLmxlYWYmJnRoaXMubGFiZWwmJnRoaXMuY2FudmFzLmZpbGxUZXh0KHRoaXMubGFiZWwsbixyLWUpLHRoaXMuY2FudmFzLnJlc3RvcmUoKX19LHtrZXk6ImRyYXdOb2RlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UmFkaXVzKCksZT10LG49dGhpcy5sZWFmP2UqTWF0aC5jb3ModGhpcy5hbmdsZSkrdGhpcy5jZW50ZXJ4OnRoaXMuY2VudGVyeCxyPXRoaXMubGVhZj9lKk1hdGguc2luKHRoaXMuYW5nbGUpK3RoaXMuY2VudGVyeTp0aGlzLmNlbnRlcnk7dGhpcy5zZXROb2RlRGltZW5zaW9ucyhuLHIsdCksdGhpcy5jb2xsYXBzZWQ/dGhpcy5kcmF3Q29sbGFwc2VkKG4scik6dGhpcy5sZWFmJiYodGhpcy5jYW52YXMuc2F2ZSgpLHRoaXMuY2FudmFzLnRyYW5zbGF0ZSh0aGlzLmNlbnRlcngsdGhpcy5jZW50ZXJ5KSx0aGlzLmNhbnZhcy5yb3RhdGUodGhpcy5hbmdsZSksdGhpcy5kcmF3TGVhZigpLHRoaXMuY2FudmFzLnJlc3RvcmUoKSksdGhpcy5pc0hpZ2hsaWdodGVkJiZ0aGlzLnRyZWUuaGlnaGxpZ2h0ZXJzLnB1c2godGhpcy5kcmF3SGlnaGxpZ2h0LmJpbmQodGhpcyxuLHIpKSwodGhpcy50cmVlLnJvb3QhPT10aGlzJiZ0aGlzLnRyZWUuc2hvd0JyYW5jaExlbmd0aExhYmVsc3x8dGhpcy50cmVlLnNob3dJbnRlcm5hbE5vZGVMYWJlbHMpJiZ0aGlzLmRyYXdCcmFuY2hMYWJlbHMoKX19LHtrZXk6ImdldENoaWxkUHJvcGVydGllcyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5sZWFmKXJldHVyblt0aGlzW3RdXTtmb3IodmFyIGU9W10sbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKWU9ZS5jb25jYXQodGhpcy5jaGlsZHJlbltuXS5nZXRDaGlsZFByb3BlcnRpZXModCkpO3JldHVybiBlfX0se2tleToiZ2V0Q2hpbGRDb3VudCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmxlYWYpcmV0dXJuIDE7Zm9yKHZhciB0PTAsZT0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXQrPXRoaXMuY2hpbGRyZW5bZV0uZ2V0Q2hpbGRDb3VudCgpO3JldHVybiB0fX0se2tleToiZ2V0Q2hpbGRZVG90YWwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5sZWFmKXJldHVybiB0aGlzLmNlbnRlcnk7Zm9yKHZhciB0PTAsZT0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXQrPXRoaXMuY2hpbGRyZW5bZV0uZ2V0Q2hpbGRZVG90YWwoKTtyZXR1cm4gdH19LHtrZXk6ImNhc2NhZGVGbGFnIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzW3RdKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBwcm9wZXJ0eTogIit0KTsoInVuZGVmaW5lZCI9PXR5cGVvZiBufHxuKHRoaXMsdCxlKSkmJih0aGlzW3RdPWUpO3ZhciByPSEwLGE9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPXRoaXMuY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIGw9by52YWx1ZTtsLmNhc2NhZGVGbGFnKHQsZSxuKX19Y2F0Y2godCl7YT0hMCxpPXR9ZmluYWxseXt0cnl7IXImJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBpfX19fSx7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlO2Zvcih0aGlzLnN0YXJ0eD0wLHRoaXMuc3RhcnR5PTAsdGhpcy5jZW50ZXJ4PTAsdGhpcy5jZW50ZXJ5PTAsdGhpcy5hbmdsZT1udWxsLHRoaXMubWluQ2hpbGRBbmdsZT11LkZVTEwsdGhpcy5tYXhDaGlsZEFuZ2xlPTAsZT0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXRyeXt0aGlzLmNoaWxkcmVuW3RdLnJlc2V0KCl9Y2F0Y2godCl7cmV0dXJuIHR9fX0se2tleToicmVkcmF3VHJlZUZyb21CcmFuY2giLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb2xsYXBzZWQmJnRoaXMuZXhwYW5kKCksdGhpcy50cmVlLnJlZHJhd0Zyb21CcmFuY2godGhpcyl9fSx7a2V5OiJleHRyYWN0Q2hpbGRyZW4iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9ITAsZT0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciByLGE9dGhpcy5jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShyPWEubmV4dCgpKS5kb25lKTt0PSEwKXt2YXIgaT1yLnZhbHVlO3RoaXMudHJlZS5zdG9yZU5vZGUoaSksaS5leHRyYWN0Q2hpbGRyZW4oKX19Y2F0Y2godCl7ZT0hMCxuPXR9ZmluYWxseXt0cnl7IXQmJmEucmV0dXJuJiZhLnJldHVybigpfWZpbmFsbHl7aWYoZSl0aHJvdyBufX19fSx7a2V5OiJoYXNDb2xsYXBzZWRBbmNlc3RvciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMucGFyZW50JiYodGhpcy5wYXJlbnQuY29sbGFwc2VkfHx0aGlzLnBhcmVudC5oYXNDb2xsYXBzZWRBbmNlc3RvcigpKX19LHtrZXk6ImNvbGxhcHNlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29sbGFwc2VkPXRoaXMubGVhZj09PSExfX0se2tleToiZXhwYW5kIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29sbGFwc2VkPSExfX0se2tleToidG9nZ2xlQ29sbGFwc2VkIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29sbGFwc2VkP3RoaXMuZXhwYW5kKCk6dGhpcy5jb2xsYXBzZSgpfX0se2tleToic2V0VG90YWxMZW5ndGgiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7Zm9yKHRoaXMucGFyZW50Pyh0aGlzLnRvdGFsQnJhbmNoTGVuZ3RoPXRoaXMucGFyZW50LnRvdGFsQnJhbmNoTGVuZ3RoK3RoaXMuYnJhbmNoTGVuZ3RoLHRoaXMudG90YWxCcmFuY2hMZW5ndGg+dGhpcy50cmVlLm1heEJyYW5jaExlbmd0aCYmKHRoaXMudHJlZS5tYXhCcmFuY2hMZW5ndGg9dGhpcy50b3RhbEJyYW5jaExlbmd0aCkpOih0aGlzLnRvdGFsQnJhbmNoTGVuZ3RoPXRoaXMuYnJhbmNoTGVuZ3RoLHRoaXMudHJlZS5tYXhCcmFuY2hMZW5ndGg9dGhpcy50b3RhbEJyYW5jaExlbmd0aCksdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7dCsrKXRoaXMuY2hpbGRyZW5bdF0uc2V0VG90YWxMZW5ndGgoKX19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbih0KXt0LnBhcmVudD10aGlzLHQudHJlZT10aGlzLnRyZWUsdGhpcy5sZWFmPSExLHRoaXMuY2hpbGRyZW4ucHVzaCh0KX19LHtrZXk6ImdldENoaWxkQ29sb3VycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPTA9PT1lLmNoaWxkcmVuLmxlbmd0aD9lLmNvbG91cjplLmdldENvbG91cigpO3QuaW5kZXhPZihuKT09PS0xJiZ0LnB1c2gobil9KSx0fX0se2tleToiZ2V0Q29sb3VyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZWxlY3RlZD90aGlzLnRyZWUuc2VsZWN0ZWRDb2xvdXI6dHx8dGhpcy5jb2xvdXJ8fHRoaXMudHJlZS5icmFuY2hDb2xvdXJ9fSx7a2V5OiJnZXROd2siLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTtpZih0aGlzLmxlYWYpcmV0dXJuIHRoaXMubGFiZWwrIjoiK3RoaXMuYnJhbmNoTGVuZ3RoO3ZhciBlPXRoaXMuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldE53ayghMSl9KTtyZXR1cm4iKCIrZS5qb2luKCIsIikrIik6Iit0aGlzLmJyYW5jaExlbmd0aCsodD8iOyI6IiIpfX0se2tleToiZ2V0VGV4dENvbG91ciIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLnNlbGVjdGVkKXJldHVybiB0aGlzLnRyZWUuc2VsZWN0ZWRDb2xvdXI7aWYodGhpcy5pc0hpZ2hsaWdodGVkKXJldHVybiB0aGlzLnRyZWUuaGlnaGxpZ2h0Q29sb3VyO2lmKHRoaXMudHJlZS5iYWNrQ29sb3VyJiZ0aGlzLmNoaWxkcmVuLmxlbmd0aCl7dmFyIHQ9dGhpcy5nZXRDaGlsZENvbG91cnMoKTtpZigxPT09dC5sZW5ndGgpcmV0dXJuIHRbMF19cmV0dXJuIHRoaXMubGFiZWxTdHlsZS5jb2xvdXJ8fHRoaXMuY29sb3VyfHx0aGlzLnRyZWUuYnJhbmNoQ29sb3VyfX0se2tleToiZ2V0TGFiZWwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubGFiZWwmJm51bGwhPT10aGlzLmxhYmVsP3RoaXMubGFiZWw6IiJ9fSx7a2V5OiJnZXRUZXh0U2l6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYWJlbFN0eWxlLnRleHRTaXplfHx0aGlzLnRyZWUudGV4dFNpemV9fSx7a2V5OiJnZXRGb250U3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMubGFiZWxTdHlsZS5mb250fHx0aGlzLnRyZWUuZm9udDtyZXR1cm4odGhpcy5sYWJlbFN0eWxlLmZvcm1hdHx8IiIpKyIgIit0aGlzLmdldFRleHRTaXplKCkrInB0ICIrdH19LHtrZXk6ImdldExhYmVsU2l6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXMuZm9udD10aGlzLmdldEZvbnRTdHJpbmcoKSx0aGlzLmNhbnZhcy5tZWFzdXJlVGV4dCh0aGlzLmdldExhYmVsKCkpLndpZHRofX0se2tleToiZ2V0UmFkaXVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudHJlZS5iYXNlTm9kZVNpemU7cmV0dXJuIHRoaXMubGVhZj90KnRoaXMucmFkaXVzOnQvdGhpcy5yYWRpdXN9fSx7a2V5OiJnZXREaWFtZXRlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMip0aGlzLmdldFJhZGl1cygpfX0se2tleToiaGFzTGFiZWxDb25uZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLnRyZWUuYWxpZ25MYWJlbHMmJnRoaXMudHJlZS5sYWJlbEFsaWduLmdldExhYmVsT2Zmc2V0KHRoaXMpPnRoaXMuZ2V0RGlhbWV0ZXIoKX19LHtrZXk6ImdldExhYmVsU3RhcnRYIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0TGVhZlN0eWxlKCksZT0odC5saW5lV2lkdGgsdGhpcy5oYXNMYWJlbENvbm5lY3RvcigpKSxuPXRoaXMuZ2V0RGlhbWV0ZXIoKTtyZXR1cm4gdGhpcy5pc0hpZ2hsaWdodGVkJiYhZSYmKG4rPXRoaXMuZ2V0SGlnaGxpZ2h0U2l6ZSgpLXRoaXMuZ2V0UmFkaXVzKCkpLG4rTWF0aC5taW4odGhpcy50cmVlLmxhYmVsUGFkZGluZyx0aGlzLnRyZWUubGFiZWxQYWRkaW5nL3RoaXMudHJlZS56b29tKX19LHtrZXk6ImdldEhpZ2hsaWdodExpbmVXaWR0aCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmVlLmhpZ2hsaWdodFdpZHRoL3RoaXMudHJlZS56b29tfX0se2tleToiZ2V0SGlnaGxpZ2h0UmFkaXVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0SGlnaGxpZ2h0TGluZVdpZHRoKCkqdGhpcy50cmVlLmhpZ2hsaWdodFNpemU7cmV0dXJuIHQrPXRoaXMuZ2V0TGVhZlN0eWxlKCkubGluZVdpZHRoL3RoaXMudHJlZS5oaWdobGlnaHRTaXplLHRoaXMubGVhZj90aGlzLmdldFJhZGl1cygpK3Q6LjY2Nip0fX0se2tleToiZ2V0SGlnaGxpZ2h0U2l6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRIaWdobGlnaHRSYWRpdXMoKSt0aGlzLmdldEhpZ2hsaWdodExpbmVXaWR0aCgpfX0se2tleToicm90YXRlIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2UtLTspdC5wdXNoKHRoaXMuY2hpbGRyZW5bZV0pOwp0aGlzLmNoaWxkcmVuPXQsdGhpcy50cmVlLmV4dHJhY3ROZXN0ZWRCcmFuY2hlcygpLHRoaXMudHJlZS5kcmF3KCEwKX19LHtrZXk6ImdldENoaWxkTm8iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGhpcyl9fSx7a2V5OiJzZXREaXNwbGF5Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmNvbG91cixuPXQuc2hhcGUscj10LnNpemUsYT10LmxlYWZTdHlsZSxpPXQubGFiZWxTdHlsZTtlJiYodGhpcy5jb2xvdXI9ZSksbiYmKHRoaXMubm9kZVNoYXBlPWZbbl0/ZltuXTpuKSxyJiYodGhpcy5yYWRpdXM9ciksYSYmKHRoaXMubGVhZlN0eWxlPWEpLGkmJih0aGlzLmxhYmVsU3R5bGU9aSl9fSx7a2V5OiJnZXRUb3RhbExlbmd0aCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFJhZGl1cygpO3JldHVybih0aGlzLnRyZWUuc2hvd0xhYmVsc3x8dGhpcy50cmVlLmhvdmVyTGFiZWwmJnRoaXMuaXNIaWdobGlnaHRlZCkmJih0Kz10aGlzLmdldExhYmVsU3RhcnRYKCkrdGhpcy5nZXRMYWJlbFNpemUoKSksdH19LHtrZXk6ImdldEJvdW5kcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRyZWUsZT10LmFsaWduTGFiZWxzP3QubGFiZWxBbGlnbi5nZXRYKHRoaXMpOnRoaXMuY2VudGVyeCxuPXQuYWxpZ25MYWJlbHM/dC5sYWJlbEFsaWduLmdldFkodGhpcyk6dGhpcy5jZW50ZXJ5LHI9dGhpcy5nZXRSYWRpdXMoKSxhPXRoaXMuZ2V0VG90YWxMZW5ndGgoKSxpPXZvaWQgMCxvPXZvaWQgMCxzPXZvaWQgMCxsPXZvaWQgMDt0aGlzLmFuZ2xlPnUuUVVBUlRFUiYmdGhpcy5hbmdsZTx1LkhBTEYrdS5RVUFSVEVSPyhpPWUrYSpNYXRoLmNvcyh0aGlzLmFuZ2xlKSxzPW4rYSpNYXRoLnNpbih0aGlzLmFuZ2xlKSxvPWUtcixsPW4tcik6KGk9ZS1yLHM9bi1yLG89ZSthKk1hdGguY29zKHRoaXMuYW5nbGUpLGw9bithKk1hdGguc2luKHRoaXMuYW5nbGUpKTt2YXIgYz10LnByZXJlbmRlcmVyLmdldFN0ZXAodCkvMjtyZXR1cm4gZC5taW54PU1hdGgubWluKGksbyxlLWMpLGQubWlueT1NYXRoLm1pbihzLGwsbi1jKSxkLm1heHg9TWF0aC5tYXgoaSxvLGUrYyksZC5tYXh5PU1hdGgubWF4KHMsbCxuK2MpLGR9fSx7a2V5OiJnZXRMZWFmU3R5bGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sZWFmU3R5bGUsZT10LnN0cm9rZVN0eWxlLG49dC5maWxsU3R5bGUscj10aGlzLnRyZWUuem9vbTtDLnN0cm9rZVN0eWxlPXRoaXMuZ2V0Q29sb3VyKGUpLEMuZmlsbFN0eWxlPXRoaXMuZ2V0Q29sb3VyKG4pO3ZhciBhPSJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5sZWFmU3R5bGUubGluZVdpZHRoP3RoaXMubGVhZlN0eWxlLmxpbmVXaWR0aDp0aGlzLnRyZWUubGluZVdpZHRoO3JldHVybiBDLmxpbmVXaWR0aD1hL3IsQ319LHtrZXk6ImlzSGlnaGxpZ2h0ZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhpZ2hsaWdodGVkfHx0aGlzLmhvdmVyZWR9fSx7a2V5OiJjYW52YXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyZWUuY2FudmFzfX1dLFt7a2V5OiJnZW5lcmF0ZUlkIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiJwY24iK3RoaXMubGFzdElkKyt9fV0pLHR9KCk7di5sYXN0SWQ9MCxlLmRlZmF1bHQ9dn0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGE9big5KSxpPXIoYSksbz1uKDE0KSxzPXIobyksbD1uKDE3KSxjPXIobCksaD1uKDIwKSx1PXIoaCksZj1uKDIzKSxkPXIoZik7ZS5kZWZhdWx0PXtyZWN0YW5ndWxhcjppLmRlZmF1bHQsY2lyY3VsYXI6cy5kZWZhdWx0LHJhZGlhbDpjLmRlZmF1bHQsZGlhZ29uYWw6dS5kZWZhdWx0LGhpZXJhcmNoaWNhbDpkLmRlZmF1bHR9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgYT1uKDEwKSxpPXIoYSksbz1uKDExKSxzPXIobyksbD1uKDEyKSxjPXIobCksaD1uKDEzKSx1PXIoaCksZj1uKDYpLGQ9e2dldFg6ZnVuY3Rpb24odCl7cmV0dXJuIHQudHJlZS5mYXJ0aGVzdE5vZGVGcm9tUm9vdFgqdC50cmVlLmN1cnJlbnRCcmFuY2hTY2FsZX0sZ2V0WTpmdW5jdGlvbih0KXtyZXR1cm4gdC5jZW50ZXJ5fSxnZXRMYWJlbE9mZnNldDpmdW5jdGlvbih0KXtyZXR1cm4gdC50cmVlLmZhcnRoZXN0Tm9kZUZyb21Sb290WCp0LnRyZWUuY3VycmVudEJyYW5jaFNjYWxlLXQuY2VudGVyeH19O2UuZGVmYXVsdD17YnJhbmNoUmVuZGVyZXI6bmV3IGkuZGVmYXVsdChjLmRlZmF1bHQpLHByZXJlbmRlcmVyOm5ldyBzLmRlZmF1bHQodS5kZWZhdWx0KSxsYWJlbEFsaWduOmQsYnJhbmNoU2NhbGluZ0F4aXM6IngiLGdldENvbGxhcHNlZE1lYXN1cmVtZW50czpmdW5jdGlvbih0KXtyZXR1cm57YW5nbGU6Zi5BbmdsZXMuUVVBUlRFUixyYWRpdXM6dC50cmVlLnN0ZXAqdC5nZXROdW1iZXJPZkxlYXZlcygpfX19fSxmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2lmKG4odGhpcyx0KSwhZXx8IWUuZHJhdyl0aHJvdyBuZXcgRXJyb3IoImBkcmF3YCBmdW5jdGlvbiBpcyByZXF1aXJlZCBmb3IgYnJhbmNoIHJlbmRlcmVycyIpO3RoaXMuZHJhdz1lLmRyYXcsdGhpcy5wcmVwYXJlQ2hpbGQ9ZS5wcmVwYXJlQ2hpbGR9cmV0dXJuIHIodCxbe2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI7aWYoIW4mJmUmJihlLnNlbGVjdGVkP2UuY2FudmFzLmZpbGxTdHlsZT10LnNlbGVjdGVkQ29sb3VyOmUuY2FudmFzLmZpbGxTdHlsZT1lLmNvbG91cixlLmNhbnZhcy5zdHJva2VTdHlsZT1lLmdldENvbG91cigpLHRoaXMuZHJhdyh0LGUpLCFlLnBydW5lZCkpZm9yKGUuZHJhd05vZGUoKSxyPTA7cjxlLmNoaWxkcmVuLmxlbmd0aDtyKyspdGhpcy5wcmVwYXJlQ2hpbGQmJnRoaXMucHJlcGFyZUNoaWxkKGUsZS5jaGlsZHJlbltyXSksdGhpcy5yZW5kZXIodCxlLmNoaWxkcmVuW3JdLGUuY29sbGFwc2VkfHxuKX19XSksdH0oKTtlLmRlZmF1bHQ9YX0sZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtuKHRoaXMsdCksdGhpcy5nZXRTdGVwPWUuZ2V0U3RlcCx0aGlzLmNhbGN1bGF0ZT1lLmNhbGN1bGF0ZX1yZXR1cm4gcih0LFt7a2V5OiJydW4iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0U3RlcCh0KTt0LnJvb3Quc3RhcnR4PTAsdC5yb290LnN0YXJ0eT0wLHQucm9vdC5jZW50ZXJ4PTAsdC5yb290LmNlbnRlcnk9MCx0LmZhcnRoZXN0Tm9kZUZyb21Sb290WD0wLHQuZmFydGhlc3ROb2RlRnJvbVJvb3RZPTAsdC5jdXJyZW50QnJhbmNoU2NhbGU9MSx0LnN0ZXA9ZSx0aGlzLmNhbGN1bGF0ZSh0LGUpLHQuaW5pdGlhbEJyYW5jaFNjYWxhcj10LmJyYW5jaFNjYWxhcix0LnJvb3Quc3RhcnR4PXQucm9vdC5jZW50ZXJ4LHQucm9vdC5zdGFydHk9dC5yb290LmNlbnRlcnksdC5zZXRGb250U2l6ZShlKSx0LnNldE1heExhYmVsTGVuZ3RoKCl9fV0pLHR9KCk7ZS5kZWZhdWx0PWF9LGZ1bmN0aW9uKHQsZSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9e2RyYXc6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmJyYW5jaExlbmd0aCp0LmJyYW5jaFNjYWxhcjtlLmFuZ2xlPTAsZS5wYXJlbnQmJihlLmNlbnRlcng9ZS5zdGFydHgrbiksZS5jYW52YXMuYmVnaW5QYXRoKCksZS5jYW52YXMubW92ZVRvKGUuc3RhcnR4LGUuc3RhcnR5KSxlLmNhbnZhcy5saW5lVG8oZS5zdGFydHgsZS5jZW50ZXJ5KSxlLmNhbnZhcy5saW5lVG8oZS5jZW50ZXJ4LGUuY2VudGVyeSksZS5jYW52YXMuc3Ryb2tlKCksZS5jYW52YXMuY2xvc2VQYXRoKCl9LHByZXBhcmVDaGlsZDpmdW5jdGlvbih0LGUpe2Uuc3RhcnR4PXQuY2VudGVyeCxlLnN0YXJ0eT10LmNlbnRlcnl9fX0sZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD17Z2V0U3RlcDpmdW5jdGlvbih0KXtyZXR1cm4gdC5maWxsQ2FudmFzP3QuY2FudmFzLmNhbnZhcy5oZWlnaHQvdC5sZWF2ZXMubGVuZ3RoOk1hdGgubWF4KHQuY2FudmFzLmNhbnZhcy5oZWlnaHQvdC5sZWF2ZXMubGVuZ3RoLHQubGVhdmVzWzBdLmdldERpYW1ldGVyKCkrdC5sYWJlbFBhZGRpbmcpfSxjYWxjdWxhdGU6ZnVuY3Rpb24odCxlKXt0LmJyYW5jaFNjYWxhcj10LmNhbnZhcy5jYW52YXMud2lkdGgvdC5tYXhCcmFuY2hMZW5ndGg7Zm9yKHZhciBuPTA7bjx0LmxlYXZlcy5sZW5ndGg7bisrKXt0LmxlYXZlc1tuXS5hbmdsZT0wLHQubGVhdmVzW25dLmNlbnRlcnk9bj4wP3QubGVhdmVzW24tMV0uY2VudGVyeStlOjAsdC5sZWF2ZXNbbl0uY2VudGVyeD10LmxlYXZlc1tuXS50b3RhbEJyYW5jaExlbmd0aCp0LmJyYW5jaFNjYWxhcix0LmxlYXZlc1tuXS5jZW50ZXJ4PnQuZmFydGhlc3ROb2RlRnJvbVJvb3RYJiYodC5mYXJ0aGVzdE5vZGVGcm9tUm9vdFg9dC5sZWF2ZXNbbl0uY2VudGVyeCksdC5sZWF2ZXNbbl0uY2VudGVyeT50LmZhcnRoZXN0Tm9kZUZyb21Sb290WSYmKHQuZmFydGhlc3ROb2RlRnJvbVJvb3RZPXQubGVhdmVzW25dLmNlbnRlcnkpO2Zvcih2YXIgcj10LmxlYXZlc1tuXTtyLnBhcmVudDtyPXIucGFyZW50KXt2YXIgYT1yLnBhcmVudC5jaGlsZHJlbjtyLnBhcmVudC5jZW50ZXJ5PShhWzBdLmNlbnRlcnkrYVthLmxlbmd0aC0xXS5jZW50ZXJ5KS8yfX19fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGE9bigxMCksaT1yKGEpLG89bigxMSkscz1yKG8pLGw9bigxNSksYz1yKGwpLGg9bigxNiksdT1yKGgpLGY9e2dldFg6ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2VudGVyeCt0LmxhYmVsT2Zmc2V0WCt0LmdldERpYW1ldGVyKCkqTWF0aC5jb3ModC5hbmdsZSl9LGdldFk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2VudGVyeSt0LmxhYmVsT2Zmc2V0WSt0LmdldERpYW1ldGVyKCkqTWF0aC5zaW4odC5hbmdsZSl9LGdldExhYmVsT2Zmc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0LmxhYmVsT2Zmc2V0WC9NYXRoLmNvcyh0LmFuZ2xlKX19O2UuZGVmYXVsdD17YnJhbmNoUmVuZGVyZXI6bmV3IGkuZGVmYXVsdChjLmRlZmF1bHQpLHByZXJlbmRlcmVyOm5ldyBzLmRlZmF1bHQodS5kZWZhdWx0KSxsYWJlbEFsaWduOmYsZ2V0Q29sbGFwc2VkTWVhc3VyZW1lbnRzOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHJlZSxuPWUubWF4QnJhbmNoTGVuZ3RoLHI9ZS5icmFuY2hTY2FsYXIsYT1lLnN0ZXA7cmV0dXJue2FuZ2xlOnQuZ2V0TnVtYmVyT2ZMZWF2ZXMoKSphLHJhZGl1czoobi10LnRvdGFsQnJhbmNoTGVuZ3RoKSpyfX0sY2FsY3VsYXRlRm9udFNpemU6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWluKDEwKnQrNCw0MCl9fX0sZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD17ZHJhdzpmdW5jdGlvbih0LGUpe3ZhciBuPWUudG90YWxCcmFuY2hMZW5ndGgqdC5icmFuY2hTY2FsYXI7ZS5jYW52YXMuYmVnaW5QYXRoKCksZS5jYW52YXMubW92ZVRvKGUuc3RhcnR4LGUuc3RhcnR5KSxlLmNhbnZhcy5saW5lVG8oZS5jZW50ZXJ4LGUuY2VudGVyeSksZS5jYW52YXMuc3Ryb2tlKCksZS5jYW52YXMuY2xvc2VQYXRoKCksZS5jYW52YXMuc3Ryb2tlU3R5bGU9ZS5nZXRDb2xvdXIoKSxlLmNoaWxkcmVuLmxlbmd0aD4xJiYhZS5jb2xsYXBzZWQmJihlLmNhbnZhcy5iZWdpblBhdGgoKSxlLmNhbnZhcy5hcmMoMCwwLG4sZS5taW5DaGlsZEFuZ2xlLGUubWF4Q2hpbGRBbmdsZSxlLm1heENoaWxkQW5nbGU8ZS5taW5DaGlsZEFuZ2xlKSxlLmNhbnZhcy5zdHJva2UoKSxlLmNhbnZhcy5jbG9zZVBhdGgoKSl9fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9bigyKSxhPXIuY29uc3RhbnRzLkFuZ2xlcztlLmRlZmF1bHQ9e2dldFN0ZXA6ZnVuY3Rpb24odCl7cmV0dXJuIGEuRlVMTC90LmxlYXZlcy5sZW5ndGh9LGNhbGN1bGF0ZTpmdW5jdGlvbih0LGUpe3QuYnJhbmNoU2NhbGFyPU1hdGgubWluKHQuY2FudmFzLmNhbnZhcy53aWR0aCx0LmNhbnZhcy5jYW52YXMuaGVpZ2h0KS90Lm1heEJyYW5jaExlbmd0aDt2YXIgbj10LmxlYXZlcy5sZW5ndGgqdC5sZWF2ZXNbMF0uZ2V0RGlhbWV0ZXIoKS9hLkZVTEw7dC5icmFuY2hTY2FsYXIqdC5tYXhCcmFuY2hMZW5ndGg+bj9uPXQuYnJhbmNoU2NhbGFyKnQubWF4QnJhbmNoTGVuZ3RoOnQuYnJhbmNoU2NhbGFyPW4vdC5tYXhCcmFuY2hMZW5ndGg7Zm9yKHZhciByPTA7cjx0LmxlYXZlcy5sZW5ndGg7cisrKXt2YXIgaT10LmxlYXZlc1tyXTtmb3IoaS5hbmdsZT1lKnIsaS5zdGFydHg9aS5wYXJlbnQudG90YWxCcmFuY2hMZW5ndGgqdC5icmFuY2hTY2FsYXIqTWF0aC5jb3MoaS5hbmdsZSksaS5zdGFydHk9aS5wYXJlbnQudG90YWxCcmFuY2hMZW5ndGgqdC5icmFuY2hTY2FsYXIqTWF0aC5zaW4oaS5hbmdsZSksaS5jZW50ZXJ4PWkudG90YWxCcmFuY2hMZW5ndGgqdC5icmFuY2hTY2FsYXIqTWF0aC5jb3MoaS5hbmdsZSksaS5jZW50ZXJ5PWkudG90YWxCcmFuY2hMZW5ndGgqdC5icmFuY2hTY2FsYXIqTWF0aC5zaW4oaS5hbmdsZSksaS5sYWJlbE9mZnNldFg9bipNYXRoLmNvcyhpLmFuZ2xlKS1pLmNlbnRlcngsaS5sYWJlbE9mZnNldFk9bipNYXRoLnNpbihpLmFuZ2xlKS1pLmNlbnRlcnk7aS5wYXJlbnQmJigwPT09aS5nZXRDaGlsZE5vKCkmJihpLnBhcmVudC5hbmdsZT1pLmFuZ2xlLGkucGFyZW50Lm1pbkNoaWxkQW5nbGU9aS5hbmdsZSksaS5nZXRDaGlsZE5vKCk9PT1pLnBhcmVudC5jaGlsZHJlbi5sZW5ndGgtMSk7aT1pLnBhcmVudClpLnBhcmVudC5tYXhDaGlsZEFuZ2xlPWkuYW5nbGUsaS5wYXJlbnQuYW5nbGU9KGkucGFyZW50Lm1pbkNoaWxkQW5nbGUraS5wYXJlbnQubWF4Q2hpbGRBbmdsZSkvMixpLnBhcmVudC5zdGFydHg9KGkucGFyZW50LnRvdGFsQnJhbmNoTGVuZ3RoLWkucGFyZW50LmJyYW5jaExlbmd0aCkqdC5icmFuY2hTY2FsYXIqTWF0aC5jb3MoaS5wYXJlbnQuYW5nbGUpLGkucGFyZW50LnN0YXJ0eT0oaS5wYXJlbnQudG90YWxCcmFuY2hMZW5ndGgtaS5wYXJlbnQuYnJhbmNoTGVuZ3RoKSp0LmJyYW5jaFNjYWxhcipNYXRoLnNpbihpLnBhcmVudC5hbmdsZSksaS5wYXJlbnQuY2VudGVyeD1pLnBhcmVudC50b3RhbEJyYW5jaExlbmd0aCp0LmJyYW5jaFNjYWxhcipNYXRoLmNvcyhpLnBhcmVudC5hbmdsZSksaS5wYXJlbnQuY2VudGVyeT1pLnBhcmVudC50b3RhbEJyYW5jaExlbmd0aCp0LmJyYW5jaFNjYWxhcipNYXRoLnNpbihpLnBhcmVudC5hbmdsZSl9fX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMTApLGk9cihhKSxvPW4oMTEpLHM9cihvKSxsPW4oMTgpLGM9cihsKSxoPW4oMTkpLHU9cihoKTtlLmRlZmF1bHQ9e2JyYW5jaFJlbmRlcmVyOm5ldyBpLmRlZmF1bHQoYy5kZWZhdWx0KSxwcmVyZW5kZXJlcjpuZXcgcy5kZWZhdWx0KHUuZGVmYXVsdCksZ2V0Q29sbGFwc2VkTWVhc3VyZW1lbnRzOmZ1bmN0aW9uKHQpe3ZhciBlPXQudHJlZSxuPWUubWF4QnJhbmNoTGVuZ3RoLHI9ZS5icmFuY2hTY2FsYXIsYT1lLnN0ZXA7cmV0dXJue2FuZ2xlOnQuZ2V0TnVtYmVyT2ZMZWF2ZXMoKSphLHJhZGl1czoobi10LnRvdGFsQnJhbmNoTGVuZ3RoKSpyfX0sY2FsY3VsYXRlRm9udFNpemU6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWluKDUwKnQrNSwxNSl9fX0sZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD17ZHJhdzpmdW5jdGlvbih0LGUpe2UuY2FudmFzLmJlZ2luUGF0aCgpLGUuY2FudmFzLm1vdmVUbyhlLnN0YXJ0eCxlLnN0YXJ0eSksZS5jYW52YXMubGluZVRvKGUuY2VudGVyeCxlLmNlbnRlcnkpLGUuY2FudmFzLnN0cm9rZSgpLGUuY2FudmFzLmNsb3NlUGF0aCgpfX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUpe2UucGFyZW50PyhlLnN0YXJ0eD1lLnBhcmVudC5jZW50ZXJ4LGUuc3RhcnR5PWUucGFyZW50LmNlbnRlcnkpOihlLnN0YXJ0eD0wLGUuc3RhcnR5PTApLGUuY2VudGVyeD1lLnN0YXJ0eCtlLmJyYW5jaExlbmd0aCp0LmJyYW5jaFNjYWxhcipNYXRoLmNvcyhlLmFuZ2xlKSxlLmNlbnRlcnk9ZS5zdGFydHkrZS5icmFuY2hMZW5ndGgqdC5icmFuY2hTY2FsYXIqTWF0aC5zaW4oZS5hbmdsZSk7Zm9yKHZhciBuPTA7bjxlLmNoaWxkcmVuLmxlbmd0aDtuKyspcih0LGUuY2hpbGRyZW5bbl0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgYT1uKDIpLGk9YS5jb25zdGFudHMuQW5nbGVzO2UuZGVmYXVsdD17Z2V0U3RlcDpmdW5jdGlvbih0KXtyZXR1cm4gaS5GVUxML3QubGVhdmVzLmxlbmd0aH0sY2FsY3VsYXRlOmZ1bmN0aW9uKHQsZSl7dC5icmFuY2hTY2FsYXI9TWF0aC5taW4odC5jYW52YXMuY2FudmFzLndpZHRoLHQuY2FudmFzLmNhbnZhcy5oZWlnaHQpL3QubWF4QnJhbmNoTGVuZ3RoO2Zvcih2YXIgbj0wO248dC5sZWF2ZXMubGVuZ3RoO24rPTEpe3QubGVhdmVzW25dLmFuZ2xlPWUqbix0LmxlYXZlc1tuXS5jZW50ZXJ4PXQubGVhdmVzW25dLnRvdGFsQnJhbmNoTGVuZ3RoKnQuYnJhbmNoU2NhbGFyKk1hdGguY29zKHQubGVhdmVzW25dLmFuZ2xlKSx0LmxlYXZlc1tuXS5jZW50ZXJ5PXQubGVhdmVzW25dLnRvdGFsQnJhbmNoTGVuZ3RoKnQuYnJhbmNoU2NhbGFyKk1hdGguc2luKHQubGVhdmVzW25dLmFuZ2xlKTtmb3IodmFyIGE9dC5sZWF2ZXNbbl07YS5wYXJlbnQmJigwPT09YS5nZXRDaGlsZE5vKCkmJihhLnBhcmVudC5hbmdsZT0wKSxhLnBhcmVudC5hbmdsZSs9YS5hbmdsZSphLmdldENoaWxkQ291bnQoKSxhLmdldENoaWxkTm8oKT09PWEucGFyZW50LmNoaWxkcmVuLmxlbmd0aC0xKTthPWEucGFyZW50KWEucGFyZW50LmFuZ2xlPWEucGFyZW50LmFuZ2xlL2EucGFyZW50LmdldENoaWxkQ291bnQoKX1yKHQsdC5yb290KX19fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgYT1uKDEwKSxpPXIoYSksbz1uKDExKSxzPXIobyksbD1uKDIxKSxjPXIobCksaD1uKDIyKSx1PXIoaCksZj1uKDYpO2UuZGVmYXVsdD17YnJhbmNoUmVuZGVyZXI6bmV3IGkuZGVmYXVsdChjLmRlZmF1bHQpLHByZXJlbmRlcmVyOm5ldyBzLmRlZmF1bHQodS5kZWZhdWx0KSxjYWxjdWxhdGVGb250U2l6ZTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5taW4odC8yLDEwKX0sZ2V0Q29sbGFwc2VkTWVhc3VyZW1lbnRzOmZ1bmN0aW9uKHQpe3JldHVybnthbmdsZTpmLkFuZ2xlcy5RVUFSVEVSLHJhZGl1czp0LnRyZWUuc3RlcCp0LmdldE51bWJlck9mTGVhdmVzKCl9fX19LGZ1bmN0aW9uKHQsZSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9e2RyYXc6ZnVuY3Rpb24odCxlKXtlLmFuZ2xlPTAsZS5jYW52YXMuYmVnaW5QYXRoKCksZS5jYW52YXMubW92ZVRvKGUuc3RhcnR4LGUuc3RhcnR5KSxlLmNhbnZhcy5saW5lVG8oZS5jZW50ZXJ4LGUuY2VudGVyeSksZS5jYW52YXMuc3Ryb2tlKCksZS5jYW52YXMuY2xvc2VQYXRoKCl9LHByZXBhcmVDaGlsZDpmdW5jdGlvbih0LGUpe2Uuc3RhcnR4PXQuY2VudGVyeCxlLnN0YXJ0eT10LmNlbnRlcnl9fX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9bigyKSxhPXIuY29uc3RhbnRzLkFuZ2xlcztlLmRlZmF1bHQ9e2dldFN0ZXA6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KHQuY2FudmFzLmNhbnZhcy5oZWlnaHQvdC5sZWF2ZXMubGVuZ3RoLHQubGVhdmVzWzBdLmdldERpYW1ldGVyKCkrdC5sYWJlbFBhZGRpbmcpfSxjYWxjdWxhdGU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHQubGVhdmVzLmxlbmd0aDtuKyspe3QubGVhdmVzW25dLmNlbnRlcng9MCx0LmxlYXZlc1tuXS5jZW50ZXJ5PW4+MD90LmxlYXZlc1tuLTFdLmNlbnRlcnkrZTowLHQubGVhdmVzW25dLmFuZ2xlPTA7Zm9yKHZhciByPXQubGVhdmVzW25dO3IucGFyZW50JiZyLmdldENoaWxkTm8oKT09PXIucGFyZW50LmNoaWxkcmVuLmxlbmd0aC0xO3I9ci5wYXJlbnQpe3IucGFyZW50LmNlbnRlcnk9ci5wYXJlbnQuZ2V0Q2hpbGRZVG90YWwoKS9yLnBhcmVudC5nZXRDaGlsZENvdW50KCksci5wYXJlbnQuY2VudGVyeD1yLnBhcmVudC5jaGlsZHJlblswXS5jZW50ZXJ4KyhyLnBhcmVudC5jaGlsZHJlblswXS5jZW50ZXJ5LXIucGFyZW50LmNlbnRlcnkpKk1hdGgudGFuKGEuRk9SVFlGSVZFKTtmb3IodmFyIGk9MDtpPHIucGFyZW50LmNoaWxkcmVuLmxlbmd0aDtpKyspci5wYXJlbnQuY2hpbGRyZW5baV0uc3RhcnR4PXIucGFyZW50LmNlbnRlcngsci5wYXJlbnQuY2hpbGRyZW5baV0uc3RhcnR5PXIucGFyZW50LmNlbnRlcnl9fX19fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgYT1uKDEwKSxpPXIoYSksbz1uKDExKSxzPXIobyksbD1uKDI0KSxjPXIobCksaD1uKDI1KSx1PXIoaCksZj1uKDYpLGQ9e2dldFg6ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2VudGVyeH0sZ2V0WTpmdW5jdGlvbih0KXtyZXR1cm4gdC50cmVlLmZhcnRoZXN0Tm9kZUZyb21Sb290WSp0LnRyZWUuY3VycmVudEJyYW5jaFNjYWxlfSxnZXRMYWJlbE9mZnNldDpmdW5jdGlvbih0KXtyZXR1cm4gdC50cmVlLmZhcnRoZXN0Tm9kZUZyb21Sb290WSp0LnRyZWUuY3VycmVudEJyYW5jaFNjYWxlLXQuY2VudGVyeX19O2UuZGVmYXVsdD17YnJhbmNoUmVuZGVyZXI6bmV3IGkuZGVmYXVsdChjLmRlZmF1bHQpLHByZXJlbmRlcmVyOm5ldyBzLmRlZmF1bHQodS5kZWZhdWx0KSxsYWJlbEFsaWduOmQsYnJhbmNoU2NhbGluZ0F4aXM6InkiLGdldENvbGxhcHNlZE1lYXN1cmVtZW50czpmdW5jdGlvbih0KXtyZXR1cm57YW5nbGU6Zi5BbmdsZXMuUVVBUlRFUixyYWRpdXM6dC50cmVlLnN0ZXAqdC5nZXROdW1iZXJPZkxlYXZlcygpfX19fSxmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kZWZhdWx0PXtkcmF3OmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5icmFuY2hMZW5ndGgqdC5icmFuY2hTY2FsYXI7ZS5wYXJlbnQmJihlLmNlbnRlcnk9ZS5zdGFydHkrbiksZS5jYW52YXMuYmVnaW5QYXRoKCksZSE9PWUudHJlZS5yb290JiYoZS5jYW52YXMubW92ZVRvKGUuc3RhcnR4LGUuc3RhcnR5KSxlLmNhbnZhcy5saW5lVG8oZS5jZW50ZXJ4LGUuc3RhcnR5KSksZS5jYW52YXMubGluZVRvKGUuY2VudGVyeCxlLmNlbnRlcnkpLGUuY2FudmFzLnN0cm9rZSgpLGUuY2FudmFzLmNsb3NlUGF0aCgpfSxwcmVwYXJlQ2hpbGQ6ZnVuY3Rpb24odCxlKXtlLnN0YXJ0eD10LmNlbnRlcngsZS5zdGFydHk9dC5jZW50ZXJ5fX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPW4oMiksYT1yLmNvbnN0YW50cy5BbmdsZXM7ZS5kZWZhdWx0PXtnZXRTdGVwOmZ1bmN0aW9uKHQpe3JldHVybiB0LmZpbGxDYW52YXM/dC5jYW52YXMuY2FudmFzLndpZHRoL3QubGVhdmVzLmxlbmd0aDpNYXRoLm1heCh0LmNhbnZhcy5jYW52YXMud2lkdGgvdC5sZWF2ZXMubGVuZ3RoLHQubGVhdmVzWzBdLmdldERpYW1ldGVyKCkrdC5sYWJlbFBhZGRpbmcpfSxjYWxjdWxhdGU6ZnVuY3Rpb24odCxlKXt0LmJyYW5jaFNjYWxhcj10LmNhbnZhcy5jYW52YXMuaGVpZ2h0L3QubWF4QnJhbmNoTGVuZ3RoO2Zvcih2YXIgbj0wO248dC5sZWF2ZXMubGVuZ3RoO24rKyl7dC5sZWF2ZXNbbl0uYW5nbGU9YS5RVUFSVEVSLHQubGVhdmVzW25dLmNlbnRlcng9bj4wP3QubGVhdmVzW24tMV0uY2VudGVyeCtlOjAsdC5sZWF2ZXNbbl0uY2VudGVyeT10LmxlYXZlc1tuXS50b3RhbEJyYW5jaExlbmd0aCp0LmJyYW5jaFNjYWxhcjtmb3IodmFyIHI9dC5sZWF2ZXNbbl07ci5wYXJlbnQmJigwPT09ci5nZXRDaGlsZE5vKCkmJihyLnBhcmVudC5jZW50ZXJ4PXIuY2VudGVyeCksci5nZXRDaGlsZE5vKCk9PT1yLnBhcmVudC5jaGlsZHJlbi5sZW5ndGgtMSk7cj1yLnBhcmVudCl7ci5wYXJlbnQuYW5nbGU9YS5RVUFSVEVSLHIucGFyZW50LmNlbnRlcng9KHIucGFyZW50LmNlbnRlcngrci5jZW50ZXJ4KS8yLHIucGFyZW50LmNlbnRlcnk9ci5wYXJlbnQudG90YWxCcmFuY2hMZW5ndGgqdC5icmFuY2hTY2FsYXI7Zm9yKHZhciBpPTA7aTxyLnBhcmVudC5jaGlsZHJlbi5sZW5ndGg7aSsrKXIucGFyZW50LmNoaWxkcmVuW2ldLnN0YXJ0eD1yLnBhcmVudC5jZW50ZXJ4LHIucGFyZW50LmNoaWxkcmVuW2ldLnN0YXJ0eT1yLnBhcmVudC5jZW50ZXJ5fXQubGVhdmVzW25dLmNlbnRlcng+dC5mYXJ0aGVzdE5vZGVGcm9tUm9vdFgmJih0LmZhcnRoZXN0Tm9kZUZyb21Sb290WD10LmxlYXZlc1tuXS5jZW50ZXJ4KSx0LmxlYXZlc1tuXS5jZW50ZXJ5PnQuZmFydGhlc3ROb2RlRnJvbVJvb3RZJiYodC5mYXJ0aGVzdE5vZGVGcm9tUm9vdFk9dC5sZWF2ZXNbbl0uY2VudGVyeSl9fX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUpe3QuYmVnaW5QYXRoKCksdC5tb3ZlVG8oMCwwKSx0LmxpbmVUbyhlLDApLHQuc3Ryb2tlKCksdC5jbG9zZVBhdGgoKX1mdW5jdGlvbiBhKHQsZSl7dmFyIG49ZS5saW5lV2lkdGgscj1lLnN0cm9rZVN0eWxlLGE9ZS5maWxsU3R5bGU7dC5saW5lV2lkdGg9bix0LnN0cm9rZVN0eWxlPXIsdC5maWxsU3R5bGU9YSx0LmZpbGwoKSxuPjAmJnIhPT1hJiZ0LnN0cm9rZSgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgaT1uKDIpLG89aS5jb25zdGFudHMuQW5nbGVzLHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQqTWF0aC5zcXJ0KDIpfTtlLmRlZmF1bHQ9e2NpcmNsZTpmdW5jdGlvbih0LGUsbil7dmFyIGk9TWF0aC5wb3cocyhlKSwyKSxsPU1hdGguc3FydChpL01hdGguUEkpO3IodCxlLWwpLHQuYmVnaW5QYXRoKCksdC5hcmMoZSwwLGwsMCxvLkZVTEwsITEpLHQuY2xvc2VQYXRoKCksYSh0LG4pfSxzcXVhcmU6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXMoZSksbz1lLWkvMjtyKHQsbyksdC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhvLDApLHQubGluZVRvKG8saS8yKSx0LmxpbmVUbyhvK2ksaS8yKSx0LmxpbmVUbyhvK2ksLWkvMiksdC5saW5lVG8obywtaS8yKSx0LmxpbmVUbyhvLDApLHQuY2xvc2VQYXRoKCksYSh0LG4pfSxzdGFyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLG89MCxzPTUsbD1lLGM9LjUqbCxoPU1hdGguUEkvcztyKHQsbC1jKTt2YXIgdT1NYXRoLlBJLzIqMzt0LmJlZ2luUGF0aCgpLHQubW92ZVRvKGksby1sKTtmb3IodmFyIGY9MDtmPHM7ZisrKXt2YXIgZD1pK01hdGguY29zKHUpKmwsQz1vK01hdGguc2luKHUpKmw7dC5saW5lVG8oZCxDKSx1Kz1oLGQ9aStNYXRoLmNvcyh1KSpjLEM9bytNYXRoLnNpbih1KSpjLHQubGluZVRvKGQsQyksdSs9aH10LmxpbmVUbyhpLG8tbCksdC5jbG9zZVBhdGgoKSxhKHQsbil9LHRyaWFuZ2xlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT0yKmUqTWF0aC5jb3MoMzAqTWF0aC5QSS8xODApLG89TWF0aC5zcXJ0KDMpLzIqaSxzPTEvTWF0aC5zcXJ0KDMpKihpLzIpO3IodCxlLXMpLHQuYmVnaW5QYXRoKCksdC5tb3ZlVG8oZSxzKSx0LmxpbmVUbyhlK2kvMixzKSx0LmxpbmVUbyhlLC0oby1zKSksdC5saW5lVG8oZS1pLzIscyksdC5saW5lVG8oZSxzKSx0LmNsb3NlUGF0aCgpLGEodCxuKX19fSxmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hZXx8Im9iamVjdCIhPXR5cGVvZiBlJiYiZnVuY3Rpb24iIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcih0LGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ZnVuY3Rpb24gYSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1uLmNsYXNzTmFtZSxpPXZvaWQgMD09PXI/InBoeWxvY2FudmFzLXRvb2x0aXAiOnIsbz1uLmVsZW1lbnQscz12b2lkIDA9PT1vP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOm8sbD1uLnpJbmRleCxjPXZvaWQgMD09PWw/MmUzOmwsaD1uLnBhcmVudCx1PXZvaWQgMD09PWg/ZS5jb250YWluZXJFbGVtZW50Omg7YSh0aGlzLHQpLHRoaXMudHJlZT1lLHRoaXMuZWxlbWVudD1zLHRoaXMuZWxlbWVudC5jbGFzc05hbWU9aSx0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5lbGVtZW50LnN0eWxlLnBvc2l0aW9uPSJmaXhlZCIsdGhpcy5lbGVtZW50LnN0eWxlLnpJbmRleD1jLHRoaXMuY2xvc2VkPSEwLHUuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KX1yZXR1cm4gaSh0LFt7a2V5OiJjbG9zZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5jbG9zZWQ9ITB9fSx7a2V5OiJvcGVuIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MTAwLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEwMCxuPWFyZ3VtZW50c1syXTt0aGlzLmVsZW1lbnQuaGFzQ2hpbGROb2RlcygpOyl0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50LmZpcnN0Q2hpbGQpO3RoaXMuY3JlYXRlQ29udGVudChuKSx0aGlzLmVsZW1lbnQuc3R5bGUudG9wPWUrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD10KyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXk9ImJsb2NrIix0aGlzLmNsb3NlZD0hMX19LHtrZXk6ImNyZWF0ZUNvbnRlbnQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX19XSksdH0oKTtlLmRlZmF1bHQ9bztlLkNoaWxkTm9kZXNUb29sdGlwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxyKXthKHRoaXMsZSk7dmFyIGk9bih0aGlzLChlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpKS5jYWxsKHRoaXMsdCxyKSk7cmV0dXJuIGkuZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kPSJyZ2JhKDk3LCA5NywgOTcsIDAuOSkiLGkuZWxlbWVudC5zdHlsZS5jb2xvcj0iI2ZmZiIsaS5lbGVtZW50LnN0eWxlLmN1cnNvcj0icG9pbnRlciIsaS5lbGVtZW50LnN0eWxlLnBhZGRpbmc9IjhweCIsaS5lbGVtZW50LnN0eWxlLm1hcmdpblRvcD0iMTZweCIsaS5lbGVtZW50LnN0eWxlLmJvcmRlclJhZGl1cz0iMnB4IixpLmVsZW1lbnQuc3R5bGUudGV4dEFsaWduPSJjZW50ZXIiLGkuZWxlbWVudC5zdHlsZS5mb250RmFtaWx5PWkudHJlZS5mb250fHwic2Fucy1zZXJpZiIsaS5lbGVtZW50LnN0eWxlLmZvbnRTaXplPSIxMHB4IixpLmVsZW1lbnQuc3R5bGUuZm9udFdlaWdodD0iNTAwIixpfXJldHVybiByKGUsdCksaShlLFt7a2V5OiJjcmVhdGVDb250ZW50Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0LmdldENoaWxkUHJvcGVydGllcygiaWQiKS5sZW5ndGgpO3RoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChlKX19XSksZX0obyl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMjkpLGk9cihhKSxvPW4oMzApLHM9cihvKSxsPW4oMzEpLGM9cihsKTtlLmRlZmF1bHQ9e25leHVzOm5ldyBpLmRlZmF1bHQoYy5kZWZhdWx0KSxuZXdpY2s6bmV3IGkuZGVmYXVsdChzLmRlZmF1bHQpfX0sZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1lLmZvcm1hdCxhPWUucGFyc2VGbixpPWUuZmlsZUV4dGVuc2lvbixvPWUudmFsaWRhdG9yO24odGhpcyx0KSx0aGlzLmZvcm1hdD1yLHRoaXMucGFyc2VGbj1hLHRoaXMuZmlsZUV4dGVuc2lvbj1pLHRoaXMudmFsaWRhdG9yPW99cmV0dXJuIHIodCxbe2tleToicGFyc2UiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5mb3JtYXRTdHJpbmcscj10LnJvb3QsYT10Lm9wdGlvbnMsaT12b2lkIDA9PT1hP3t2YWxpZGF0ZTohMH06YTtyZXR1cm4gbi5tYXRjaCh0aGlzLnZhbGlkYXRvcil8fGkudmFsaWRhdGU9PT0hMT90aGlzLnBhcnNlRm4oe3N0cmluZzpuLHJvb3Q6cixvcHRpb25zOml9LGUpOmUobmV3IEVycm9yKCdGb3JtYXQgc3RyaW5nIGRvZXMgbm90IHZhbGlkYXRlIGFzICInK3RoaXMuZm9ybWF0KyciJykpfX1dKSx0fSgpO2UuZGVmYXVsdD1hfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGEodCl7cmV0dXJuIHRoaXM9PT10fWZ1bmN0aW9uIGkodCl7dmFyIGU9IiIsbj0hMCxyPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIG8scz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KG89cy5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBsPW8udmFsdWU7aWYodi5zb21lKGEuYmluZChsKSkpYnJlYWs7ZSs9bH19Y2F0Y2godCl7cj0hMCxpPXR9ZmluYWxseXt0cnl7IW4mJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX1yZXR1cm4gZX1mdW5jdGlvbiBvKHQsZSl7dmFyIG49dC5zcGxpdCgiKioiKSxyPXt9O2lmKGUuaWQ9blswXSwxIT09bi5sZW5ndGgpe249blsxXS5zcGxpdCgiKiIpO2Zvcih2YXIgYT0wO2E8bi5sZW5ndGg7YSs9Mil7dmFyIGk9blthKzFdO3N3aXRjaChuW2FdKXtjYXNlIm5zeiI6ci5zaXplPXdpbmRvdy5wYXJzZUludChpKTticmVhaztjYXNlIm5zaCI6ci5zaGFwZT1pO2JyZWFrO2Nhc2UibmNvbCI6ci5jb2xvdXI9aX19ZS5zZXREaXNwbGF5KHIpfX1mdW5jdGlvbiBzKHQpe3ZhciBlPSIiLG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShvPXMubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgbD1vLnZhbHVlO2lmKHAuc29tZShhLmJpbmQobCkpKWJyZWFrO2UrPWx9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5eyFuJiZzLnJldHVybiYmcy5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgaX19cmV0dXJuIGV9ZnVuY3Rpb24gbCh0LGUsbil7dmFyIHI9aShlLnNsaWNlKG4pKSxhPW4rci5sZW5ndGgsbD0iIjtyZXR1cm4gci5tYXRjaCgvXCovKSYmbyhyLHQpLCI6Ij09PWVbYV0/KGw9cyhlLnNsaWNlKGErMSkpLHQuYnJhbmNoTGVuZ3RoPU1hdGgubWF4KHBhcnNlRmxvYXQobCksMCkpOnQuYnJhbmNoTGVuZ3RoPTAsciYmKHQubGFiZWw9ciksdC5pZD1yfHx1LmRlZmF1bHQuZ2VuZXJhdGVJZCgpLGErbC5sZW5ndGh9ZnVuY3Rpb24gYyh0LGUpe2Zvcih2YXIgbj10LnN0cmluZyxyPXQucm9vdCxhPW4ucmVwbGFjZSgvKFxyfFxuKS9nLCIiKSxpPXIsbz0wO288YS5sZW5ndGg7bysrKXt2YXIgcz12b2lkIDA7c3dpdGNoKGFbb10pe2Nhc2UiKCI6cz1uZXcgdS5kZWZhdWx0LGkuYWRkQ2hpbGQocyksaT1zO2JyZWFrO2Nhc2UiKSI6aT1pLnBhcmVudDticmVhaztjYXNlIiwiOnM9bmV3IHUuZGVmYXVsdCxpLnBhcmVudC5hZGRDaGlsZChzKSxpPXM7YnJlYWs7Y2FzZSI7IjpicmVhaztkZWZhdWx0OnRyeXtvPWwoaSxhLG8pfWNhdGNoKHQpe3JldHVybiBlKHQpfX19cmV0dXJuIGUoKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGg9big3KSx1PXIoaCksZj0ibmV3aWNrIixkPS9cLm53ayQvLEM9L15bXHdcV1wuXCpcOihcKSwtXC9dKzs/XHMqJC9naSx2PVsiOiIsIiwiLCIpIiwiOyJdLHA9WyIpIiwiLCIsIjsiXTtlLmRlZmF1bHQ9e2Zvcm1hdDpmLGZpbGVFeHRlbnNpb246ZCx2YWxpZGF0b3I6QyxwYXJzZUZuOmN9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCxlKXt2YXIgbj10LnN0cmluZyxyPXQucm9vdCxpPXQub3B0aW9ucztpZighbi5tYXRjaCgvQkVHSU4gVFJFRVMvZ2kpKXJldHVybiBlKG5ldyBFcnJvcigiVGhlIG5leHVzIGZpbGUgZG9lcyBub3QgY29udGFpbiBhIHRyZWUgYmxvY2siKSk7dmFyIG89aS5uYW1lLHM9bi5tYXRjaCgvQkVHSU4gVFJFRVM7W1xTXHNdK0VORDsvaSlbMF0ucmVwbGFjZSgvQkVHSU4gVFJFRVM7XG4vaSwiIikucmVwbGFjZSgvRU5EOy9pLCIiKSxsPXt9LGM9cy5tYXRjaCgvVFJBTlNMQVRFW147XSs7L2kpO2lmKGMmJmMubGVuZ3RoKXtjPWNbMF0scz1zLnJlcGxhY2UoYywiIiksYz1jLnJlcGxhY2UoL3RyYW5zbGF0ZXw7L2dpLCIiKTtmb3IodmFyIGg9Yy5zcGxpdCgiLCIpLHU9MDt1PGgubGVuZ3RoO3UrKyl7dmFyIGY9aFt1XS50cmltKCkucmVwbGFjZSgiXG4iLCIiKS5zcGxpdCgiICIpO2ZbMF0mJmZbMV0mJihsW2ZbMF0udHJpbSgpXT1mWzFdLnRyaW0oKSl9fWZvcih2YXIgZD1zLnNwbGl0KCJcbiIpLEM9e30sdj0wO3Y8ZC5sZW5ndGg7disrKWlmKCIiIT09ZFt2XS50cmltKCkpe3ZhciBwPWRbdl0ucmVwbGFjZSgvdHJlZVxzL2ksIiIpO298fChvPXAudHJpbSgpLm1hdGNoKC9eXHcrLylbMF0pLENbb109cC50cmltKCkubWF0Y2goL1tcU10qJC8pWzBdfXJldHVybiBDW29dP3ZvaWQoMCxhLnBhcnNlRm4pKHtzdHJpbmc6Q1tvXS50cmltKCkscm9vdDpyfSxmdW5jdGlvbih0KXtpZih0KXJldHVybiBlKHQpO2lmKGUoKSxsKXt2YXIgbj0hMCxhPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIG8scz1PYmplY3Qua2V5cyhsKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShvPXMubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgYz1vLnZhbHVlLGg9ci50cmVlLmJyYW5jaGVzLHU9aFtjXTtkZWxldGUgaFtjXSx1LmlkPWxbY10saFt1LmlkXT11fX1jYXRjaCh0KXthPSEwLGk9dH1maW5hbGx5e3RyeXshbiYmcy5yZXR1cm4mJnMucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IGl9fXIudHJlZS5kcmF3KCl9fSk6bmV3IEVycm9yKCJ0cmVlICIrbysiIGRvZXMgbm90IGV4aXN0IGluIHRoaXMgTkVYVVMgZmlsZSIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgYT1uKDMwKSxpPSJuZXh1cyIsbz0vXC5uKGV4fHhzKSQvLHM9L14jTkVYVVNbXHNcbjtcd1xXXC5cKlw6KFwpLC09XFtcXVwvJl0rJC9pO2UuZGVmYXVsdD17cGFyc2VGbjpyLGZvcm1hdDppLGZpbGVFeHRlbnNpb246byx2YWxpZGF0b3I6c319XSl9KX0sZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbihlLHIpe3QuZXhwb3J0cz1yKG4oMykpfSh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2lmKG5bcl0pcmV0dXJuIG5bcl0uZXhwb3J0czt2YXIgYT1uW3JdPXtleHBvcnRzOnt9LGlkOnIsbG9hZGVkOiExfTtyZXR1cm4gdFtyXS5jYWxsKGEuZXhwb3J0cyxhLGEuZXhwb3J0cyxlKSxhLmxvYWRlZD0hMCxhLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIGUubT10LGUuYz1uLGUucD0iIixlKDApfShbZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQsZSl7dmFyIG49dC51cmwscj10Lm1ldGhvZCxhPXQuZGF0YSxpPW5ldyBYTUxIdHRwUmVxdWVzdDtpLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1pLnJlYWR5U3RhdGUmJmUoaSl9LGkub3BlbihyLG4sITApLCJHRVQiPT09cj9pLnNlbmQoKTppLnNlbmQoYSl9ZnVuY3Rpb24gYSh0KXt0KG8uVHJlZSwiYnVpbGQiLGZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxhPWkoZSwzKSxvPWFbMF0scz1hWzFdLGw9YVsyXTtsLmFqYXh8fG8ubWF0Y2gocy5maWxlRXh0ZW5zaW9uKT9yKHt1cmw6byxtZXRob2Q6IkdFVCJ9LGZ1bmN0aW9uKGUpe2lmKGUuc3RhdHVzPj00MDApe3ZhciByPW5ldyBFcnJvcihlLnJlc3BvbnNlVGV4dCk7cmV0dXJuIGwuY2FsbGJhY2smJmwuY2FsbGJhY2sociksbi5sb2FkRXJyb3Iocil9dC5jYWxsKG4sZS5yZXNwb25zZVRleHQscyxsKX0pOnQuYXBwbHkodGhpcyxlKX0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgbj1bXSxyPSEwLGE9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSkmJihuLnB1c2goby52YWx1ZSksIWV8fG4ubGVuZ3RoIT09ZSk7cj0hMCk7fWNhdGNoKHQpe2E9ITAsaT10fWZpbmFsbHl7dHJ5eyFyJiZzLnJldHVybiYmcy5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgaX19cmV0dXJuIG59cmV0dXJuIGZ1bmN0aW9uKGUsbil7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZTtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKXJldHVybiB0KGUsbik7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfX0oKTtlLmRlZmF1bHQ9YTt2YXIgbz1uKDEpfSxmdW5jdGlvbihlLG4pe2UuZXhwb3J0cz10fV0pfSl9LGZ1bmN0aW9uKHQsZSxuKXshZnVuY3Rpb24oZSxyKXt0LmV4cG9ydHM9cihuKDMpKX0odGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpZihuW3JdKXJldHVybiBuW3JdLmV4cG9ydHM7dmFyIGE9bltyXT17ZXhwb3J0czp7fSxpZDpyLGxvYWRlZDohMX07cmV0dXJuIHRbcl0uY2FsbChhLmV4cG9ydHMsYSxhLmV4cG9ydHMsZSksYS5sb2FkZWQ9ITAsYS5leHBvcnRzfXZhciBuPXt9O3JldHVybiBlLm09dCxlLmM9bixlLnA9IiIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gYSh0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPUFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59cmV0dXJuIEFycmF5LmZyb20odCl9ZnVuY3Rpb24gaSh0KXtyZXR1cm4iY2lyY3VsYXIiPT09dC50cmVlVHlwZXx8InJhZGlhbCI9PT10LnRyZWVUeXBlfWZ1bmN0aW9uIG8odCl7cmV0dXJuIHQubWV0YWRhdGEuZm9udD90Lm1ldGFkYXRhLmZvbnQ6TWF0aC5taW4odC50ZXh0U2l6ZSx0Lm1ldGFkYXRhLmJsb2NrTGVuZ3RoKSsicHQgIit0LmZvbnR9ZnVuY3Rpb24gcyh0KXt2YXIgZT10Lm1ldGFkYXRhLG49ZS5jb2x1bW5zLHI9ZS5wcm9wZXJ0eU5hbWU7cmV0dXJuIG4ubGVuZ3RoPjA/bjpPYmplY3Qua2V5cyh0LmxlYXZlc1swXVtyXSl9ZnVuY3Rpb24gbCh0KXtpZighdC5tZXRhZGF0YS5zaG93SGVhZGVycylyZXR1cm4hMTt2YXIgZT10LnRyZWVUeXBlLG49dC5hbGlnbkxhYmVscztyZXR1cm4iZGlhZ29uYWwiPT09ZXx8biYmInJlY3Rhbmd1bGFyIj09PWV8fCJoaWVyYXJjaGljYWwiPT09ZX1mdW5jdGlvbiBjKHQpe3ZhciBlPXQubWV0YWRhdGEsbj1lLnNob3dMYWJlbHMscj1lLmJsb2NrTGVuZ3RoLGE9ZS5wYWRkaW5nLGk9ZS5fbWF4TGFiZWxXaWR0aCxvPXModCk7cmV0dXJuKG4/by5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gaVtlXX0sMCk6MCkrby5sZW5ndGgqKHIrYSl9ZnVuY3Rpb24gaCh0KXtpZih0Lm1ldGFkYXRhLl9tYXhCbG9ja1NpemUpcmV0dXJuIHQubWV0YWRhdGEuX21heEJsb2NrU2l6ZTtpZihpKHQpKXt2YXIgZT0wLG49ITAscj0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dC5sZWF2ZXNbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0obz1zLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIGw9by52YWx1ZSxjPWwuZ2V0TGFiZWxTdGFydFgoKTsodC5zaG93TGFiZWxzfHx0LmhvdmVyTGFiZWwmJmwuaGlnaGxpZ2h0ZWQpJiYoYys9dC5tYXhMYWJlbExlbmd0aFt0LnRyZWVUeXBlXSk7dmFyIGg9dC5hbGlnbkxhYmVscz90LmxhYmVsQWxpZ24uZ2V0TGFiZWxPZmZzZXQobCk6MCx1PU1hdGguaHlwb3QobC5jZW50ZXJ4LWwuc3RhcnR4LGwuY2VudGVyeS1sLnN0YXJ0eSkrYytoO3U+ZSYmKGU9dSl9fWNhdGNoKHQpe3I9ITAsYT10fWZpbmFsbHl7dHJ5eyFuJiZzLnJldHVybiYmcy5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgYX19cmV0dXJuIHQubWV0YWRhdGEuX21heEJsb2NrU2l6ZT1iLkZVTEwqZS90LmxlYXZlcy5sZW5ndGgsdC5tZXRhZGF0YS5fbWF4QmxvY2tTaXplfXJldHVybiB0LnN0ZXB9ZnVuY3Rpb24gdSh0LGUsbil7dmFyIHI9dC50cmVlLmNhbnZhcyxhPXQudHJlZS50cmVlVHlwZSxpPXQudHJlZS5tZXRhZGF0YSxzPWkuX21heExhYmVsV2lkdGgsbD1pLl9tYXhIZWFkZXJXaWR0aCxjPWkuX21heEhlYWRlckhlaWdodCxoPWkuYmxvY2tMZW5ndGgsdT1pLnBhZGRpbmcsZj1pLmhlYWRlckFuZ2xlLGQ9aS5zaG93TGFiZWxzLEM9aS5maWxsU3R5bGUsdj1pLnN0cm9rZVN0eWxlLHA9aS51bmRlcmxpbmVIZWFkZXJzLGc9dC50cmVlLm1ldGFkYXRhLmNvbHVtbnMubGVuZ3RoPjA/dC50cmVlLm1ldGFkYXRhLmNvbHVtbnM6T2JqZWN0LmtleXModC5kYXRhKSx5PXQudHJlZS5tZXRhZGF0YS5saW5lV2lkdGgvdC50cmVlLnpvb207ci5mb250PW8odC50cmVlKSxyLmZpbGxTdHlsZT1DLHIuc3Ryb2tlU3R5bGU9dixyLmxpbmVXaWR0aD15O3ZhciBiPWYvMTgwKk1hdGguUEksbT1uK2MvMitNYXRoLnNpbihiKSpsLzIseD0iaGllcmFyY2hpY2FsIj09PWE/LTE6MSx3PWUsUz0hMCxrPSExLEw9dm9pZCAwO3RyeXtmb3IodmFyIF8sRT1nW1N5bWJvbC5pdGVyYXRvcl0oKTshKFM9KF89RS5uZXh0KCkpLmRvbmUpO1M9ITApe3ZhciBUPV8udmFsdWUsTT1oKyhkP3NbVF06MCk7ci50ZXh0QWxpZ249ImNlbnRlciIsci50ZXh0QmFzZWxpbmU9Im1pZGRsZSI7dmFyIE89dytNLzI7ci5yb3RhdGUoLWIpLHIuZmlsbFRleHQoVCxNYXRoLmNvcyhiKSpPK01hdGguc2luKGIpKngqbSxNYXRoLnNpbihiKSpPK01hdGguY29zKGIpKi14Km0pLHIucm90YXRlKGIpLHAmJihyLmJlZ2luUGF0aCgpLHIubW92ZVRvKHcsLXgqbiksci5saW5lVG8odytNLC14Km4pLHIuc3Ryb2tlKCksci5jbG9zZVBhdGgoKSksdys9TSt1fX1jYXRjaCh0KXtrPSEwLEw9dH1maW5hbGx5e3RyeXshUyYmRS5yZXR1cm4mJkUucmV0dXJuKCl9ZmluYWxseXtpZihrKXRocm93IEx9fX1mdW5jdGlvbiBmKHQpe3ZhciBlPXQudHJlZS5jYW52YXMsbj10LnRyZWUscj10LnRyZWUubWV0YWRhdGEsYT1yLl9tYXhMYWJlbFdpZHRoLHM9ci5ibG9ja1NpemUsYz1yLmJsb2NrTGVuZ3RoLGY9ci5wYWRkaW5nLGQ9ci5wcm9wZXJ0eU5hbWUsQz1yLmZpbGxTdHlsZSx2PXIuY29sdW1ucyxwPXIuc2hvd0xhYmVscyxnPXQuZ2V0TGFiZWxTdGFydFgoKSx5PTA7KG4uc2hvd0xhYmVsc3x8bi5ob3ZlckxhYmVsJiZ0LmhpZ2hsaWdodGVkKSYmKGcrPW4ubWF4TGFiZWxMZW5ndGhbbi50cmVlVHlwZV0pO3ZhciBtPWgobikseD1udWxsIT09cz9NYXRoLm1pbihtLHMpOm07bi5hbGlnbkxhYmVscyYmKGcrPW4ubGFiZWxBbGlnbi5nZXRMYWJlbE9mZnNldCh0KSksZys9Zix5LT14LzIsIW4ubWV0YWRhdGEuX2hlYWRpbmdEcmF3biYmbChuKSYmKHUodCxnLHgvMitmKSxuLm1ldGFkYXRhLl9oZWFkaW5nRHJhd249ITApO3ZhciB3PXRoaXNbZF07aWYoT2JqZWN0LmtleXModykubGVuZ3RoPjApe2UuYmVnaW5QYXRoKCk7dmFyIFM9di5sZW5ndGg+MD92Ok9iamVjdC5rZXlzKHcpLGs9MSxMPWkobikmJm4uYWxpZ25MYWJlbHM/Yi5GVUxMKmMvbi5sZWF2ZXMubGVuZ3RoOjAsXz1vKG4pLEU9ITAsVD0hMSxNPXZvaWQgMDt0cnl7Zm9yKHZhciBPLFA9U1tTeW1ib2wuaXRlcmF0b3JdKCk7IShFPShPPVAubmV4dCgpKS5kb25lKTtFPSEwKXt2YXIgQT1PLnZhbHVlOyJ1bmRlZmluZWQiIT10eXBlb2Ygd1tBXSYmKGUuZmlsbFN0eWxlPXdbQV0uY29sb3VyfHx3W0FdLGUuZmlsbFJlY3QoZyx5LGMseCtrKkwpLHAmJiJzdHJpbmciPT10eXBlb2Ygd1tBXS5sYWJlbCYmKGUuZm9udD1fLGUuZmlsbFN0eWxlPUMsZS50ZXh0QWxpZ249ImxlZnQiLGUudGV4dEJhc2VsaW5lPSJtaWRkbGUiLGUuZmlsbFRleHQod1tBXS5sYWJlbCxnK2MrZi80LHkreC8yKSkpLGcrPWMrZixwJiYoZys9YVtBXSksaysrfX1jYXRjaCh0KXtUPSEwLE09dH1maW5hbGx5e3RyeXshRSYmUC5yZXR1cm4mJlAucmV0dXJuKCl9ZmluYWxseXtpZihUKXRocm93IE19fWUuY2xvc2VQYXRoKCl9fWZ1bmN0aW9uIGQodCl7dmFyIGU9dC5jYW52YXMsbj10Lm1ldGFkYXRhLHI9bi5zaG93TGFiZWxzLGE9bi5wcm9wZXJ0eU5hbWUsaT1uLmhlYWRlckFuZ2xlLGw9cyh0KSxjPWkvMTgwKk1hdGguUEk7ZS5mb250PW8odCksdC5tZXRhZGF0YS5fbWF4SGVhZGVyV2lkdGg9MCx0Lm1ldGFkYXRhLl9tYXhIZWFkZXJIZWlnaHQ9ZS5tZWFzdXJlVGV4dCgiTSIpLndpZHRoO3ZhciBoPXt9O2lmKHIpe3ZhciB1PSEwLGY9ITEsZD12b2lkIDA7dHJ5e2Zvcih2YXIgQyx2PWxbU3ltYm9sLml0ZXJhdG9yXSgpOyEodT0oQz12Lm5leHQoKSkuZG9uZSk7dT0hMCl7dmFyIHA9Qy52YWx1ZSxnPWUubWVhc3VyZVRleHQocCkud2lkdGg7aFtwXT1NYXRoLmNvcyhjKSpnLGc+dC5tZXRhZGF0YS5fbWF4SGVhZGVyV2lkdGgmJih0Lm1ldGFkYXRhLl9tYXhIZWFkZXJXaWR0aD1nKX19Y2F0Y2godCl7Zj0hMCxkPXR9ZmluYWxseXt0cnl7IXUmJnYucmV0dXJuJiZ2LnJldHVybigpfWZpbmFsbHl7aWYoZil0aHJvdyBkfX12YXIgeT0hMCxiPSExLG09dm9pZCAwO3RyeXtmb3IodmFyIHgsdz10LmxlYXZlc1tTeW1ib2wuaXRlcmF0b3JdKCk7ISh5PSh4PXcubmV4dCgpKS5kb25lKTt5PSEwKXt2YXIgUz14LnZhbHVlLGs9U1thXSxMPSEwLF89ITEsRT12b2lkIDA7dHJ5e2Zvcih2YXIgVCxNPWxbU3ltYm9sLml0ZXJhdG9yXSgpOyEoTD0oVD1NLm5leHQoKSkuZG9uZSk7TD0hMCl7dmFyIE89VC52YWx1ZTtpZihrW09dJiYic3RyaW5nIj09dHlwZW9mIGtbT10ubGFiZWwpe3ZhciBQPWUubWVhc3VyZVRleHQoa1tPXS5sYWJlbCkud2lkdGg7UD5oW09dJiYoaFtPXT1QKX19fWNhdGNoKHQpe189ITAsRT10fWZpbmFsbHl7dHJ5eyFMJiZNLnJldHVybiYmTS5yZXR1cm4oKX1maW5hbGx5e2lmKF8pdGhyb3cgRX19fX1jYXRjaCh0KXtiPSEwLG09dH1maW5hbGx5e3RyeXsheSYmdy5yZXR1cm4mJncucmV0dXJuKCl9ZmluYWxseXtpZihiKXRocm93IG19fX1lbHNle3ZhciBBPSEwLEY9ITEsaj12b2lkIDA7dHJ5e2Zvcih2YXIgTixSPWxbU3ltYm9sLml0ZXJhdG9yXSgpOyEoQT0oTj1SLm5leHQoKSkuZG9uZSk7QT0hMCl7dmFyIEI9Ti52YWx1ZTtoW0JdPTB9fWNhdGNoKHQpe0Y9ITAsaj10fWZpbmFsbHl7dHJ5eyFBJiZSLnJldHVybiYmUi5yZXR1cm4oKX1maW5hbGx5e2lmKEYpdGhyb3cgan19fXQubWV0YWRhdGEuX21heExhYmVsV2lkdGg9aH1mdW5jdGlvbiBDKHQpe3QoZy5kZWZhdWx0LCJjcmVhdGVUcmVlIixmdW5jdGlvbih0LGUpe3ZhciBuPXQuYXBwbHkodm9pZCAwLGEoZSkpO3JldHVybiBuLm1ldGFkYXRhPU9iamVjdC5hc3NpZ24oe30sbSxuLm1ldGFkYXRhfHx7fSksbn0pO3ZhciBlPXAuVHJlZS5wcm90b3R5cGUuX19sb29rdXBHZXR0ZXJfXygiYWxpZ25MYWJlbHMiKTtwLlRyZWUucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18oImFsaWduTGFiZWxzIixmdW5jdGlvbigpe3JldHVybiB0aGlzLm1ldGFkYXRhLmFjdGl2ZT90aGlzLmxhYmVsQWxpZ24mJnRoaXMubGFiZWxBbGlnbkVuYWJsZWQ6ZS5jYWxsKHRoaXMpfSksdChwLlByZXJlbmRlcmVyLCJydW4iLGZ1bmN0aW9uKHQsZSl7dC5hcHBseSh0aGlzLGUpO3ZhciBuPXYoZSwxKSxyPW5bMF07ZChyKSxyLm1ldGFkYXRhLl9tYXhCbG9ja1NpemU9bnVsbH0pLHQocC5UcmVlLCJkcmF3IixmdW5jdGlvbih0LGUpe3RoaXMubWV0YWRhdGEuYWN0aXZlJiYodGhpcy5tZXRhZGF0YS5faGVhZGluZ0RyYXduPSExKSx0LmFwcGx5KHRoaXMsZSl9KSx0KHAuVHJlZSwiZ2V0Qm91bmRzIixmdW5jdGlvbih0LGUpe3ZhciBuPXQuYXBwbHkodGhpcyxlKTtpZih0aGlzLm1ldGFkYXRhLmFjdGl2ZSl7dmFyIHI9blswXVswXSxhPW5bMF1bMV0saT1uWzFdWzBdLG89blsxXVsxXSxzPXRoaXMubWV0YWRhdGEsbD1zLl9tYXhIZWFkZXJXaWR0aCxjPXMuX21heEhlYWRlckhlaWdodCxoPXRoaXMudHJlZVR5cGUsdT0icmVjdGFuZ3VsYXIiPT09aHx8ImRpYWdvbmFsIj09PWgsZj0iaGllcmFyY2hpY2FsIj09PWg7cmV0dXJuW1tyLShmP2wrYzowKSxhLSh1P2wrYzowKV0sW2ksb11dfXJldHVybiBufSksdChwLkJyYW5jaCwiZHJhd0xlYWYiLGZ1bmN0aW9uKHQpe3QuY2FsbCh0aGlzKSx0aGlzLnRyZWUubWV0YWRhdGEuYWN0aXZlJiZmLmNhbGwodGhpcyx0aGlzKX0pLHQocC5CcmFuY2gsImdldFRvdGFsTGVuZ3RoIixmdW5jdGlvbih0KXt2YXIgZT10LmNhbGwodGhpcyk7cmV0dXJuIHRoaXMudHJlZS5tZXRhZGF0YS5hY3RpdmUmJihlKz1jKHRoaXMudHJlZSkpLGV9KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIG49W10scj0hMCxhPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIG8scz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKG8udmFsdWUpLCFlfHxuLmxlbmd0aCE9PWUpO3I9ITApO31jYXRjaCh0KXthPSEwLGk9dH1maW5hbGx5e3RyeXshciYmcy5yZXR1cm4mJnMucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IGl9fXJldHVybiBufXJldHVybiBmdW5jdGlvbihlLG4pe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGU7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKSlyZXR1cm4gdChlLG4pO3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX19KCk7ZS5kZWZhdWx0PUM7dmFyIHA9bigxKSxnPXIocCkseT1wLnV0aWxzLmNvbnN0YW50cyxiPXkuQW5nbGVzLG09e19oZWFkaW5nRHJhd246ITEsX21heExhYmVsV2lkdGg6e30sYWN0aXZlOiEwLHNob3dIZWFkZXJzOiEwLHNob3dMYWJlbHM6ITAsYmxvY2tMZW5ndGg6MzIsYmxvY2tTaXplOm51bGwscGFkZGluZzo4LGNvbHVtbnM6W10scHJvcGVydHlOYW1lOiJkYXRhIix1bmRlcmxpbmVIZWFkZXJzOiEwLGhlYWRlckFuZ2xlOjkwLGZpbGxTdHlsZToiYmxhY2siLHN0cm9rZVN0eWxlOiJibGFjayIsbGluZVdpZHRoOjEsZm9udDpudWxsfX0sZnVuY3Rpb24oZSxuKXtlLmV4cG9ydHM9dH1dKX0pfSxmdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKGUscil7dC5leHBvcnRzPXIobigzKSl9KHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aWYobltyXSlyZXR1cm4gbltyXS5leHBvcnRzO3ZhciBhPW5bcl09e2V4cG9ydHM6e30saWQ6cixsb2FkZWQ6ITF9O3JldHVybiB0W3JdLmNhbGwoYS5leHBvcnRzLGEsYS5leHBvcnRzLGUpLGEubG9hZGVkPSEwLGEuZXhwb3J0c312YXIgbj17fTtyZXR1cm4gZS5tPXQsZS5jPW4sZS5wPSIiLGUoMCl9KFtmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPTAsbj1BcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufXJldHVybiBBcnJheS5mcm9tKHQpfWZ1bmN0aW9uIGEodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBpKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hZXx8Im9iamVjdCIhPXR5cGVvZiBlJiYiZnVuY3Rpb24iIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gbyh0LGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ZnVuY3Rpb24gcyh0KXt2YXIgZT10LnRleHQsbj12b2lkIDA9PT1lPyJsaW5rIjplLHI9dC5maWxlbmFtZSxhPXZvaWQgMD09PXI/ImZpbGUiOnIsaT10LmhyZWYsbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIG8uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobikpLG8uaHJlZj1pLG8uZG93bmxvYWQ9YSxvfWZ1bmN0aW9uIGwodCl7dmFyIGU9dC50cmVlLG49dC5maWxlbmFtZXM7cmV0dXJuIHMoe3RleHQ6dGhpcy50ZXh0LGZpbGVuYW1lOm4uaW1hZ2UsaHJlZjplLmdldFBuZ1VybCgpfSl9ZnVuY3Rpb24gYyh0LGUpe3ZhciBuPXQudHJlZSxyPXQuZmlsZW5hbWVzO3JldHVybiBzKHt0ZXh0OnRoaXMudGV4dCxmaWxlbmFtZTpyLmxlYWZMYWJlbHMsaHJlZjp3KChlfHxuLnJvb3QpLmdldENoaWxkUHJvcGVydGllcygibGFiZWwiKS5qb2luKCJcbiIpKX0pfWZ1bmN0aW9uIGgodCl7dmFyIGU9dC50cmVlLG49dC5maWxlbmFtZXMscj1lLmxlYXZlcy5yZWR1Y2UoZnVuY3Rpb24odCxuKXtyZXR1cm4gbltlLmNsaWNrRmxhZ109PT0hMCYmdC5wdXNoKG4ubGFiZWwpLHR9LFtdKTtyZXR1cm4gMD09PXIubGVuZ3RoP251bGw6cyh7dGV4dDp0aGlzLnRleHQsZmlsZW5hbWU6bi5sZWFmTGFiZWxzLGhyZWY6dyhyLmpvaW4oIlxuIikpfSl9ZnVuY3Rpb24gdSh0LGUpe3ZhciBuPXQudHJlZSxyPXQuZmlsZW5hbWVzO3JldHVybiBzKHt0ZXh0OnRoaXMudGV4dCxmaWxlbmFtZTpyLm5ld2ljayxocmVmOncoKGV8fG4ucm9vdCkuZ2V0TndrKCkpfSl9ZnVuY3Rpb24gZigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO3JldHVybiBlLnNyYz0iZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsJTNDc3ZnJTIwdmVyc2lvbiUzRCUyMjEuMSUyMiUyMGlkJTNEJTIyTGF5ZXJfMSUyMiUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIweG1sbnMlM0F4bGluayUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMTk5OSUyRnhsaW5rJTIyJTIweCUzRCUyMjBweCUyMiUyMHklM0QlMjIwcHglMjIlMjB2aWV3Qm94JTNEJTIyMCUyMDAlMjA2MTkuMyUyMDE2Ni43JTIyJTIwc3R5bGUlM0QlMjJlbmFibGUtYmFja2dyb3VuZCUzQW5ldyUyMDAlMjAwJTIwNjE5LjMlMjAxNjYuNyUzQiUyMiUyMHhtbCUzQXNwYWNlJTNEJTIycHJlc2VydmUlMjIlM0UlM0NzdHlsZSUyMHR5cGUlM0QlMjJ0ZXh0JTJGY3NzJTIyJTNFJTA5LnN0MCU3QmZpbGwlM0ElMjMzQzczODMlM0IlN0QlMDkuc3QxJTdCZmlsbCUzQSUyMzlCQjdCRiUzQiU3RCUzQyUyRnN0eWxlJTNFJTNDZyUzRSUwOSUzQ3BhdGglMjBjbGFzcyUzRCUyMnN0MCUyMiUyMGQlM0QlMjJNMTM5LjUlMkMxNDUuOFY4Ni40aDI0LjFjMi41JTJDMCUyQzQuOCUyQzAuNSUyQzYuOSUyQzEuNmMyLjElMkMxLjElMkMzLjklMkMyLjUlMkM1LjQlMkM0LjJjMS41JTJDMS44JTJDMi43JTJDMy43JTJDMy42JTJDNS45JTIwJTIwJTIwYzAuOSUyQzIuMiUyQzEuMyUyQzQuNCUyQzEuMyUyQzYuN2MwJTJDMi40LTAuNCUyQzQuNy0xLjIlMkM3Yy0wLjglMkMyLjItMS45JTJDNC4yLTMuNCUyQzUuOWMtMS41JTJDMS43LTMuMiUyQzMuMS01LjIlMkM0LjFjLTIlMkMxLTQuMyUyQzEuNS02LjclMkMxLjVoLTIwLjV2MjIuNCUyMCUyMCUyMEgxMzkuNXolMjBNMTQzLjglMkMxMTkuNUgxNjRjMS45JTJDMCUyQzMuNy0wLjQlMkM1LjItMS4yYzEuNS0wLjglMkMyLjgtMS45JTJDMy45LTMuM2MxLjEtMS40JTJDMS45LTIuOSUyQzIuNS00LjdjMC42LTEuOCUyQzAuOS0zLjYlMkMwLjktNS41JTIwJTIwJTIwYzAtMi0wLjMtMy44LTEtNS42Yy0wLjctMS44LTEuNi0zLjMtMi44LTQuNmMtMS4yLTEuMy0yLjYtMi40LTQuMS0zLjJjLTEuNi0wLjgtMy4yLTEuMi01LTEuMmgtMTkuN1YxMTkuNXolMjIlMkYlM0UlMDklM0NwYXRoJTIwY2xhc3MlM0QlMjJzdDAlMjIlMjBkJTNEJTIyTTIyNC42JTJDMTQ1LjhoLTQuMXYtMjQuM2MwLTUuNC0wLjktOS41LTIuNy0xMi4xcy00LjUtNC03LjktNGMtMS44JTJDMC0zLjUlMkMwLjMtNS4yJTJDMWMtMS43JTJDMC43LTMuMyUyQzEuNi00LjclMkMyLjglMjAlMjAlMjBjLTEuNSUyQzEuMi0yLjclMkMyLjctMy44JTJDNC4zYy0xLjElMkMxLjYtMS45JTJDMy40LTIuNCUyQzUuM3YyN2gtNC4xVjg0LjdoNC4xdjI4YzEuOC0zLjQlMkM0LjItNi4xJTJDNy4zLTguMXM2LjUtMyUyQzEwLTMlMjAlMjAlMjBjMi40JTJDMCUyQzQuNCUyQzAuNCUyQzYuMSUyQzEuM2MxLjclMkMwLjklMkMzLjElMkMyLjIlMkM0LjMlMkMzLjljMS4xJTJDMS43JTJDMiUyQzMuNyUyQzIuNSUyQzYuMWMwLjUlMkMyLjQlMkMwLjglMkM1JTJDMC44JTJDOFYxNDUuOHolMjIlMkYlM0UlMDklM0NwYXRoJTIwY2xhc3MlM0QlMjJzdDAlMjIlMjBkJTNEJTIyTTIzOC44JTJDMTYwLjdjMC41JTJDMCUyQzEuMiUyQzAlMkMyLjItMC4xYzEtMC4xJTJDMS43LTAuMiUyQzIuMi0wLjVjMC4yLTAuMSUyQzAuNS0wLjQlMkMwLjgtMC44YzAuMy0wLjQlMkMwLjctMS4xJTJDMS4yLTIuMSUyMCUyMCUyMGMwLjUtMSUyQzEuMS0yLjQlMkMxLjktNC4yYzAuOC0xLjglMkMxLjctNC4yJTJDMi45LTcuMWwtMTkuMi00My41aDQuNGwxNyUyQzM5LjRsMTUuOS0zOS40aDRsLTIzLjUlMkM1Ny4zYy0wLjglMkMyLTEuOSUyQzMuMy0zLjMlMkM0JTIwJTIwJTIwYy0xLjMlMkMwLjYtMyUyQzEtNC45JTJDMWMtMC4zJTJDMC0wLjYlMkMwLTAuOCUyQzBjLTAuMyUyQzAtMC42JTJDMC0wLjgtMC4xVjE2MC43eiUyMiUyRiUzRSUwOSUzQ3BhdGglMjBjbGFzcyUzRCUyMnN0MCUyMiUyMGQlM0QlMjJNMzE4LjIlMkMxNDYuN2MtMyUyQzAtNS44LTAuNi04LjQtMS44Yy0yLjYtMS4yLTQuOC0yLjgtNi42LTQuOWMtMS45LTIuMS0zLjMtNC41LTQuNC03LjJjLTEtMi43LTEuNi01LjYtMS42LTguNiUyMCUyMCUyMGMwLTMuMSUyQzAuNS02JTJDMS42LTguN3MyLjYtNS4xJTJDNC41LTcuMnM0LjEtMy43JTJDNi42LTQuOWMyLjUtMS4yJTJDNS4zLTEuOCUyQzguMy0xLjhzNS43JTJDMC42JTJDOC4zJTJDMS44YzIuNiUyQzEuMiUyQzQuOCUyQzIuOCUyQzYuNyUyQzQuOSUyMCUyMCUyMHMzLjQlMkM0LjUlMkM0LjUlMkM3LjJzMS42JTJDNS42JTJDMS42JTJDOC43YzAlMkMzLTAuNSUyQzUuOS0xLjYlMkM4LjZjLTEuMSUyQzIuNy0yLjUlMkM1LjEtNC40JTJDNy4yYy0xLjklMkMyLjEtNC4xJTJDMy43LTYuNyUyQzQuOSUyMCUyMCUyMEMzMjMuOSUyQzE0Ni4xJTJDMzIxLjElMkMxNDYuNyUyQzMxOC4yJTJDMTQ2Ljd6JTIwTTMwMS40JTJDMTI0LjNjMCUyQzIuNiUyQzAuNCUyQzUlMkMxLjMlMkM3LjJjMC45JTJDMi4zJTJDMi4xJTJDNC4yJTJDMy42JTJDNS45YzEuNSUyQzEuNyUyQzMuMyUyQzMlMkM1LjMlMkM0JTIwJTIwJTIwYzIlMkMxJTJDNC4yJTJDMS41JTJDNi41JTJDMS41czQuNS0wLjUlMkM2LjUtMS41YzItMSUyQzMuOC0yLjMlMkM1LjMtNC4xYzEuNS0xLjclMkMyLjctMy43JTJDMy42LTZzMS40LTQuNyUyQzEuNC03LjNjMC0yLjYtMC41LTUtMS40LTcuMiUyMCUyMCUyMGMtMC45LTIuMy0yLjEtNC4yLTMuNi01LjljLTEuNS0xLjctMy4zLTMuMS01LjMtNC4xYy0yLTEtNC4yLTEuNS02LjUtMS41Yy0yLjMlMkMwLTQuNCUyQzAuNS02LjQlMkMxLjVjLTIlMkMxLTMuOCUyQzIuNC01LjQlMkM0LjElMjAlMjAlMjBjLTEuNSUyQzEuNy0yLjglMkMzLjgtMy42JTJDNi4xQzMwMS44JTJDMTE5LjMlMkMzMDEuNCUyQzEyMS43JTJDMzAxLjQlMkMxMjQuM3olMjIlMkYlM0UlMDklM0NwYXRoJTIwY2xhc3MlM0QlMjJzdDAlMjIlMjBkJTNEJTIyTTQwNS43JTJDMTQ2LjdjLTIuMSUyQzAtNC0wLjMtNS44LTFjLTEuOC0wLjctMy4zLTEuNy00LjYtMi45Yy0xLjMtMS4yLTIuMy0yLjctMy4xLTQuNHMtMS4xLTMuNS0xLjEtNS40JTIwJTIwJTIwYzAtMi4xJTJDMC40LTMuOSUyQzEuMy01LjZjMC45LTEuNyUyQzIuMS0zLjElMkMzLjgtNC40YzEuNi0xLjIlMkMzLjYtMi4yJTJDNS44LTIuOHM0LjctMSUyQzcuNC0xYzIlMkMwJTJDNCUyQzAuMiUyQzYlMkMwLjVjMiUyQzAuNCUyQzMuOCUyQzAuOSUyQzUuNCUyQzEuNXYtMyUyMCUyMCUyMGMwLTMuMi0wLjktNS44LTIuNy03LjZjLTEuOC0xLjgtNC40LTIuNy03LjgtMi43Yy0yLjMlMkMwLTQuNiUyQzAuNC02LjglMkMxLjNjLTIuMiUyQzAuOS00LjUlMkMyLjEtNi45JTJDMy43bC0yLjgtNS45JTIwJTIwJTIwYzUuNi0zLjglMkMxMS4zLTUuNyUyQzE3LjMtNS43YzUuOSUyQzAlMkMxMC42JTJDMS41JTJDMTMuOSUyQzQuNmMzLjMlMkMzLjElMkM1JTJDNy41JTJDNSUyQzEzLjJWMTM1YzAlMkMxLjElMkMwLjIlMkMxLjglMkMwLjYlMkMyLjNjMC40JTJDMC40JTJDMSUyQzAuNyUyQzIlMkMwLjh2Ny45JTIwJTIwJTIwYy0wLjklMkMwLjItMS43JTJDMC4zLTIuNCUyQzAuM2MtMC43JTJDMC4xLTEuNCUyQzAuMS0yJTJDMC4xYy0xLjgtMC4xLTMuMS0wLjYtNC0xLjRjLTAuOS0wLjgtMS41LTItMS43LTMuM2wtMC4yLTIuOCUyMCUyMCUyMGMtMS45JTJDMi42LTQuMyUyQzQuNS03LjElMkM1LjlDNDEyJTJDMTQ2JTJDNDA4LjklMkMxNDYuNyUyQzQwNS43JTJDMTQ2Ljd6JTIwTTQwOC4yJTJDMTM5LjljMi4yJTJDMCUyQzQuMy0wLjQlMkM2LjItMS4yYzItMC44JTJDMy41LTEuOSUyQzQuNi0zLjQlMjAlMjAlMjBjMS4yLTElMkMxLjctMi4xJTJDMS43LTMuMnYtNS44Yy0xLjUtMC42LTMuMi0xLjEtNC45LTEuNHMtMy40LTAuNS01LjEtMC41Yy0zLjIlMkMwLTUuOSUyQzAuNy04JTJDMi4xcy0zLjElMkMzLjMtMy4xJTJDNS43JTIwJTIwJTIwYzAlMkMyLjIlMkMwLjglMkM0JTJDMi40JTJDNS41QzQwMy43JTJDMTM5LjIlMkM0MDUuNyUyQzEzOS45JTJDNDA4LjIlMkMxMzkuOXolMjIlMkYlM0UlMDklM0NwYXRoJTIwY2xhc3MlM0QlMjJzdDAlMjIlMjBkJTNEJTIyTTQ3OS43JTJDMTQ1LjhoLTkuMXYtMjQuNWMwLTQuMS0wLjctNy4xLTItOWMtMS4zLTEuOS0zLjItMi44LTUuNy0yLjhjLTEuMyUyQzAtMi43JTJDMC4zLTQlMkMwLjglMjAlMjAlMjBjLTEuMyUyQzAuNS0yLjYlMkMxLjItMy44JTJDMi4xYy0xLjIlMkMwLjktMi4yJTJDMi0zLjElMkMzLjNzLTEuNiUyQzIuNi0yLjElMkM0LjF2MjZoLTkuMVYxMDJoOC4zdjguOGMxLjctMyUyQzQtNS4zJTJDNy4yLTclMjAlMjAlMjBjMy4xLTEuNyUyQzYuNi0yLjYlMkMxMC40LTIuNmMyLjYlMkMwJTJDNC43JTJDMC41JTJDNi40JTJDMS40YzEuNyUyQzAuOSUyQzMlMkMyLjIlMkM0JTJDMy45YzElMkMxLjYlMkMxLjYlMkMzLjUlMkMyJTJDNS43YzAuNCUyQzIuMSUyQzAuNiUyQzQuNCUyQzAuNiUyQzYuOFYxNDUuOHolMjIlMkYlM0UlMDklM0Nwb2x5Z29uJTIwY2xhc3MlM0QlMjJzdDAlMjIlMjBwb2ludHMlM0QlMjI1MDEuMyUyQzE0NS44JTIwNDg0LjglMkMxMDIlMjA0OTQuMiUyQzEwMiUyMDUwNi41JTJDMTM4LjElMjA1MTklMkMxMDIlMjA1MjcuNiUyQzEwMiUyMDUxMS4xJTJDMTQ1LjglMjAlMjAlMjIlMkYlM0UlMDklM0NwYXRoJTIwY2xhc3MlM0QlMjJzdDAlMjIlMjBkJTNEJTIyTTU0NC4zJTJDMTQ2LjdjLTIuMSUyQzAtNC0wLjMtNS44LTFjLTEuOC0wLjctMy4zLTEuNy00LjYtMi45Yy0xLjMtMS4yLTIuMy0yLjctMy4xLTQuNHMtMS4xLTMuNS0xLjEtNS40JTIwJTIwJTIwYzAtMi4xJTJDMC40LTMuOSUyQzEuMy01LjZjMC45LTEuNyUyQzIuMS0zLjElMkMzLjgtNC40YzEuNi0xLjIlMkMzLjYtMi4yJTJDNS44LTIuOGMyLjItMC43JTJDNC43LTElMkM3LjQtMWMyJTJDMCUyQzQlMkMwLjIlMkM2JTJDMC41JTIwJTIwJTIwYzIlMkMwLjQlMkMzLjglMkMwLjklMkM1LjQlMkMxLjV2LTNjMC0zLjItMC45LTUuOC0yLjctNy42Yy0xLjgtMS44LTQuNC0yLjctNy44LTIuN2MtMi4zJTJDMC00LjYlMkMwLjQtNi44JTJDMS4zYy0yLjIlMkMwLjktNC41JTJDMi4xLTYuOSUyQzMuNyUyMCUyMCUyMGwtMi44LTUuOWM1LjYtMy44JTJDMTEuMy01LjclMkMxNy4zLTUuN2M1LjklMkMwJTJDMTAuNiUyQzEuNSUyQzEzLjklMkM0LjZjMy4zJTJDMy4xJTJDNSUyQzcuNSUyQzUlMkMxMy4yVjEzNWMwJTJDMS4xJTJDMC4yJTJDMS44JTJDMC42JTJDMi4zYzAuNCUyQzAuNCUyQzElMkMwLjclMkMyJTJDMC44JTIwJTIwJTIwdjcuOWMtMC45JTJDMC4yLTEuNyUyQzAuMy0yLjQlMkMwLjNjLTAuNyUyQzAuMS0xLjQlMkMwLjEtMiUyQzAuMWMtMS44LTAuMS0zLjEtMC42LTQtMS40Yy0wLjktMC44LTEuNS0yLTEuNy0zLjNsLTAuMi0yLjglMjAlMjAlMjBjLTEuOSUyQzIuNi00LjMlMkM0LjUtNy4xJTJDNS45QzU1MC42JTJDMTQ2JTJDNTQ3LjYlMkMxNDYuNyUyQzU0NC4zJTJDMTQ2Ljd6JTIwTTU0Ni44JTJDMTM5LjljMi4yJTJDMCUyQzQuMy0wLjQlMkM2LjItMS4yYzItMC44JTJDMy41LTEuOSUyQzQuNi0zLjQlMjAlMjAlMjBjMS4yLTElMkMxLjctMi4xJTJDMS43LTMuMnYtNS44Yy0xLjUtMC42LTMuMi0xLjEtNC45LTEuNGMtMS43LTAuMy0zLjQtMC41LTUuMS0wLjVjLTMuMiUyQzAtNS45JTJDMC43LTglMkMyLjFzLTMuMSUyQzMuMy0zLjElMkM1LjclMjAlMjAlMjBjMCUyQzIuMiUyQzAuOCUyQzQlMkMyLjQlMkM1LjVDNTQyLjMlMkMxMzkuMiUyQzU0NC4zJTJDMTM5LjklMkM1NDYuOCUyQzEzOS45eiUyMiUyRiUzRSUwOSUzQ3BhdGglMjBjbGFzcyUzRCUyMnN0MCUyMiUyMGQlM0QlMjJNNTk1LjclMkMxNDYuN2MtMS44JTJDMC0zLjUtMC4xLTUuMy0wLjRjLTEuOC0wLjMtMy42LTAuNy01LjMtMS4yYy0xLjctMC41LTMuNC0xLjItNS0xLjlzLTMtMS42LTQuMi0yLjZsMy44LTYuMiUyMCUyMCUyMGM1LjMlMkMzLjclMkMxMC41JTJDNS42JTJDMTUuOCUyQzUuNmMyLjglMkMwJTJDNC45LTAuNSUyQzYuNS0xLjZjMS42LTEuMSUyQzIuNC0yLjYlMkMyLjQtNC41YzAtMS44LTAuOS0zLjItMi43LTQuMWMtMS44LTAuOS00LjYtMS44LTguNS0yLjclMjAlMjAlMjBjLTIuNy0wLjctNS0xLjQtNi45LTIuMWMtMS45LTAuNy0zLjUtMS41LTQuNy0yLjNjLTEuMi0wLjktMi4xLTEuOS0yLjYtMy4xYy0wLjYtMS4yLTAuOC0yLjYtMC44LTQuM2MwLTIuMiUyQzAuNC00LjIlMkMxLjMtNS45JTIwJTIwJTIwYzAuOS0xLjclMkMyLjEtMy4yJTJDMy42LTQuNGMxLjUtMS4yJTJDMy4zLTIuMSUyQzUuNC0yLjdjMi4xLTAuNiUyQzQuMy0wLjklMkM2LjYtMC45YzMuMSUyQzAlMkM2LjIlMkMwLjUlMkM5LjElMkMxLjVjMi45JTJDMSUyQzUuNSUyQzIuNCUyQzcuOCUyQzQuMWwtMy45JTJDNS42JTIwJTIwJTIwYy00LjEtMy4xLTguNS00LjctMTMuMi00LjdjLTIuMyUyQzAtNC4zJTJDMC41LTUuOSUyQzEuNWMtMS42JTJDMS0yLjQlMkMyLjUtMi40JTJDNC42YzAlMkMwLjklMkMwLjIlMkMxLjYlMkMwLjUlMkMyLjNjMC4zJTJDMC42JTJDMC45JTJDMS4xJTJDMS42JTJDMS42JTIwJTIwJTIwYzAuNyUyQzAuNCUyQzEuNyUyQzAuOSUyQzIuOSUyQzEuMmMxLjIlMkMwLjQlMkMyLjclMkMwLjglMkM0LjUlMkMxLjJjMyUyQzAuNyUyQzUuNSUyQzEuNSUyQzcuNyUyQzIuMmMyLjElMkMwLjclMkMzLjklMkMxLjYlMkM1LjMlMkMyLjZjMS40JTJDMSUyQzIuNCUyQzIuMSUyQzMuMSUyQzMuNCUyMCUyMCUyMGMwLjclMkMxLjMlMkMxJTJDMi45JTJDMSUyQzQuN2MwJTJDMi4xLTAuNCUyQzMuOS0xLjIlMkM1LjZjLTAuOCUyQzEuNy0yJTJDMy4xLTMuNSUyQzQuM2MtMS41JTJDMS4yLTMuNCUyQzIuMS01LjUlMkMyLjdDNjAwLjglMkMxNDYuNCUyQzU5OC4zJTJDMTQ2LjclMkM1OTUuNyUyQzE0Ni43JTIwJTIwJTIweiUyMiUyRiUzRSUwOSUzQ3BhdGglMjBjbGFzcyUzRCUyMnN0MCUyMiUyMGQlM0QlMjJNMzQ1LjUlMkMxMjRjMC0zLjElMkMwLjUtNiUyQzEuNi04LjdjMS4xLTIuNyUyQzIuNi01LjElMkM0LjYtNy4yYzItMi4xJTJDNC40LTMuNyUyQzcuMS00LjljMi44LTEuMiUyQzUuOS0xLjglMkM5LjQtMS44JTIwJTIwJTIwYzQuNSUyQzAlMkM4LjQlMkMxJTJDMTEuNyUyQzNjMy4zJTJDMiUyQzUuNyUyQzQuNiUyQzcuMyUyQzcuOWwtOC45JTJDMi44Yy0xLjEtMS44LTIuNS0zLjMtNC4zLTQuM2MtMS44LTEtMy44LTEuNS01LjktMS41Yy0xLjglMkMwLTMuNiUyQzAuNC01LjElMkMxLjElMjAlMjAlMjBjLTEuNiUyQzAuNy0zJTJDMS43LTQuMSUyQzNjLTEuMiUyQzEuMy0yLjElMkMyLjktMi44JTJDNC42Yy0wLjclMkMxLjgtMSUyQzMuOC0xJTJDNS45YzAlMkMyLjElMkMwLjMlMkM0LjElMkMxJTJDNS45YzAuNyUyQzEuOCUyQzEuNiUyQzMuNCUyQzIuOCUyQzQuNyUyMCUyMCUyMGMxLjIlMkMxLjMlMkMyLjYlMkMyLjQlMkM0LjIlMkMzLjFjMS42JTJDMC44JTJDMy4zJTJDMS4xJTJDNS4xJTJDMS4xYzEuMSUyQzAlMkMyLjItMC4yJTJDMy4zLTAuNWMxLjEtMC4zJTJDMi4xLTAuNyUyQzMtMS4zYzAuOS0wLjYlMkMxLjctMS4yJTJDMi40LTEuOSUyMCUyMCUyMGMwLjctMC43JTJDMS4yLTEuNSUyQzEuNS0yLjNsOSUyQzIuN2MtMS40JTJDMy4zLTMuOSUyQzYtNy4zJTJDOC4xYy0zLjQlMkMyLjEtNy40JTJDMy4xLTEyJTJDMy4xYy0zLjQlMkMwLTYuNS0wLjYtOS4zLTEuOGMtMi44LTEuMi01LjItMi45LTcuMS01JTIwJTIwJTIwYy0yLTIuMS0zLjUtNC41LTQuNi03LjJDMzQ2LjElMkMxMjkuOSUyQzM0NS41JTJDMTI3JTJDMzQ1LjUlMkMxMjR6JTIyJTJGJTNFJTA5JTNDcG9seWdvbiUyMGNsYXNzJTNEJTIyc3QwJTIyJTIwcG9pbnRzJTNEJTIyMjgwLjglMkM4NC43JTIwMjg1LjElMkM4NC43JTIwMjg1LjElMkMxNDYuMyUyMDI4MC44JTJDMTQ2LjMlMjAlMjAlMjIlMkYlM0UlMDklM0NwYXRoJTIwY2xhc3MlM0QlMjJzdDElMjIlMjBkJTNEJTIyTTExMC42JTJDMTA1LjJjMC0wLjIlMkMwLjEtMC4zJTJDMC4xLTAuNWMwLTAuMSUyQzAtMC4zJTJDMC4xLTAuNGMwLTAuMiUyQzAtMC40JTJDMC4xLTAuNmMwLTAuMiUyQzAtMC40JTJDMC0wLjYlMjAlMjAlMjBjMC0wLjElMkMwLTAuMiUyQzAtMC40YzAtMC4xJTJDMC0wLjMlMkMwLTAuNGwwLTAuM2MwLTAuMSUyQzAtMC4zJTJDMC0wLjRjMC0wLjIlMkMwLTAuMyUyQzAtMC40bDAtMC4yYzAtMC4yJTJDMC0wLjQtMC4xLTAuNWwwLTAuMiUyMCUyMCUyMGMwLTAuMi0wLjEtMC40LTAuMS0wLjZsMC0wLjFjMC0wLjItMC4xLTAuMy0wLjEtMC41bC0wLjEtMC4yYzAtMC4xLTAuMS0wLjMtMC4xLTAuNGwtMC4xLTAuMmMwLTAuMS0wLjEtMC4zLTAuMS0wLjQlMjAlMjAlMjBjMC0wLjEtMC4xLTAuMi0wLjEtMC4zYzAtMC4xLTAuMS0wLjItMC4xLTAuNGwtMC4xLTAuMmMtMC4xLTAuMi0wLjEtMC40LTAuMi0wLjZjLTAuMS0wLjItMC4yLTAuNC0wLjMtMC42bC0wLjEtMC4xJTIwJTIwJTIwYy0wLjEtMC4yLTAuMi0wLjMtMC4yLTAuNWwtMC4xLTAuMmMtMC4xLTAuMi0wLjItMC4zLTAuMy0wLjVsMC0wLjFjLTAuMS0wLjItMC4yLTAuNC0wLjMtMC41Yy0wLjEtMC4yLTAuMi0wLjQtMC40LTAuNmwtMC4xLTAuMSUyMCUyMCUyMGMtMC4xLTAuMi0wLjItMC4zLTAuNC0wLjVjLTAuMS0wLjItMC4zLTAuNC0wLjQtMC41bDAlMkMwYy0wLjEtMC4yLTAuMy0wLjMtMC40LTAuNWMtMC4yLTAuMi0wLjMtMC4zLTAuNS0wLjUlMjAlMjAlMjBjLTAuMi0wLjItMC4zLTAuMy0wLjUtMC41Yy0wLjItMC4yLTAuNC0wLjMtMC41LTAuNWMtMC4yLTAuMi0wLjUtMC40LTAuOC0wLjZsLTAuNC0wLjJjLTAuMi0wLjEtMC40LTAuMi0wLjUtMC4zJTIwJTIwJTIwYy0wLjItMC4xLTAuNC0wLjMtMC43LTAuNGwtMC4xLTAuMWMtMC4yLTAuMS0wLjQtMC4yLTAuNi0wLjNjLTAuMi0wLjEtMC40LTAuMi0wLjctMC4zbC0wLjElMkMwYy0zLjEtMS4zLTUuOS0zLTguNC01LjElMjAlMjAlMjBjLTMuMS0yLjctNS42LTUuOS03LjQtOS41bDAlMkMwYy0xLjQtMi45LTIuNC02LjEtMi45LTkuM2MwLTAuMSUyQzAtMC4zLTAuMS0wLjRjLTAuOC01LjEtNC4yLTkuNi05LjMtMTEuNyUyMCUyMCUyMGMtNS4xLTIuMS0xMC43LTEuMi0xNC44JTJDMS45Yy0wLjIlMkMwLjItMC40JTJDMC4zLTAuNiUyQzAuNGMtMS45JTJDMS42LTMuNSUyQzMuNi00LjQlMkM2Yy0xJTJDMi40LTEuMyUyQzQuOS0xJTJDNy40bDAlMkMwYzAlMkMwLjIlMkMwLjElMkMwLjUlMkMwLjElMkMwLjdsMCUyQzAlMjAlMjAlMjBjMC44JTJDNS4xJTJDNC4yJTJDOS42JTJDOS4zJTJDMTEuN2wwJTJDMGMyLjIlMkMwLjklMkM0LjIlMkMyJTJDNi4xJTJDMy4zYzAuNCUyQzAuMyUyQzAuOCUyQzAuNiUyQzEuMiUyQzAuOWwwJTJDMGMwLjQlMkMwLjMlMkMwLjclMkMwLjYlMkMxLjElMkMwLjlsMCUyQzBsMCUyQzBsMCUyQzAlMjAlMjAlMjBjMy4xJTJDMi43JTJDNS42JTJDNS45JTJDNy4zJTJDOS41YzEuNCUyQzIuOCUyQzIuNCUyQzUuOCUyQzIuOCUyQzguOWwwJTJDMC4xYzAlMkMwLjMlMkMwLjElMkMwLjUlMkMwLjElMkMwLjhjMCUyQzAuMyUyQzAuMSUyQzAuNiUyQzAuMiUyQzAuOWMwLjElMkMwLjIlMkMwLjElMkMwLjUlMkMwLjIlMkMwLjclMjAlMjAlMjBsMC4xJTJDMC4ybDAlMkMwYzAuMSUyQzAuMiUyQzAuMSUyQzAuNCUyQzAuMiUyQzAuNmMwLjElMkMwLjIlMkMwLjIlMkMwLjUlMkMwLjMlMkMwLjdsMC4xJTJDMC4zbDAlMkMwYzAuMSUyQzAuMiUyQzAuMiUyQzAuNCUyQzAuMyUyQzAuNmMwLjElMkMwLjMlMkMwLjMlMkMwLjUlMkMwLjQlMkMwLjhsMCUyQzAlMjAlMjAlMjBjMC4xJTJDMC4yJTJDMC4zJTJDMC41JTJDMC40JTJDMC43YzAuMiUyQzAuMiUyQzAuMyUyQzAuNSUyQzAuNSUyQzAuN2MwLjIlMkMwLjIlMkMwLjMlMkMwLjUlMkMwLjUlMkMwLjdjMC4xJTJDMC4xJTJDMC4yJTJDMC4zJTJDMC40JTJDMC40YzAuMiUyQzAuMiUyQzAuNCUyQzAuNSUyQzAuNiUyQzAuNyUyMCUyMCUyMGMwLjIlMkMwLjIlMkMwLjMlMkMwLjMlMkMwLjUlMkMwLjVjMC4xJTJDMC4xJTJDMC4zJTJDMC4yJTJDMC40JTJDMC40YzAuMiUyQzAuMiUyQzAuNCUyQzAuNCUyQzAuNiUyQzAuNWMwLjIlMkMwLjIlMkMwLjUlMkMwLjMlMkMwLjclMkMwLjVjMC4yJTJDMC4yJTJDMC41JTJDMC4zJTJDMC43JTJDMC41JTIwJTIwJTIwYzAuMSUyQzAuMSUyQzAuMyUyQzAuMiUyQzAuNSUyQzAuM2wwLjQlMkMwLjJsMC4zJTJDMC4xYzAuMSUyQzAuMSUyQzAuMyUyQzAuMSUyQzAuNCUyQzAuMmMwLjIlMkMwLjElMkMwLjQlMkMwLjIlMkMwLjclMkMwLjNsMC4xJTJDMGMwLjIlMkMwLjElMkMwLjQlMkMwLjIlMkMwLjclMkMwLjMlMjAlMjAlMjBjNy42JTJDMi43JTJDMTYtMS4xJTJDMTkuMS04LjZDMTEwLjElMkMxMDclMkMxMTAuNCUyQzEwNi4xJTJDMTEwLjYlMkMxMDUuMnolMjIlMkYlM0UlMDklM0NwYXRoJTIwY2xhc3MlM0QlMjJzdDElMjIlMjBkJTNEJTIyTTEyLjMlMkM4NC4xYzAuMSUyQzAuMSUyQzAuMyUyQzAuMiUyQzAuNCUyQzAuM2MwLjElMkMwLjElMkMwLjIlMkMwLjIlMkMwLjMlMkMwLjNjMC4yJTJDMC4xJTJDMC4zJTJDMC4yJTJDMC41JTJDMC4zYzAuMiUyQzAuMSUyQzAuMyUyQzAuMiUyQzAuNSUyQzAuNCUyMCUyMCUyMGwwLjMlMkMwLjJsMC4zJTJDMC4ybDAuMiUyQzAuMWMwLjElMkMwLjElMkMwLjIlMkMwLjElMkMwLjQlMkMwLjJjMC4xJTJDMC4xJTJDMC4zJTJDMC4xJTJDMC40JTJDMC4ybDAuMiUyQzAuMWMwLjIlMkMwLjElMkMwLjMlMkMwLjElMkMwLjUlMkMwLjJsMC4xJTJDMC4xJTIwJTIwJTIwYzAuMiUyQzAuMSUyQzAuNCUyQzAuMSUyQzAuNiUyQzAuMmwwLjElMkMwYzAuMiUyQzAuMSUyQzAuMyUyQzAuMSUyQzAuNSUyQzAuMmwwLjIlMkMwLjFjMC4xJTJDMCUyQzAuMyUyQzAuMSUyQzAuNCUyQzAuMWwwLjIlMkMwLjFjMC4xJTJDMCUyQzAuMyUyQzAuMSUyQzAuNCUyQzAuMSUyMCUyMCUyMGMwLjElMkMwJTJDMC4yJTJDMC4xJTJDMC4zJTJDMC4xYzAuMSUyQzAlMkMwLjIlMkMwLjElMkMwLjQlMkMwLjFsMC4yJTJDMGMwLjIlMkMwJTJDMC40JTJDMC4xJTJDMC42JTJDMC4xYzAuMiUyQzAlMkMwLjQlMkMwLjElMkMwLjYlMkMwLjFsMC4xJTJDMGMwLjIlMkMwJTJDMC40JTJDMCUyQzAuNSUyQzBsMC4yJTJDMCUyMCUyMCUyMGMwLjIlMkMwJTJDMC40JTJDMCUyQzAuNiUyQzBsMC4xJTJDMGMwLjIlMkMwJTJDMC40JTJDMCUyQzAuNiUyQzBjMC4yJTJDMCUyQzAuNCUyQzAlMkMwLjclMkMwbDAuMSUyQzBjMC4yJTJDMCUyQzAuNCUyQzAlMkMwLjYtMC4xYzAuMiUyQzAlMkMwLjQtMC4xJTJDMC43LTAuMWwwLjElMkMwJTIwJTIwJTIwYzAuMiUyQzAlMkMwLjQtMC4xJTJDMC42LTAuMWMwLjItMC4xJTJDMC41LTAuMSUyQzAuNy0wLjJjMC4yLTAuMSUyQzAuNC0wLjElMkMwLjctMC4yYzAuMi0wLjElMkMwLjQtMC4yJTJDMC43LTAuMmMwLjMtMC4xJTJDMC42LTAuMiUyQzAuOS0wLjQlMjAlMjAlMjBjMC4xLTAuMSUyQzAuMy0wLjElMkMwLjQtMC4yYzAuMi0wLjElMkMwLjQtMC4yJTJDMC42LTAuM2MwLjItMC4xJTJDMC40LTAuMiUyQzAuNi0wLjRsMC4xLTAuMWMwLjItMC4xJTJDMC40LTAuMiUyQzAuNi0wLjQlMjAlMjAlMjBjMC4yLTAuMSUyQzAuNC0wLjMlMkMwLjYtMC40bDAuMSUyQzBjMi43LTIuMSUyQzUuNi0zLjclMkM4LjYtNC43YzMuOS0xLjQlMkM3LjktMS45JTJDMTEuOS0xLjdsMCUyQzBjMy4zJTJDMC4yJTJDNi41JTJDMC45JTJDOS41JTJDMi4xJTIwJTIwJTIwYzAuMSUyQzAuMSUyQzAuMyUyQzAuMSUyQzAuNCUyQzAuMmM0LjglMkMxLjglMkMxMC40JTJDMS4yJTJDMTQuOC0yLjJjNC40LTMuNCUyQzYuNC04LjclMkM1LjgtMTMuOGMwLTAuMi0wLjEtMC41LTAuMS0wLjdjLTAuNC0yLjQtMS40LTQuOC0zLTYuOSUyMCUyMCUyMGMtMS42LTIuMS0zLjYtMy42LTUuOS00LjZsMCUyQzBjLTAuMi0wLjEtMC41LTAuMi0wLjctMC4zbDAlMkMwYy00LjgtMS44LTEwLjQtMS4xLTE0LjclMkMyLjJsMCUyQzBjLTEuOSUyQzEuNS0zLjglMkMyLjctNS45JTJDMy42JTIwJTIwJTIwYy0wLjUlMkMwLjItMC45JTJDMC40LTEuNCUyQzAuNmwwJTJDMGMtMC40JTJDMC4yLTAuOSUyQzAuMy0xLjMlMkMwLjVsMCUyQzBsMCUyQzBsMCUyQzBjLTMuOSUyQzEuMy03LjklMkMxLjktMTEuOSUyQzEuNmMtMy4xLTAuMi02LjItMC45LTkuMi0ybDAlMkMwJTIwJTIwJTIwYy0wLjMtMC4xLTAuNS0wLjItMC44LTAuM2MtMC4zLTAuMS0wLjUtMC4yLTAuOC0wLjNjLTAuMi0wLjEtMC41LTAuMS0wLjctMC4ybC0wLjItMC4xbDAlMkMwYy0wLjItMC4xLTAuNC0wLjEtMC43LTAuMSUyMCUyMCUyMGMtMC4zJTJDMC0wLjUtMC4xLTAuOC0wLjFsLTAuMyUyQzBsMCUyQzBjLTAuMiUyQzAtMC41JTJDMC0wLjctMC4xYy0wLjMlMkMwLTAuNiUyQzAtMC44JTJDMGwwJTJDMGMtMC4zJTJDMC0wLjYlMkMwLTAuOSUyQzBjLTAuMyUyQzAtMC42JTJDMC0wLjklMkMwLjElMjAlMjAlMjBjLTAuMyUyQzAtMC42JTJDMC4xLTAuOSUyQzAuMWMtMC4yJTJDMC0wLjQlMkMwLjEtMC41JTJDMC4xYy0wLjMlMkMwLjEtMC42JTJDMC4xLTAuOSUyQzAuMmMtMC4yJTJDMC4xLTAuNSUyQzAuMS0wLjclMkMwLjJjLTAuMiUyQzAuMS0wLjMlMkMwLjEtMC41JTJDMC4yJTIwJTIwJTIwYy0wLjMlMkMwLjEtMC41JTJDMC4yLTAuOCUyQzAuM2MtMC4zJTJDMC4xLTAuNSUyQzAuMi0wLjglMkMwLjNjLTAuMyUyQzAuMS0wLjUlMkMwLjMtMC44JTJDMC40Yy0wLjIlMkMwLjEtMC4zJTJDMC4yLTAuNSUyQzAuM2MtMC4xJTJDMC4xLTAuMiUyQzAuMS0wLjQlMkMwLjIlMjAlMjAlMjBMMTQlMkM1OS45Yy0wLjElMkMwLjEtMC4zJTJDMC4yLTAuNCUyQzAuM2MtMC4yJTJDMC4xLTAuNCUyQzAuMy0wLjYlMkMwLjRsLTAuMSUyQzBjLTAuMiUyQzAuMS0wLjQlMkMwLjMtMC42JTJDMC41Yy02LjElMkM1LjMtNy4xJTJDMTQuNS0yJTJDMjAuOSUyMCUyMCUyMEMxMC45JTJDODIuOCUyQzExLjYlMkM4My41JTJDMTIuMyUyQzg0LjF6JTIyJTJGJTNFJTA5JTNDcGF0aCUyMGNsYXNzJTNEJTIyc3QxJTIyJTIwZCUzRCUyMk03Mi42JTJDODAuN2MwLjItMC4xJTJDMC4zLTAuMSUyQzAuNS0wLjJjMC4xLTAuMSUyQzAuMy0wLjElMkMwLjQtMC4yYzAuMi0wLjElMkMwLjQtMC4yJTJDMC41LTAuMmMwLjItMC4xJTJDMC40LTAuMiUyQzAuNi0wLjMlMjAlMjAlMjBjMC4xLTAuMSUyQzAuMi0wLjElMkMwLjMtMC4yYzAuMS0wLjElMkMwLjItMC4xJTJDMC4zLTAuMmwwLjItMC4xYzAuMS0wLjElMkMwLjItMC4xJTJDMC40LTAuMmMwLjEtMC4xJTJDMC4yLTAuMiUyQzAuNC0wLjJsMC4yLTAuMSUyMCUyMCUyMGMwLjEtMC4xJTJDMC4zLTAuMiUyQzAuNC0wLjNsMC4xLTAuMWMwLjItMC4xJTJDMC4zLTAuMyUyQzAuNS0wLjRsMCUyQzBjMC4xLTAuMSUyQzAuMy0wLjIlMkMwLjQtMC4zbDAuMi0wLjJjMC4xLTAuMSUyQzAuMi0wLjIlMkMwLjMtMC4zbDAuMi0wLjIlMjAlMjAlMjBsMC4zLTAuM2wwLjItMC4zbDAuMi0wLjNsMC4xLTAuMmMwLjEtMC4xJTJDMC4zLTAuMyUyQzAuNC0wLjVjMC4xLTAuMiUyQzAuMi0wLjMlMkMwLjQtMC41bDAuMS0wLjFjMC4xLTAuMSUyQzAuMi0wLjMlMkMwLjMtMC40bDAuMS0wLjElMjAlMjAlMjBjMC4xLTAuMiUyQzAuMi0wLjMlMkMwLjMtMC41bDAtMC4xYzAuMS0wLjIlMkMwLjItMC40JTJDMC4zLTAuNmMwLjEtMC4yJTJDMC4yLTAuNCUyQzAuMy0wLjZsMC0wLjFjMC4xLTAuMiUyQzAuMi0wLjQlMkMwLjItMC42JTIwJTIwJTIwYzAuMS0wLjIlMkMwLjItMC40JTJDMC4yLTAuNmwwLTAuMWMwLjEtMC4yJTJDMC4xLTAuNCUyQzAuMi0wLjZjMC4xLTAuMiUyQzAuMS0wLjQlMkMwLjItMC43YzAuMS0wLjIlMkMwLjEtMC41JTJDMC4xLTAuN2MwLTAuMiUyQzAuMS0wLjUlMkMwLjEtMC43JTIwJTIwJTIwYzAtMC4zJTJDMC4xLTAuNiUyQzAuMS0xYzAtMC4xJTJDMC0wLjMlMkMwLTAuNGMwLTAuMiUyQzAtMC40JTJDMC0wLjZjMC0wLjMlMkMwLTAuNSUyQzAtMC44bDAtMC4yYzAtMC4yJTJDMC0wLjQlMkMwLTAuN2MwLTAuMiUyQzAtMC41LTAuMS0wLjdsMC0wLjElMjAlMjAlMjBjLTAuNS0zLjQtMC40LTYuNyUyQzAuMi05LjhjMC43LTQlMkMyLjMtNy44JTJDNC41LTExLjJsMCUyQzBjMS44LTIuNyUyQzQtNS4yJTJDNi42LTcuMmMwLjEtMC4xJTJDMC4yLTAuMiUyQzAuMy0wLjNjNC0zLjMlMkM2LjItOC41JTJDNS40LTEzLjklMjAlMjAlMjBjLTAuOC01LjUtNC40LTkuOC05LjEtMTEuOWMtMC4yLTAuMS0wLjUtMC4yLTAuNy0wLjNjLTIuMy0wLjktNC44LTEuMi03LjQtMC44Yy0yLjYlMkMwLjQtNC45JTJDMS40LTYuOSUyQzIuOGwwJTJDMCUyMCUyMCUyMGMtMC4yJTJDMC4yLTAuNCUyQzAuMy0wLjYlMkMwLjVsMCUyQzBjLTMuOSUyQzMuMy02LjIlMkM4LjQtNS40JTJDMTMuOWwwJTJDMGMwLjMlMkMyLjMlMkMwLjQlMkM0LjclMkMwLjIlMkM2LjljMCUyQzAuNS0wLjElMkMxLTAuMiUyQzEuNWwwJTJDMCUyMCUyMCUyMGMtMC4xJTJDMC41LTAuMSUyQzAuOS0wLjIlMkMxLjRsMCUyQzBsMCUyQzBsMCUyQzBjLTAuNyUyQzQtMi4zJTJDNy44LTQuNSUyQzExLjFjLTEuNyUyQzIuNi0zLjglMkM1LTYuMyUyQzdsMCUyQzBjLTAuMiUyQzAuMi0wLjQlMkMwLjMtMC42JTJDMC41JTIwJTIwJTIwYy0wLjIlMkMwLjItMC40JTJDMC40LTAuNyUyQzAuNmMtMC4yJTJDMC4yLTAuNCUyQzAuMy0wLjUlMkMwLjVsLTAuMiUyQzAuMmwwJTJDMGMtMC4yJTJDMC4yLTAuMyUyQzAuMy0wLjQlMkMwLjVjLTAuMiUyQzAuMi0wLjMlMkMwLjQtMC41JTJDMC42bC0wLjIlMkMwLjNsMCUyQzAlMjAlMjAlMjBjLTAuMSUyQzAuMi0wLjMlMkMwLjQtMC40JTJDMC42Yy0wLjIlMkMwLjItMC4zJTJDMC41LTAuNSUyQzAuN2wwJTJDMGMtMC4xJTJDMC4yLTAuMyUyQzAuNS0wLjQlMkMwLjdjLTAuMSUyQzAuMy0wLjMlMkMwLjUtMC40JTJDMC44JTIwJTIwJTIwYy0wLjElMkMwLjMtMC4yJTJDMC41LTAuMyUyQzAuOGMtMC4xJTJDMC4yLTAuMSUyQzAuMy0wLjIlMkMwLjVjLTAuMSUyQzAuMy0wLjIlMkMwLjYtMC4zJTJDMC45Yy0wLjElMkMwLjItMC4xJTJDMC41LTAuMiUyQzAuN2MwJTJDMC4yLTAuMSUyQzAuMy0wLjElMkMwLjUlMjAlMjAlMjBjMCUyQzAuMy0wLjElMkMwLjYtMC4xJTJDMC44YzAlMkMwLjMtMC4xJTJDMC42LTAuMSUyQzAuOGMwJTJDMC4zJTJDMCUyQzAuNiUyQzAlMkMwLjljMCUyQzAuMiUyQzAlMkMwLjQlMkMwJTJDMC41YzAlMkMwLjElMkMwJTJDMC4zJTJDMCUyQzAuNGwwJTJDMC4zYzAlMkMwLjIlMkMwJTJDMC4zJTJDMCUyQzAuNSUyMCUyMCUyMGMwJTJDMC4yJTJDMCUyQzAuNSUyQzAuMSUyQzAuN2wwJTJDMC4xYzAlMkMwLjIlMkMwLjElMkMwLjUlMkMwLjElMkMwLjdjMS41JTJDNy45JTJDOSUyQzEzLjMlMkMxNy4xJTJDMTIuMkM3MC43JTJDODEuMyUyQzcxLjclMkM4MSUyQzcyLjYlMkM4MC43eiUyMiUyRiUzRSUwOSUzQ2NpcmNsZSUyMGNsYXNzJTNEJTIyc3QwJTIyJTIwY3glM0QlMjIyMi41JTIyJTIwY3klM0QlMjI3Mi42JTIyJTIwciUzRCUyMjE1LjIlMjIlMkYlM0UlMDklM0NjaXJjbGUlMjBjbGFzcyUzRCUyMnN0MCUyMiUyMGN4JTNEJTIyOTUuNSUyMiUyMGN5JTNEJTIyMTAyLjElMjIlMjByJTNEJTIyMTUuMiUyMiUyRiUzRSUwOSUzQ2NpcmNsZSUyMGNsYXNzJTNEJTIyc3QwJTIyJTIwY3glM0QlMjI4NC42JTIyJTIwY3klM0QlMjIyMy45JTIyJTIwciUzRCUyMjE1LjIlMjIlMkYlM0UlM0MlMkZnJTNFJTNDJTJGc3ZnJTNFIiwKZS5zdHlsZT0id2lkdGg6IDEyNHB4OyBtYXJnaW46IDRweCBhdXRvIDAiLHQuYXBwZW5kQ2hpbGQoZSksdC50aXRsZT0iQWJvdXQgUGh5bG9jYW52YXMuLi4iLHQuaHJlZj0iaHR0cDovL3BoeWxvY2FudmFzLm9yZy8iLHQudGFyZ2V0PSJfYmxhbmsiLHR9ZnVuY3Rpb24gZCh0KXtpZigyPT09dC5idXR0b24pe3QucHJldmVudERlZmF1bHQoKTt2YXIgZT10aGlzLmdldE5vZGVBdE1vdXNlUG9zaXRpb24odCk7dGhpcy5jb250ZXh0TWVudS5vcGVuKHQuY2xpZW50WCx0LmNsaWVudFksZSYmZS5pbnRlcmFjdGl2ZT9lOm51bGwpLHRoaXMuY29udGV4dE1lbnUuY2xvc2VkPSExLHRoaXMudG9vbHRpcC5jbG9zZSgpfX1mdW5jdGlvbiBDKHQpe3RoaXMuY29udGV4dE1lbnUuY2xlYW51cCgpLHQuY2FsbCh0aGlzKX1mdW5jdGlvbiB2KHQpe3QodGhpcywiY3JlYXRlVHJlZSIsZnVuY3Rpb24oZSxuKXt2YXIgYT1lLmFwcGx5KHZvaWQgMCxyKG4pKSxpPXAobiwyKSxvPWlbMV0scz12b2lkIDA9PT1vP3t9Om87cmV0dXJuIHMuY29udGV4dE1lbnUhPT0hMSYmKGEuY29udGV4dE1lbnU9bmV3IF8oYSxzLmNvbnRleHRNZW51KSxhLmFkZExpc3RlbmVyKCJjb250ZXh0bWVudSIsZC5iaW5kKGEpKSx0KGEsImNsZWFudXAiLEMpKSxhfSksdGhpcy5Db250ZXh0TWVudT1ffU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkRFRkFVTFRfQlJBTkNIX01FTlVfSVRFTVM9ZS5ERUZBVUxUX01FTlVfSVRFTVM9dm9pZCAwO3ZhciBwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuPVtdLHI9ITAsYT0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKSYmKG4ucHVzaChvLnZhbHVlKSwhZXx8bi5sZW5ndGghPT1lKTtyPSEwKTt9Y2F0Y2godCl7YT0hMCxpPXR9ZmluYWxseXt0cnl7IXImJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBpfX1yZXR1cm4gbn1yZXR1cm4gZnVuY3Rpb24oZSxuKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlO2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpcmV0dXJuIHQoZSxuKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9fSgpLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsInZhbHVlImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCk7ZS5kZWZhdWx0PXY7dmFyIHk9bigxKSxiPXkudXRpbHMuZXZlbnRzLG09Yi5jcmVhdGVIYW5kbGVyLHg9Yi5wcmV2ZW50RGVmYXVsdCx3PXkudXRpbHMuZG9tLmNyZWF0ZUJsb2JVcmwsUz1lLkRFRkFVTFRfTUVOVV9JVEVNUz1bW3t0ZXh0OiJTaG93L0hpZGUgTGFiZWxzIixoYW5kbGVyOiJ0b2dnbGVMYWJlbHMifSx7dGV4dDoiQWxpZ24vUmVhbGlnbiBMYWJlbHMiLGhhbmRsZXI6ZnVuY3Rpb24odCl7dC5hbGlnbkxhYmVscz0hdC5hbGlnbkxhYmVsc319XSxbe3RleHQ6IkZpdCBpbiBQYW5lbCIsaGFuZGxlcjpmdW5jdGlvbih0KXt0LmZpdEluUGFuZWwoKX19LHt0ZXh0OiJSZWRyYXcgT3JpZ2luYWwgVHJlZSIsaGFuZGxlcjoicmVkcmF3T3JpZ2luYWxUcmVlIn0se3RleHQ6IkV4cGFuZCBBbGwiLGhhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGU9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBhLGk9T2JqZWN0LmtleXModC5icmFuY2hlcylbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0oYT1pLm5leHQoKSkuZG9uZSk7ZT0hMCl7dmFyIG89YS52YWx1ZTt0LmJyYW5jaGVzW29dLmV4cGFuZCgpfX1jYXRjaCh0KXtuPSEwLHI9dH1maW5hbGx5e3RyeXshZSYmaS5yZXR1cm4mJmkucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fX19XSxbe3RleHQ6IkV4cG9ydCBMZWFmIExhYmVscyIsZWxlbWVudDpjfSx7dGV4dDoiRXhwb3J0IFNlbGVjdGVkIExhYmVscyIsZWxlbWVudDpofSx7dGV4dDoiRXhwb3J0IGFzIE5ld2ljayBGaWxlIixlbGVtZW50OnV9LHt0ZXh0OiJFeHBvcnQgYXMgSW1hZ2UiLGVsZW1lbnQ6bH1dLFt7ZWxlbWVudDpmfV1dLGs9ZS5ERUZBVUxUX0JSQU5DSF9NRU5VX0lURU1TPVtbe3RleHQ6IkNvbGxhcHNlL0V4cGFuZCBTdWJ0cmVlIixoYW5kbGVyOmZ1bmN0aW9uKHQpe3QudG9nZ2xlQ29sbGFwc2VkKCksdC50cmVlLmRyYXcoKX19LHt0ZXh0OiJJbnZlcnQgU3VidHJlZSIsaGFuZGxlcjoicm90YXRlIn1dLFt7dGV4dDoiUmVkcmF3IFN1YnRyZWUiLGhhbmRsZXI6InJlZHJhd1RyZWVGcm9tQnJhbmNoIn1dLFt7dGV4dDoiRXhwb3J0IFN1YnRyZWUgTGVhZiBMYWJlbHMiLGVsZW1lbnQ6Y30se3RleHQ6IkV4cG9ydCBTdWJ0cmVlIGFzIE5ld2ljayBGaWxlIixlbGVtZW50OnV9XSxbe2VsZW1lbnQ6Zn1dXSxMPXtpbWFnZToicGh5bG9jYW52YXMucG5nIixsZWFmTGFiZWxzOiJwaHlsb2NhbnZhcy1sZWFmLWxhYmVscy50eHQiLG5ld2ljazoicGh5bG9jYW52YXMubndrIn0sXz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxvPXIubWVudUl0ZW1zLHM9dm9pZCAwPT09bz9TOm8sbD1yLmJyYW5jaE1lbnVJdGVtcyxjPXZvaWQgMD09PWw/azpsLGg9ci51bnN0eWxlZCx1PXZvaWQgMCE9PWgmJmgsZj1yLmNsYXNzTmFtZSxkPXZvaWQgMD09PWY/IiI6ZixDPXIucGFyZW50LHY9ci5maWxlbmFtZXMscD12b2lkIDA9PT12P0w6djthKHRoaXMsZSk7dmFyIGc9aSh0aGlzLChlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpKS5jYWxsKHRoaXMsdCx7Y2xhc3NOYW1lOigicGh5bG9jYW52YXMtY29udGV4dC1tZW51ICIrZCkudHJpbSgpLGVsZW1lbnQ6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidWwiKSxwYXJlbnQ6Q30pKTtyZXR1cm4gZy5tZW51SXRlbXM9cyxnLmJyYW5jaE1lbnVJdGVtcz1jLGcuZmlsZW5hbWVzPXAsdXx8bigyKSxnLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0b3BQcm9wYWdhdGlvbigpfSksZ31yZXR1cm4gbyhlLHQpLGcoZSxbe2tleToiY3JlYXRlU3VibGlzdCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ1bCIpLHI9ITAsYT0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgbD1vLnZhbHVlLGM9bnVsbDtpZihsLmVsZW1lbnQpe3ZhciBoPWwuZWxlbWVudCh0aGlzLGUpO2gmJihjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIiksYy5hcHBlbmRDaGlsZChoKSl9ZWxzZSBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIiksYy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShsLnRleHQpKSxjLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixtKGV8fHRoaXMudHJlZSxsLmhhbmRsZXIpKTtjJiYoYy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsbSh0aGlzLCJjbG9zZSIpKSxjLmFkZEV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51Iix4KSxuLmFwcGVuZENoaWxkKGMpKX19Y2F0Y2godCl7YT0hMCxpPXR9ZmluYWxseXt0cnl7IXImJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBpfX1uLmhhc0NoaWxkTm9kZXMoKSYmdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKG4pfX0se2tleToiY3JlYXRlQ29udGVudCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5jaGlsZHJlbi5sZW5ndGg/dGhpcy5icmFuY2hNZW51SXRlbXM6dGhpcy5tZW51SXRlbXMsbj0hMCxyPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIGksbz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGk9by5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBzPWkudmFsdWU7dGhpcy5jcmVhdGVTdWJsaXN0KHMsdCl9fWNhdGNoKHQpe3I9ITAsYT10fWZpbmFsbHl7dHJ5eyFuJiZvLnJldHVybiYmby5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgYX19ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsbSh0aGlzLCJjbG9zZSIpKX19LHtrZXk6ImNsZWFudXAiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KX19XSksZX0oeS5Ub29sdGlwKX0sZnVuY3Rpb24oZSxuKXtlLmV4cG9ydHM9dH0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMyk7InN0cmluZyI9PXR5cGVvZiByJiYocj1bW3QuaWQsciwiIl1dKSxuKDUpKHIse30pLHIubG9jYWxzJiYodC5leHBvcnRzPXIubG9jYWxzKX0sZnVuY3Rpb24odCxlLG4pe2U9dC5leHBvcnRzPW4oNCkoKSxlLnB1c2goW3QuaWQsIi5waHlsb2NhbnZhcy1jb250ZXh0LW1lbnUsLnBoeWxvY2FudmFzLWNvbnRleHQtbWVudSB1bHtsaXN0LXN0eWxlOm91dHNpZGUgbm9uZSBub25lO21hcmdpbjowfS5waHlsb2NhbnZhcy1jb250ZXh0LW1lbnV7YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6MnB4O2JveC1zaGFkb3c6MCAycHggMnB4IDAgcmdiYSgwLDAsMCwuMTQpLDAgM3B4IDFweCAtMnB4IHJnYmEoMCwwLDAsLjIpLDAgMXB4IDVweCAwIHJnYmEoMCwwLDAsLjEyKTtsZXR0ZXItc3BhY2luZzowO2xpc3Qtc3R5bGU6b3V0c2lkZSBub25lIG5vbmU7bWluLXdpZHRoOjEyNHB4O3BhZGRpbmc6OHB4IDB9LnBoeWxvY2FudmFzLWNvbnRleHQtbWVudSB1bHtwYWRkaW5nOjB9LnBoeWxvY2FudmFzLWNvbnRleHQtbWVudSB1bCt1bHtib3JkZXItdG9wOjFweCBzb2xpZCAjZTBlMGUwO21hcmdpbi10b3A6OHB4O3BhZGRpbmctdG9wOjhweH0ucGh5bG9jYW52YXMtY29udGV4dC1tZW51IGxpe3BhZGRpbmc6MCAxNnB4O291dGxpbmUtY29sb3I6I2JkYmRiZDtoZWlnaHQ6NDBweDtsaW5lLWhlaWdodDo0MHB4O3RleHQtZGVjb3JhdGlvbjpub25lO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Y3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjEzcHg7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWZ9LnBoeWxvY2FudmFzLWNvbnRleHQtbWVudSBsaTpmb2N1cywucGh5bG9jYW52YXMtY29udGV4dC1tZW51IGxpOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2VlZX0ucGh5bG9jYW52YXMtY29udGV4dC1tZW51IGF7ZGlzcGxheTpibG9jazttYXJnaW46MCAtMTZweDtwYWRkaW5nOjAgMTZweH0ucGh5bG9jYW52YXMtY29udGV4dC1tZW51IGEsLnBoeWxvY2FudmFzLWNvbnRleHQtbWVudSBsaXtjb2xvcjpyZ2JhKDAsMCwwLC44Nyk7dGV4dC1kZWNvcmF0aW9uOm5vbmU7d2hpdGUtc3BhY2U6bm93cmFwfSIsIiJdKX0sZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8dGhpcy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzW2VdO25bMl0/dC5wdXNoKCJAbWVkaWEgIituWzJdKyJ7IituWzFdKyJ9Iik6dC5wdXNoKG5bMV0pfXJldHVybiB0LmpvaW4oIiIpfSx0Lmk9ZnVuY3Rpb24oZSxuKXsic3RyaW5nIj09dHlwZW9mIGUmJihlPVtbbnVsbCxlLCIiXV0pO2Zvcih2YXIgcj17fSxhPTA7YTx0aGlzLmxlbmd0aDthKyspe3ZhciBpPXRoaXNbYV1bMF07Im51bWJlciI9PXR5cGVvZiBpJiYocltpXT0hMCl9Zm9yKGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIG89ZVthXTsibnVtYmVyIj09dHlwZW9mIG9bMF0mJnJbb1swXV18fChuJiYhb1syXT9vWzJdPW46biYmKG9bMl09IigiK29bMl0rIikgYW5kICgiK24rIikiKSx0LnB1c2gobykpfX0sdH19LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl0sYT1kW3IuaWRdO2lmKGEpe2EucmVmcysrO2Zvcih2YXIgaT0wO2k8YS5wYXJ0cy5sZW5ndGg7aSsrKWEucGFydHNbaV0oci5wYXJ0c1tpXSk7Zm9yKDtpPHIucGFydHMubGVuZ3RoO2krKylhLnBhcnRzLnB1c2goYyhyLnBhcnRzW2ldLGUpKX1lbHNle2Zvcih2YXIgbz1bXSxpPTA7aTxyLnBhcnRzLmxlbmd0aDtpKyspby5wdXNoKGMoci5wYXJ0c1tpXSxlKSk7ZFtyLmlkXT17aWQ6ci5pZCxyZWZzOjEscGFydHM6b319fX1mdW5jdGlvbiBhKHQpe2Zvcih2YXIgZT1bXSxuPXt9LHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGE9dFtyXSxpPWFbMF0sbz1hWzFdLHM9YVsyXSxsPWFbM10sYz17Y3NzOm8sbWVkaWE6cyxzb3VyY2VNYXA6bH07bltpXT9uW2ldLnBhcnRzLnB1c2goYyk6ZS5wdXNoKG5baV09e2lkOmkscGFydHM6W2NdfSl9cmV0dXJuIGV9ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPXAoKSxyPWJbYi5sZW5ndGgtMV07aWYoInRvcCI9PT10Lmluc2VydEF0KXI/ci5uZXh0U2libGluZz9uLmluc2VydEJlZm9yZShlLHIubmV4dFNpYmxpbmcpOm4uYXBwZW5kQ2hpbGQoZSk6bi5pbnNlcnRCZWZvcmUoZSxuLmZpcnN0Q2hpbGQpLGIucHVzaChlKTtlbHNle2lmKCJib3R0b20iIT09dC5pbnNlcnRBdCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLiIpO24uYXBwZW5kQ2hpbGQoZSl9fWZ1bmN0aW9uIG8odCl7dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpO3ZhciBlPWIuaW5kZXhPZih0KTtlPj0wJiZiLnNwbGljZShlLDEpfWZ1bmN0aW9uIHModCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gZS50eXBlPSJ0ZXh0L2NzcyIsaSh0LGUpLGV9ZnVuY3Rpb24gbCh0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIik7cmV0dXJuIGUucmVsPSJzdHlsZXNoZWV0IixpKHQsZSksZX1mdW5jdGlvbiBjKHQsZSl7dmFyIG4scixhO2lmKGUuc2luZ2xldG9uKXt2YXIgaT15Kys7bj1nfHwoZz1zKGUpKSxyPWguYmluZChudWxsLG4saSwhMSksYT1oLmJpbmQobnVsbCxuLGksITApfWVsc2UgdC5zb3VyY2VNYXAmJiJmdW5jdGlvbiI9PXR5cGVvZiBVUkwmJiJmdW5jdGlvbiI9PXR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMJiYiZnVuY3Rpb24iPT10eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCYmImZ1bmN0aW9uIj09dHlwZW9mIEJsb2ImJiJmdW5jdGlvbiI9PXR5cGVvZiBidG9hPyhuPWwoZSkscj1mLmJpbmQobnVsbCxuKSxhPWZ1bmN0aW9uKCl7byhuKSxuLmhyZWYmJlVSTC5yZXZva2VPYmplY3RVUkwobi5ocmVmKX0pOihuPXMoZSkscj11LmJpbmQobnVsbCxuKSxhPWZ1bmN0aW9uKCl7byhuKX0pO3JldHVybiByKHQpLGZ1bmN0aW9uKGUpe2lmKGUpe2lmKGUuY3NzPT09dC5jc3MmJmUubWVkaWE9PT10Lm1lZGlhJiZlLnNvdXJjZU1hcD09PXQuc291cmNlTWFwKXJldHVybjtyKHQ9ZSl9ZWxzZSBhKCl9fWZ1bmN0aW9uIGgodCxlLG4scil7dmFyIGE9bj8iIjpyLmNzcztpZih0LnN0eWxlU2hlZXQpdC5zdHlsZVNoZWV0LmNzc1RleHQ9bShlLGEpO2Vsc2V7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSksbz10LmNoaWxkTm9kZXM7b1tlXSYmdC5yZW1vdmVDaGlsZChvW2VdKSxvLmxlbmd0aD90Lmluc2VydEJlZm9yZShpLG9bZV0pOnQuYXBwZW5kQ2hpbGQoaSl9fWZ1bmN0aW9uIHUodCxlKXt2YXIgbj1lLmNzcyxyPWUubWVkaWE7aWYociYmdC5zZXRBdHRyaWJ1dGUoIm1lZGlhIixyKSx0LnN0eWxlU2hlZXQpdC5zdHlsZVNoZWV0LmNzc1RleHQ9bjtlbHNle2Zvcig7dC5maXJzdENoaWxkOyl0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCk7dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuKSl9fWZ1bmN0aW9uIGYodCxlKXt2YXIgbj1lLmNzcyxyPWUuc291cmNlTWFwO3ImJihuKz0iXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpKSkrIiAqLyIpO3ZhciBhPW5ldyBCbG9iKFtuXSx7dHlwZToidGV4dC9jc3MifSksaT10LmhyZWY7dC5ocmVmPVVSTC5jcmVhdGVPYmplY3RVUkwoYSksaSYmVVJMLnJldm9rZU9iamVjdFVSTChpKX12YXIgZD17fSxDPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbigpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZSYmKGU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cykpLGV9fSx2PUMoZnVuY3Rpb24oKXtyZXR1cm4vbXNpZSBbNi05XVxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpfSkscD1DKGZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF19KSxnPW51bGwseT0wLGI9W107dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7ZT1lfHx7fSwidW5kZWZpbmVkIj09dHlwZW9mIGUuc2luZ2xldG9uJiYoZS5zaW5nbGV0b249digpKSwidW5kZWZpbmVkIj09dHlwZW9mIGUuaW5zZXJ0QXQmJihlLmluc2VydEF0PSJib3R0b20iKTt2YXIgbj1hKHQpO3JldHVybiByKG4sZSksZnVuY3Rpb24odCl7Zm9yKHZhciBpPVtdLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIHM9bltvXSxsPWRbcy5pZF07bC5yZWZzLS0saS5wdXNoKGwpfWlmKHQpe3ZhciBjPWEodCk7cihjLGUpfWZvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKXt2YXIgbD1pW29dO2lmKDA9PT1sLnJlZnMpe2Zvcih2YXIgaD0wO2g8bC5wYXJ0cy5sZW5ndGg7aCsrKWwucGFydHNbaF0oKTtkZWxldGUgZFtsLmlkXX19fX07dmFyIG09ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gdFtlXT1uLHQuZmlsdGVyKEJvb2xlYW4pLmpvaW4oIlxuIil9fSgpfV0pfSl9LGZ1bmN0aW9uKHQsZSxuKXshZnVuY3Rpb24oZSxyKXt0LmV4cG9ydHM9cihuKDMpKX0odGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpZihuW3JdKXJldHVybiBuW3JdLmV4cG9ydHM7dmFyIGE9bltyXT17ZXhwb3J0czp7fSxpZDpyLGxvYWRlZDohMX07cmV0dXJuIHRbcl0uY2FsbChhLmV4cG9ydHMsYSxhLmV4cG9ydHMsZSksYS5sb2FkZWQ9ITAsYS5leHBvcnRzfXZhciBuPXt9O3JldHVybiBlLm09dCxlLmM9bixlLnA9IiIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPUFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59cmV0dXJuIEFycmF5LmZyb20odCl9ZnVuY3Rpb24gYSgpe3ZhciB0PXRoaXMuc2NhbGViYXIsZT10aGlzLnpvb20sbj10aGlzLmJyYW5jaFNjYWxhcixyPXQud2lkdGgsYT10LmhlaWdodCxpPXQucG9zaXRpb24sbz10LmxpbmVXaWR0aCxzPXRoaXMuY2FudmFzLGw9cy5jYW52YXM7cy5zYXZlKCk7dmFyIGY9MDsidW5kZWZpbmVkIiE9dHlwZW9mIGkubGVmdD9mPXQubGluZVdpZHRoK2kubGVmdDoidW5kZWZpbmVkIiE9dHlwZW9mIGkuY2VudHJlP2Y9bC53aWR0aC8yLXIvMitpLmNlbnRyZToidW5kZWZpbmVkIiE9dHlwZW9mIGkucmlnaHQ/Zj1sLndpZHRoLXItdC5saW5lV2lkdGgtaS5yaWdodDp0aGlzLmxvYWRFcnJvcihjKTt2YXIgZD0wOyJ1bmRlZmluZWQiIT10eXBlb2YgaS50b3A/ZD1pLnRvcDoidW5kZWZpbmVkIiE9dHlwZW9mIGkubWlkZGxlP2Q9bC5oZWlnaHQvMi1hK2kubWlkZGxlOiJ1bmRlZmluZWQiIT10eXBlb2YgaS5ib3R0b20/ZD1sLmhlaWdodC1hLWkuYm90dG9tOnRoaXMubG9hZEVycm9yKGgpLHMuY2xlYXJSZWN0KGYsZCxyLGEpLHMuZm9udD10LmZvbnQscy5maWxsU3R5bGU9dC5maWxsU3R5bGUscy5zdHJva2VTdHlsZT10LnN0cm9rZVN0eWxlLHMubGluZVdpZHRoPW8scy50ZXh0QmFzZWxpbmU9dC50ZXh0QmFzZWxpbmUscy50ZXh0QWxpZ249dC50ZXh0QWxpZ24scy5iZWdpblBhdGgoKSxzLm1vdmVUbyhmLGQpLHMubGluZVRvKGYrcixkKSxzLnN0cm9rZSgpLHMubW92ZVRvKGYsZCkscy5saW5lVG8oZixkK2EpLHMuc3Ryb2tlKCkscy5tb3ZlVG8oZityLGQpLHMubGluZVRvKGYrcixkK2EpLHMuc3Ryb2tlKCkscy5jbG9zZVBhdGgoKTt2YXIgQz1yL24vZSx2PXBhcnNlSW50KE1hdGguYWJzKE1hdGgubG9nKEMpL3UpLDEwKSxwPUMudG9GaXhlZCh2K3QuZGlnaXRzKTtzLmZpbGxUZXh0KHAsZityLzIsZCthKSxzLnJlc3RvcmUoKX1mdW5jdGlvbiBpKHQpe3QodGhpcywiY3JlYXRlVHJlZSIsZnVuY3Rpb24odCxlKXt2YXIgbj10LmFwcGx5KHZvaWQgMCxyKGUpKSxhPW8oZSwyKSxpPWFbMV0scz12b2lkIDA9PT1pP3t9Omk7cmV0dXJuIG4uc2NhbGViYXI9T2JqZWN0LmFzc2lnbih7fSxsLHMuc2NhbGViYXJ8fHt9KSxufSksdChzLlRyZWUsImRyYXciLGZ1bmN0aW9uKHQsZSl7dC5hcHBseSh0aGlzLGUpLHRoaXMuc2NhbGViYXIuYWN0aXZlJiZhLmFwcGx5KHRoaXMpfSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuPVtdLHI9ITAsYT0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKSYmKG4ucHVzaChvLnZhbHVlKSwhZXx8bi5sZW5ndGghPT1lKTtyPSEwKTt9Y2F0Y2godCl7YT0hMCxpPXR9ZmluYWxseXt0cnl7IXImJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBpfX1yZXR1cm4gbn1yZXR1cm4gZnVuY3Rpb24oZSxuKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlO2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpcmV0dXJuIHQoZSxuKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9fSgpO2UuZGVmYXVsdD1pO3ZhciBzPW4oMSksbD17YWN0aXZlOiEwLHdpZHRoOjEwMCxoZWlnaHQ6MjAsZmlsbFN0eWxlOiJibGFjayIsc3Ryb2tlU3R5bGU6ImJsYWNrIixsaW5lV2lkdGg6MSxmb250OiIxNnB4IFNhbnMtc2VyaWYiLHRleHRCYXNlbGluZToiYm90dG9tIix0ZXh0QWxpZ246ImNlbnRlciIsZGlnaXRzOjIscG9zaXRpb246e2JvdHRvbToxMCxsZWZ0OjEwfX0sYz0iSW52YWxpZCBob3Jpem9udGFsIHBvc2l0aW9uIHNwZWNpZmllZFN1cHBvcnRlZCB2YWx1ZXMgYXJlIGBsZWZ0YCwgYGNlbnRyZWAsIG9yIGByaWdodGAiLGg9IkludmFsaWQgdmVydGljYWwgcG9zaXRpb24gc3BlY2lmaWVkU3VwcG9ydGVkIHZhbHVlcyBhcmUgYHRvcGAsIGBtaWRkbGVgLCBvciBgYm90dG9tYCIsdT1NYXRoLmxvZygxMCl9LGZ1bmN0aW9uKGUsbil7ZS5leHBvcnRzPXR9XSl9KX1dKX0pOw=="></script>
<script src="data:application/x-javascript;base64,dmFyIGdwYXJhbXMsIHRyZTsKCkhUTUxXaWRnZXRzLndpZGdldCh7CgogIG5hbWU6ICdwaHlsb2NhbnZhcycsCgogIHR5cGU6ICdvdXRwdXQnLAoKICBmYWN0b3J5OiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewoKICAgIC8vIFRPRE86IGRlZmluZSBzaGFyZWQgdmFyaWFibGVzIGZvciB0aGlzIGluc3RhbmNlCgogICAgcmV0dXJuIHsKCiAgICAgIHJlbmRlclZhbHVlOiBmdW5jdGlvbih4KSB7CiAgICAgICAgLy9wYXNzIHBhcmFtcyBnbG9iYWxseQoKICAgICAgICAvLyBjbGVhciB0aGUgc3ViIG5vZGVzLiBOZWNlc3NhcnkgZm9yIHNoaW55IGFwcHMKICAgICAgICB3aGlsZSAoZWwuZmlyc3RDaGlsZCkKICAgICAgICAgIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpOwoKICAgICAgICB2YXIgdHJlZSA9IFBoeWxvY2FudmFzLmNyZWF0ZVRyZWUoZWwsIHguY29uZmlnKTsKCiAgICAgICAgLy9zZXQgZ2xvYmFsIHZhcmlhYmxlcwogICAgICAgIHRyZWUuc2V0VHJlZVR5cGUoeC50cmVldHlwZSk7CiAgICAgICAgdHJlZS5zZXROb2RlU2l6ZSh4Lm5vZGVzaXplKTsKICAgICAgICB0cmVlLmxpbmVXaWR0aCA9IHgubGluZXdpZHRoOwogICAgICAgIHRyZWUuc2hvd0xhYmVscyA9IHguc2hvd2xhYmVsczsKICAgICAgICB0cmVlLmFsaWduTGFiZWxzID0geC5hbGlnbmxhYmVsczsKCiAgICAgICAgZ3BhcmFtcyA9IHg7CiAgICAgICAgdHJlID0gdHJlZTsKCiAgICAgICAgLy8gbG9hZGluZyB3aWxsIGRyYXcgdGhlIHRyZWUKICAgICAgICB0cmVlLmxvYWQoeC50cmVlKTsKICAgICAgICAKICAgICAgICB0cmVlLnNldFRleHRTaXplKHgudGV4dHNpemUpOwoKICAgICAgICAvLyBhcHBseSBub2RlIHN0eWxlcyBhZnRlciB0aGUgdHJlZSBpcyBsb2FkZWQKICAgICAgICBpZiAoeC5ub2Rlc3R5bGVzICE9PSBudWxsKSB7CiAgICAgICAgICBPYmplY3Qua2V5cyh4Lm5vZGVzdHlsZXMpLmZvckVhY2goZnVuY3Rpb24oa2V5KXsKICAgICAgICAgIHZhciBsZWFmID0gdHJlZS5maW5kTGVhdmVzKGtleSlbMF07CiAgICAgICAgICBsZWFmLnNldERpc3BsYXkoIHgubm9kZXN0eWxlc1trZXldICk7CiAgICAgICAgICBsZWFmLmhpZ2hsaWdodGVkID0geC5ub2Rlc3R5bGVzW2tleV0uaGlnaGxpZ2h0ZWQ7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8vIGFwcGx5IGNvbGxhcHNlIHN0eWxlcyBhZnRlciB0aGUgdHJlZSBpcyBsb2FkZWQKICAgICAgICBpZiAoeC5ub2RlY29sbGFwc2VzKSB7CiAgICAgICAgICBPYmplY3Qua2V5cyh4Lm5vZGVjb2xsYXBzZXMpLmZvckVhY2goZnVuY3Rpb24oa2V5KXsKICAgICAgICAgIHRyZWUuYnJhbmNoZXNba2V5XS5jb2xsYXBzZWQgPSAgeC5ub2RlY29sbGFwc2VzW2tleV1bMF07CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8vIGFwcGx5IHJvdGF0aW9ucwogICAgICAgIGlmICh4Lm5vZGVyb3RhdGlvbnMpIHsKICAgICAgICAgIE9iamVjdC5rZXlzKHgubm9kZXJvdGF0aW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpewogICAgICAgICAgdHJlZS5icmFuY2hlc1trZXldLnJvdGF0ZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyBzZWxlY3QgYnJhbmNoZXMKICAgICAgICBpZiAoeC5zZWxlY3RicmFuY2gpIHsKICAgICAgICAgIE9iamVjdC5rZXlzKHguc2VsZWN0YnJhbmNoKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7CiAgICAgICAgICAgIGlmICh4LnNlbGVjdGJyYW5jaFtrZXldWzBdID09PSBmYWxzZSkgewogICAgICAgICAgICAgIHRyZWUuYnJhbmNoZXNba2V5XS5zZWxlY3RlZCA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdHJlZS5icmFuY2hlc1trZXldLnNlbGVjdGVkID0gdHJ1ZTsKICAgICAgICAgICAgICB0cmVlLmJyYW5jaGVzW2tleV0uY2FzY2FkZUZsYWcoJ3NlbGVjdGVkJywgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8gcHJ1bmUgYnJhbmNoZXMKICAgICAgICBpZiAoeC5wcnVuZWJyYW5jaCkgewogICAgICAgICAgT2JqZWN0LmtleXMoeC5wcnVuZWJyYW5jaCkuZm9yRWFjaChmdW5jdGlvbihrZXkpewogICAgICAgICAgICAgIHRyZWUuYnJhbmNoZXNba2V5XS5wcnVuZWQgPSB0cnVlOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyBoaWdobGlnaHQgbm9kZXMKICAgICAgICBpZiAoeC5ub2RlaGlnaGxpZ2h0cykgewogICAgICAgICAgT2JqZWN0LmtleXMoeC5ub2RlaGlnaGxpZ2h0cykuZm9yRWFjaChmdW5jdGlvbihrZXkpewogICAgICAgICAgICB2YXIgbGVhZiA9IHRyZWUuZmluZExlYXZlcyhrZXkpWzBdOwogICAgICAgICAgICBsZWFmLmhpZ2hsaWdodGVkPXRydWU7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8vIGFjdGl2YXRlIGFsbCBzdHlsZXMKICAgICAgICB0cmVlLmRyYXcoKTsKCiAgICAgIH0sCgogICAgICByZXNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHsKCiAgICAgICAgLy8gVE9ETzogY29kZSB0byByZS1yZW5kZXIgdGhlIHdpZGdldCB3aXRoIGEgbmV3IHNpemUKCiAgICAgIH0KCiAgICB9OwogIH0KfSk7Cg=="></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Basic Use of Phylocanvas</h1>
<h4 class="author"><em>Zach Chrlop-Powers</em></h4>
<h4 class="date"><em>2017-10-06</em></h4>



<p>Use phylocanvas to draw phylogenetic trees. Basic options to control the tree are availalbe in this top level function. The tree shape in controlled by the <code>treetype</code> option. Try ‘radial’ and ‘heirarchical’ as well.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(phylocanvas)
<span class="kw">library</span>(dplyr)</code></pre></div>
<pre><code>## Warning: package 'dplyr' was built under R version 3.4.2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">phycanv &lt;-<span class="st"> </span><span class="kw">phylocanvas</span>(<span class="st">&quot;(A:0.1,B:0.2,(C:0.3,D:0.4)E:0.5)F;&quot;</span>, <span class="dt">treetype =</span> <span class="st">&quot;rectangular&quot;</span>, <span class="dt">alignlabels =</span> T)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">phycircle &lt;-<span class="st"> </span><span class="kw">phylocanvas</span>(<span class="st">&quot;(A:0.1,B:0.2,(C:0.3,D:0.4)E:0.5)F;&quot;</span>, <span class="dt">treetype =</span> <span class="st">&quot;circular&quot;</span>, <span class="dt">nodesize =</span> <span class="dv">30</span>, <span class="dt">linewidth =</span> <span class="dv">10</span>)
phycircle</code></pre></div>
<div id="htmlwidget-950320fed78584afa9e4" style="width:288px;height:288px;" class="phylocanvas html-widget"></div>
<script type="application/json" data-for="htmlwidget-950320fed78584afa9e4">{"x":{"tree":"(A:0.1,B:0.2,(C:0.3,D:0.4)E:0.5)F;","treetype":"circular","nodesize":30,"textsize":30,"linewidth":10,"showlabels":true,"alignlabels":false,"nodestyles":null,"nodecollapses":null,"nodehighlights":null,"prunebranch":null,"selectbranch":null,"prunebranch.1":null,"config":{"history":false,"contextMenu":true,"scalebar":{"active":false,"width":100,"height":20,"fillStyle":"black","strokeStyle":"black","lineWidth":1,"fontFamily":"Sans-serif","fontSize":16,"textBaseline":"bottom","textAlign":"center","digits":2,"position":{"bottom":10,"left":10}}}},"evals":[],"jsHooks":[]}</script>
<div id="stylize-nodes" class="section level2">
<h2>Stylize nodes</h2>
<p>Node styling options are available. Most of the appearance of a node can be changed here. Note below that colors can be either colornames, rgb strings or hex strings.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Note that colors are names, rgbs or hex</span>
phycanv <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">style_node</span>(<span class="st">&quot;A&quot;</span>, <span class="dt">nodesizeratio =</span> <span class="dv">4</span>, <span class="dt">fillcolor=</span><span class="st">&quot;rgb(0, 255, 0)&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">style_node</span>(<span class="st">&quot;B&quot;</span>, <span class="dt">fillcolor =</span> <span class="st">&quot;blue&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">style_node</span>(<span class="st">&quot;C&quot;</span>, <span class="dt">labeltextsize =</span> <span class="dv">10</span>, <span class="dt">shape=</span><span class="st">&quot;triangle&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">style_node</span>(<span class="st">&quot;D&quot;</span>, <span class="dt">fillcolor=</span><span class="st">&quot;#ffa500&quot;</span>, <span class="dt">highlighted=</span><span class="ot">TRUE</span>) </code></pre></div>
<div id="htmlwidget-0584c0ba837943990e27" style="width:288px;height:288px;" class="phylocanvas html-widget"></div>
<script type="application/json" data-for="htmlwidget-0584c0ba837943990e27">{"x":{"tree":"(A:0.1,B:0.2,(C:0.3,D:0.4)E:0.5)F;","treetype":"rectangular","nodesize":30,"textsize":30,"linewidth":3,"showlabels":true,"alignlabels":true,"nodestyles":{"A":{"highlighted":false,"colour":"black","shape":"circle","size":4,"leafStyle":{"strokeStyle":"black","fillStyle":"rgb(0, 255, 0)","lineWidth":1},"labelStyle":{"colour":"black","textSize":20,"font":"Arial","format":"bold"}},"B":{"highlighted":false,"colour":"black","shape":"circle","size":1,"leafStyle":{"strokeStyle":"black","fillStyle":"blue","lineWidth":1},"labelStyle":{"colour":"black","textSize":20,"font":"Arial","format":"bold"}},"C":{"highlighted":false,"colour":"black","shape":"triangle","size":1,"leafStyle":{"strokeStyle":"black","fillStyle":"black","lineWidth":1},"labelStyle":{"colour":"black","textSize":10,"font":"Arial","format":"bold"}},"D":{"highlighted":true,"colour":"black","shape":"circle","size":1,"leafStyle":{"strokeStyle":"black","fillStyle":"#ffa500","lineWidth":1},"labelStyle":{"colour":"black","textSize":20,"font":"Arial","format":"bold"}}},"nodecollapses":null,"nodehighlights":null,"prunebranch":null,"selectbranch":null,"prunebranch.1":null,"config":{"history":false,"contextMenu":true,"scalebar":{"active":false,"width":100,"height":20,"fillStyle":"black","strokeStyle":"black","lineWidth":1,"fontFamily":"Sans-serif","fontSize":16,"textBaseline":"bottom","textAlign":"center","digits":2,"position":{"bottom":10,"left":10}}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="collapse-branches" class="section level2">
<h2>Collapse Branches</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">phycircle <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">collapse_branch</span>(<span class="st">&quot;E&quot;</span>)</code></pre></div>
<div id="htmlwidget-ffbfb21b6c2937da27ba" style="width:288px;height:288px;" class="phylocanvas html-widget"></div>
<script type="application/json" data-for="htmlwidget-ffbfb21b6c2937da27ba">{"x":{"tree":"(A:0.1,B:0.2,(C:0.3,D:0.4)E:0.5)F;","treetype":"circular","nodesize":30,"textsize":30,"linewidth":10,"showlabels":true,"alignlabels":false,"nodestyles":null,"nodecollapses":{"E":[true]},"nodehighlights":null,"prunebranch":null,"selectbranch":null,"prunebranch.1":null,"config":{"history":false,"contextMenu":true,"scalebar":{"active":false,"width":100,"height":20,"fillStyle":"black","strokeStyle":"black","lineWidth":1,"fontFamily":"Sans-serif","fontSize":16,"textBaseline":"bottom","textAlign":"center","digits":2,"position":{"bottom":10,"left":10}}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="rotate-branches" class="section level2">
<h2>Rotate Branches</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">phycircle <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">rotate_branch</span>(<span class="st">&quot;E&quot;</span>)</code></pre></div>
<div id="htmlwidget-e0a0fcde15a8439a9762" style="width:288px;height:288px;" class="phylocanvas html-widget"></div>
<script type="application/json" data-for="htmlwidget-e0a0fcde15a8439a9762">{"x":{"tree":"(A:0.1,B:0.2,(C:0.3,D:0.4)E:0.5)F;","treetype":"circular","nodesize":30,"textsize":30,"linewidth":10,"showlabels":true,"alignlabels":false,"nodestyles":null,"nodecollapses":null,"nodehighlights":null,"prunebranch":null,"selectbranch":null,"prunebranch.1":null,"config":{"history":false,"contextMenu":true,"scalebar":{"active":false,"width":100,"height":20,"fillStyle":"black","strokeStyle":"black","lineWidth":1,"fontFamily":"Sans-serif","fontSize":16,"textBaseline":"bottom","textAlign":"center","digits":2,"position":{"bottom":10,"left":10}}},"noderotations":{"E":[true]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="select-branches" class="section level2">
<h2>Select Branches</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">phycanv <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select_branch</span>(<span class="st">&quot;B&quot;</span>)</code></pre></div>
<div id="htmlwidget-67dcbde27f3adb0a0120" style="width:288px;height:288px;" class="phylocanvas html-widget"></div>
<script type="application/json" data-for="htmlwidget-67dcbde27f3adb0a0120">{"x":{"tree":"(A:0.1,B:0.2,(C:0.3,D:0.4)E:0.5)F;","treetype":"rectangular","nodesize":30,"textsize":30,"linewidth":3,"showlabels":true,"alignlabels":true,"nodestyles":null,"nodecollapses":null,"nodehighlights":null,"prunebranch":null,"selectbranch":{"B":[false]},"prunebranch.1":null,"config":{"history":false,"contextMenu":true,"scalebar":{"active":false,"width":100,"height":20,"fillStyle":"black","strokeStyle":"black","lineWidth":1,"fontFamily":"Sans-serif","fontSize":16,"textBaseline":"bottom","textAlign":"center","digits":2,"position":{"bottom":10,"left":10}}}},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">phycanv <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select_branch</span>(<span class="st">&quot;E&quot;</span>, <span class="dt">cascade=</span><span class="ot">TRUE</span>)</code></pre></div>
<div id="htmlwidget-f3df5f78567e6d0ef082" style="width:288px;height:288px;" class="phylocanvas html-widget"></div>
<script type="application/json" data-for="htmlwidget-f3df5f78567e6d0ef082">{"x":{"tree":"(A:0.1,B:0.2,(C:0.3,D:0.4)E:0.5)F;","treetype":"rectangular","nodesize":30,"textsize":30,"linewidth":3,"showlabels":true,"alignlabels":true,"nodestyles":null,"nodecollapses":null,"nodehighlights":null,"prunebranch":null,"selectbranch":{"E":[true]},"prunebranch.1":null,"config":{"history":false,"contextMenu":true,"scalebar":{"active":false,"width":100,"height":20,"fillStyle":"black","strokeStyle":"black","lineWidth":1,"fontFamily":"Sans-serif","fontSize":16,"textBaseline":"bottom","textAlign":"center","digits":2,"position":{"bottom":10,"left":10}}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="highlight-nodes" class="section level2">
<h2>Highlight Nodes</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">phycanv <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">highlight_node</span>(<span class="st">&quot;B&quot;</span>)</code></pre></div>
<div id="htmlwidget-83114796ea3f09f05e8d" style="width:288px;height:288px;" class="phylocanvas html-widget"></div>
<script type="application/json" data-for="htmlwidget-83114796ea3f09f05e8d">{"x":{"tree":"(A:0.1,B:0.2,(C:0.3,D:0.4)E:0.5)F;","treetype":"rectangular","nodesize":30,"textsize":30,"linewidth":3,"showlabels":true,"alignlabels":true,"nodestyles":null,"nodecollapses":null,"nodehighlights":{"B":[true]},"prunebranch":null,"selectbranch":null,"prunebranch.1":null,"config":{"history":false,"contextMenu":true,"scalebar":{"active":false,"width":100,"height":20,"fillStyle":"black","strokeStyle":"black","lineWidth":1,"fontFamily":"Sans-serif","fontSize":16,"textBaseline":"bottom","textAlign":"center","digits":2,"position":{"bottom":10,"left":10}}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="use-plugins" class="section level2">
<h2>Use Plugins</h2>
<p>Phylocanvas has a nubmer of different plugins that extend the basic tree. These include pluings ofr <a href="https://github.com/phylocanvas/phylocanvas-plugin-metadata">metadata</a>, <a href="https://github.com/phylocanvas/phylocanvas-plugin-scalebar">scale bars</a>, <a href="https://github.com/phylocanvas/phylocanvas-plugin-export-svg">svg export</a>, <a href="https://github.com/phylocanvas/phylocanvas-plugin-context-menu">context menu on the mouse</a>, and <a href="https://github.com/phylocanvas/phylocanvas-plugin-history">history</a>. We will try to add as many as reasonable. Currently this htmlwidget sis based on the <a href="https://github.com/phylocanvas/phylocanvas-quickstart">phylocanvas-quickstart</a> so we can activate the history, context, scale, and metadata features.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Note the scalebar is active</span>
<span class="kw">phylocanvas</span>(<span class="st">&quot;(A:0.1,B:0.2,(C:0.3,D:0.4)E:0.5)F;&quot;</span>, <span class="dt">showscalebar =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div id="htmlwidget-46c6e52043dda6500747" style="width:288px;height:288px;" class="phylocanvas html-widget"></div>
<script type="application/json" data-for="htmlwidget-46c6e52043dda6500747">{"x":{"tree":"(A:0.1,B:0.2,(C:0.3,D:0.4)E:0.5)F;","treetype":"rectangular","nodesize":30,"textsize":30,"linewidth":3,"showlabels":true,"alignlabels":false,"nodestyles":null,"nodecollapses":null,"nodehighlights":null,"prunebranch":null,"selectbranch":null,"prunebranch.1":null,"config":{"history":false,"contextMenu":true,"scalebar":{"active":true,"width":100,"height":20,"fillStyle":"black","strokeStyle":"black","lineWidth":1,"fontFamily":"Sans-serif","fontSize":16,"textBaseline":"bottom","textAlign":"center","digits":2,"position":{"bottom":10,"left":10}}}},"evals":[],"jsHooks":[]}</script>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
